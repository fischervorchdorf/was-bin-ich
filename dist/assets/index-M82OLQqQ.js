var H_=Object.defineProperty;var V_=(t,e,n)=>e in t?H_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pt=(t,e,n)=>V_(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var yk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x5={exports:{}},Tf={},S5={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),W_=Symbol.for("react.portal"),$_=Symbol.for("react.fragment"),J_=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),Y_=Symbol.for("react.provider"),j_=Symbol.for("react.context"),X_=Symbol.for("react.forward_ref"),Z_=Symbol.for("react.suspense"),Q_=Symbol.for("react.memo"),ex=Symbol.for("react.lazy"),E0=Symbol.iterator;function tx(t){return t===null||typeof t!="object"?null:(t=E0&&t[E0]||t["@@iterator"],typeof t=="function"?t:null)}var A5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N5=Object.assign,C5={};function za(t,e,n){this.props=t,this.context=e,this.refs=C5,this.updater=n||A5}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function E5(){}E5.prototype=za.prototype;function Dp(t,e,n){this.props=t,this.context=e,this.refs=C5,this.updater=n||A5}var Up=Dp.prototype=new E5;Up.constructor=Dp;N5(Up,za.prototype);Up.isPureReactComponent=!0;var T0=Array.isArray,T5=Object.prototype.hasOwnProperty,Bp={current:null},b5={key:!0,ref:!0,__self:!0,__source:!0};function I5(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)T5.call(e,r)&&!b5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:pu,type:t,key:o,ref:s,props:i,_owner:Bp.current}}function nx(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function rx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var b0=/\/+/g;function Td(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rx(""+t.key):e.toString(36)}function bc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case pu:case W_:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Td(s,0):r,T0(i)?(n="",t!=null&&(n=t.replace(b0,"$&/")+"/"),bc(i,e,n,"",function(u){return u})):i!=null&&(qp(i)&&(i=nx(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(b0,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",T0(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Td(o,a);s+=bc(o,e,n,l,i)}else if(l=tx(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Td(o,a++),s+=bc(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function nc(t,e,n){if(t==null)return t;var r=[],i=0;return bc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ix(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},Ic={transition:null},ox={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:Bp};function k5(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:nc,forEach:function(t,e,n){nc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nc(t,function(){e++}),e},toArray:function(t){return nc(t,function(e){return e})||[]},only:function(t){if(!qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mt.Component=za;mt.Fragment=$_;mt.Profiler=K_;mt.PureComponent=Dp;mt.StrictMode=J_;mt.Suspense=Z_;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ox;mt.act=k5;mt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=N5({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Bp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)T5.call(e,l)&&!b5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pu,type:t.type,key:i,ref:o,props:r,_owner:s}};mt.createContext=function(t){return t={$$typeof:j_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y_,_context:t},t.Consumer=t};mt.createElement=I5;mt.createFactory=function(t){var e=I5.bind(null,t);return e.type=t,e};mt.createRef=function(){return{current:null}};mt.forwardRef=function(t){return{$$typeof:X_,render:t}};mt.isValidElement=qp;mt.lazy=function(t){return{$$typeof:ex,_payload:{_status:-1,_result:t},_init:ix}};mt.memo=function(t,e){return{$$typeof:Q_,type:t,compare:e===void 0?null:e}};mt.startTransition=function(t){var e=Ic.transition;Ic.transition={};try{t()}finally{Ic.transition=e}};mt.unstable_act=k5;mt.useCallback=function(t,e){return or.current.useCallback(t,e)};mt.useContext=function(t){return or.current.useContext(t)};mt.useDebugValue=function(){};mt.useDeferredValue=function(t){return or.current.useDeferredValue(t)};mt.useEffect=function(t,e){return or.current.useEffect(t,e)};mt.useId=function(){return or.current.useId()};mt.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};mt.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};mt.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};mt.useMemo=function(t,e){return or.current.useMemo(t,e)};mt.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};mt.useRef=function(t){return or.current.useRef(t)};mt.useState=function(t){return or.current.useState(t)};mt.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};mt.useTransition=function(){return or.current.useTransition()};mt.version="18.3.1";S5.exports=mt;var dn=S5.exports;const sx=G_(dn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=dn,lx=Symbol.for("react.element"),ux=Symbol.for("react.fragment"),cx=Object.prototype.hasOwnProperty,fx=ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dx={key:!0,ref:!0,__self:!0,__source:!0};function P5(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cx.call(e,r)&&!dx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lx,type:t,key:o,ref:s,props:i,_owner:fx.current}}Tf.Fragment=ux;Tf.jsx=P5;Tf.jsxs=P5;x5.exports=Tf;var M=x5.exports,Sh={},L5={exports:{}},kr={},R5={exports:{}},M5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,se){var ve=X.length;X.push(se);e:for(;0<ve;){var me=ve-1>>>1,I=X[me];if(0<i(I,se))X[me]=se,X[ve]=I,ve=me;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var se=X[0],ve=X.pop();if(ve!==se){X[0]=ve;e:for(var me=0,I=X.length,V=I>>>1;me<V;){var $=2*(me+1)-1,ee=X[$],ne=$+1,ae=X[ne];if(0>i(ee,ve))ne<I&&0>i(ae,ee)?(X[me]=ae,X[ne]=ve,me=ne):(X[me]=ee,X[$]=ve,me=$);else if(ne<I&&0>i(ae,ve))X[me]=ae,X[ne]=ve,me=ne;else break e}}return se}function i(X,se){var ve=X.sortIndex-se.sortIndex;return ve!==0?ve:X.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,g=null,v=3,m=!1,S=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(X){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=X)r(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(u)}}function k(X){if(N=!1,C(X),!S)if(n(l)!==null)S=!0,fe(W);else{var se=n(u);se!==null&&de(k,se.startTime-X)}}function W(X,se){S=!1,N&&(N=!1,_(G),G=-1),m=!0;var ve=v;try{for(C(se),g=n(l);g!==null&&(!(g.expirationTime>se)||X&&!P());){var me=g.callback;if(typeof me=="function"){g.callback=null,v=g.priorityLevel;var I=me(g.expirationTime<=se);se=t.unstable_now(),typeof I=="function"?g.callback=I:g===n(l)&&r(l),C(se)}else r(l);g=n(l)}if(g!==null)var V=!0;else{var $=n(u);$!==null&&de(k,$.startTime-se),V=!1}return V}finally{g=null,v=ve,m=!1}}var Q=!1,J=null,G=-1,B=5,K=-1;function P(){return!(t.unstable_now()-K<B)}function D(){if(J!==null){var X=t.unstable_now();K=X;var se=!0;try{se=J(!0,X)}finally{se?Y():(Q=!1,J=null)}}else Q=!1}var Y;if(typeof A=="function")Y=function(){A(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ce=j.port2;j.port1.onmessage=D,Y=function(){ce.postMessage(null)}}else Y=function(){R(D,0)};function fe(X){J=X,Q||(Q=!0,Y())}function de(X,se){G=R(function(){X(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){S||m||(S=!0,fe(W))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var ve=v;v=se;try{return X()}finally{v=ve}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ve=v;v=X;try{return se()}finally{v=ve}},t.unstable_scheduleCallback=function(X,se,ve){var me=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?me+ve:me):ve=me,X){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ve+I,X={id:h++,callback:se,priorityLevel:X,startTime:ve,expirationTime:I,sortIndex:-1},ve>me?(X.sortIndex=ve,e(u,X),n(l)===null&&X===n(u)&&(N?(_(G),G=-1):N=!0,de(k,ve-me))):(X.sortIndex=I,e(l,X),S||m||(S=!0,fe(W))),X},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(X){var se=v;return function(){var ve=v;v=se;try{return X.apply(this,arguments)}finally{v=ve}}}})(M5);R5.exports=M5;var hx=R5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=dn,Ir=hx;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F5=new Set,Yl={};function Us(t,e){Ma(t,e),Ma(t+"Capture",e)}function Ma(t,e){for(Yl[t]=e,t=0;t<e.length;t++)F5.add(e[t])}var oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=Object.prototype.hasOwnProperty,mx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I0={},k0={};function gx(t){return Ah.call(k0,t)?!0:Ah.call(I0,t)?!1:mx.test(t)?k0[t]=!0:(I0[t]=!0,!1)}function vx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yx(t,e,n,r){if(e===null||typeof e>"u"||vx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zn[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zn[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zn[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zn[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zn[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zn[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zn[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zn[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zn[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Op=/[\-:]([a-z])/g;function zp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Op,zp);zn[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Op,zp);zn[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Op,zp);zn[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zn[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});zn.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zn[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hp(t,e,n,r){var i=zn.hasOwnProperty(e)?zn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yx(e,n,i,r)&&(n=null),r||i===null?gx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var co=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),aa=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),Vp=Symbol.for("react.strict_mode"),Nh=Symbol.for("react.profiler"),D5=Symbol.for("react.provider"),U5=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),Wp=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),B5=Symbol.for("react.offscreen"),P0=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=P0&&t[P0]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,bd;function Rl(t){if(bd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bd=e&&e[1]||""}return`
`+bd+t}var Id=!1;function kd(t,e){if(!t||Id)return"";Id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Id=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function wx(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=kd(t.type,!1),t;case 11:return t=kd(t.type.render,!1),t;case 1:return t=kd(t.type,!0),t;default:return""}}function Th(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case la:return"Fragment";case aa:return"Portal";case Nh:return"Profiler";case Vp:return"StrictMode";case Ch:return"Suspense";case Eh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U5:return(t.displayName||"Context")+".Consumer";case D5:return(t._context.displayName||"Context")+".Provider";case Gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wp:return e=t.displayName||null,e!==null?e:Th(t.type)||"Memo";case Ro:e=t._payload,t=t._init;try{return Th(t(e))}catch{}}return null}function _x(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Th(e);case 8:return e===Vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function q5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xx(t){var e=q5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ic(t){t._valueTracker||(t._valueTracker=xx(t))}function O5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bh(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function L0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z5(t,e){e=e.checked,e!=null&&Hp(t,"checked",e,!1)}function Ih(t,e){z5(t,e);var n=Yo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kh(t,e.type,n):e.hasOwnProperty("defaultValue")&&kh(t,e.type,Yo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kh(t,e,n){(e!=="number"||Kc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ml=Array.isArray;function xa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ee(92));if(Ml(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yo(n)}}function H5(t,e){var n=Yo(e.value),r=Yo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function F0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oc,G5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oc=oc||document.createElement("div"),oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sx=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(t){Sx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ul[e]=Ul[t]})});function W5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ul.hasOwnProperty(t)&&Ul[t]?(""+e).trim():e+"px"}function $5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=W5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ax=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rh(t,e){if(e){if(Ax[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function Mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=null;function $p(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dh=null,Sa=null,Aa=null;function D0(t){if(t=vu(t)){if(typeof Dh!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=Lf(e),Dh(t.stateNode,t.type,e))}}function J5(t){Sa?Aa?Aa.push(t):Aa=[t]:Sa=t}function K5(){if(Sa){var t=Sa,e=Aa;if(Aa=Sa=null,D0(t),e)for(t=0;t<e.length;t++)D0(e[t])}}function Y5(t,e){return t(e)}function j5(){}var Pd=!1;function X5(t,e,n){if(Pd)return t(e,n);Pd=!0;try{return Y5(t,e,n)}finally{Pd=!1,(Sa!==null||Aa!==null)&&(j5(),K5())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=Lf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ee(231,e,typeof n));return n}var Uh=!1;if(oo)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Uh=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Uh=!1}function Nx(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Bl=!1,Yc=null,jc=!1,Bh=null,Cx={onError:function(t){Bl=!0,Yc=t}};function Ex(t,e,n,r,i,o,s,a,l){Bl=!1,Yc=null,Nx.apply(Cx,arguments)}function Tx(t,e,n,r,i,o,s,a,l){if(Ex.apply(this,arguments),Bl){if(Bl){var u=Yc;Bl=!1,Yc=null}else throw Error(Ee(198));jc||(jc=!0,Bh=u)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Z5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U0(t){if(Bs(t)!==t)throw Error(Ee(188))}function bx(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return U0(i),t;if(o===r)return U0(i),e;o=o.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?t:e}function Q5(t){return t=bx(t),t!==null?ev(t):null}function ev(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ev(t);if(e!==null)return e;t=t.sibling}return null}var tv=Ir.unstable_scheduleCallback,B0=Ir.unstable_cancelCallback,Ix=Ir.unstable_shouldYield,kx=Ir.unstable_requestPaint,hn=Ir.unstable_now,Px=Ir.unstable_getCurrentPriorityLevel,Jp=Ir.unstable_ImmediatePriority,nv=Ir.unstable_UserBlockingPriority,Xc=Ir.unstable_NormalPriority,Lx=Ir.unstable_LowPriority,rv=Ir.unstable_IdlePriority,bf=null,ki=null;function Rx(t){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot(bf,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:Dx,Mx=Math.log,Fx=Math.LN2;function Dx(t){return t>>>=0,t===0?32:31-(Mx(t)/Fx|0)|0}var sc=64,ac=4194304;function Fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fl(a):(o&=s,o!==0&&(r=Fl(o)))}else s=n&~i,s!==0?r=Fl(s):o!==0&&(r=Fl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-li(e),i=1<<n,r|=t[n],e&=~i;return r}function Ux(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-li(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Ux(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function qh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iv(){var t=sc;return sc<<=1,!(sc&4194240)&&(sc=64),t}function Ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=n}function qx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-li(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-li(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Rt=0;function ov(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sv,Yp,av,lv,uv,Oh=!1,lc=[],zo=null,Ho=null,Vo=null,Zl=new Map,Ql=new Map,Fo=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":Zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function Nl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=vu(e),e!==null&&Yp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zx(t,e,n,r,i){switch(e){case"focusin":return zo=Nl(zo,t,e,n,r,i),!0;case"dragenter":return Ho=Nl(Ho,t,e,n,r,i),!0;case"mouseover":return Vo=Nl(Vo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Zl.set(o,Nl(Zl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ql.set(o,Nl(Ql.get(o)||null,t,e,n,r,i)),!0}return!1}function cv(t){var e=Ns(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=Z5(n),e!==null){t.blockedOn=e,uv(t.priority,function(){av(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fh=r,n.target.dispatchEvent(r),Fh=null}else return e=vu(n),e!==null&&Yp(e),t.blockedOn=n,!1;e.shift()}return!0}function O0(t,e,n){kc(t)&&n.delete(e)}function Hx(){Oh=!1,zo!==null&&kc(zo)&&(zo=null),Ho!==null&&kc(Ho)&&(Ho=null),Vo!==null&&kc(Vo)&&(Vo=null),Zl.forEach(O0),Ql.forEach(O0)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Oh||(Oh=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,Hx)))}function eu(t){function e(i){return Cl(i,t)}if(0<lc.length){Cl(lc[0],t);for(var n=1;n<lc.length;n++){var r=lc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zo!==null&&Cl(zo,t),Ho!==null&&Cl(Ho,t),Vo!==null&&Cl(Vo,t),Zl.forEach(e),Ql.forEach(e),n=0;n<Fo.length;n++)r=Fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fo.length&&(n=Fo[0],n.blockedOn===null);)cv(n),n.blockedOn===null&&Fo.shift()}var Na=co.ReactCurrentBatchConfig,Qc=!0;function Vx(t,e,n,r){var i=Rt,o=Na.transition;Na.transition=null;try{Rt=1,jp(t,e,n,r)}finally{Rt=i,Na.transition=o}}function Gx(t,e,n,r){var i=Rt,o=Na.transition;Na.transition=null;try{Rt=4,jp(t,e,n,r)}finally{Rt=i,Na.transition=o}}function jp(t,e,n,r){if(Qc){var i=zh(t,e,n,r);if(i===null)Hd(t,e,r,ef,n),q0(t,r);else if(zx(i,t,e,n,r))r.stopPropagation();else if(q0(t,r),e&4&&-1<Ox.indexOf(t)){for(;i!==null;){var o=vu(i);if(o!==null&&sv(o),o=zh(t,e,n,r),o===null&&Hd(t,e,r,ef,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hd(t,e,r,null,n)}}var ef=null;function zh(t,e,n,r){if(ef=null,t=$p(r),t=Ns(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Z5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ef=t,null}function fv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Px()){case Jp:return 1;case nv:return 4;case Xc:case Lx:return 16;case rv:return 536870912;default:return 16}default:return 16}}var Uo=null,Xp=null,Pc=null;function dv(){if(Pc)return Pc;var t,e=Xp,n=e.length,r,i="value"in Uo?Uo.value:Uo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Pc=i.slice(t,1<r?1-r:void 0)}function Lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function z0(){return!1}function Pr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uc:z0,this.isPropagationStopped=z0,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zp=Pr(Ha),gu=Qt({},Ha,{view:0,detail:0}),Wx=Pr(gu),Rd,Md,El,If=Qt({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Rd=t.screenX-El.screenX,Md=t.screenY-El.screenY):Md=Rd=0,El=t),Rd)},movementY:function(t){return"movementY"in t?t.movementY:Md}}),H0=Pr(If),$x=Qt({},If,{dataTransfer:0}),Jx=Pr($x),Kx=Qt({},gu,{relatedTarget:0}),Fd=Pr(Kx),Yx=Qt({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=Pr(Yx),Xx=Qt({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zx=Pr(Xx),Qx=Qt({},Ha,{data:0}),V0=Pr(Qx),eS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nS[t])?!!e[t]:!1}function Qp(){return rS}var iS=Qt({},gu,{key:function(t){if(t.key){var e=eS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qp,charCode:function(t){return t.type==="keypress"?Lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oS=Pr(iS),sS=Qt({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=Pr(sS),aS=Qt({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qp}),lS=Pr(aS),uS=Qt({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),cS=Pr(uS),fS=Qt({},If,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dS=Pr(fS),hS=[9,13,27,32],em=oo&&"CompositionEvent"in window,ql=null;oo&&"documentMode"in document&&(ql=document.documentMode);var pS=oo&&"TextEvent"in window&&!ql,hv=oo&&(!em||ql&&8<ql&&11>=ql),W0=" ",$0=!1;function pv(t,e){switch(t){case"keyup":return hS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ua=!1;function mS(t,e){switch(t){case"compositionend":return mv(e);case"keypress":return e.which!==32?null:($0=!0,W0);case"textInput":return t=e.data,t===W0&&$0?null:t;default:return null}}function gS(t,e){if(ua)return t==="compositionend"||!em&&pv(t,e)?(t=dv(),Pc=Xp=Uo=null,ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hv&&e.locale!=="ko"?null:e.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vS[t.type]:e==="textarea"}function gv(t,e,n,r){J5(r),e=tf(e,"onChange"),0<e.length&&(n=new Zp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ol=null,tu=null;function yS(t){Tv(t,0)}function kf(t){var e=da(t);if(O5(e))return t}function wS(t,e){if(t==="change")return e}var vv=!1;if(oo){var Dd;if(oo){var Ud="oninput"in document;if(!Ud){var K0=document.createElement("div");K0.setAttribute("oninput","return;"),Ud=typeof K0.oninput=="function"}Dd=Ud}else Dd=!1;vv=Dd&&(!document.documentMode||9<document.documentMode)}function Y0(){Ol&&(Ol.detachEvent("onpropertychange",yv),tu=Ol=null)}function yv(t){if(t.propertyName==="value"&&kf(tu)){var e=[];gv(e,tu,t,$p(t)),X5(yS,e)}}function _S(t,e,n){t==="focusin"?(Y0(),Ol=e,tu=n,Ol.attachEvent("onpropertychange",yv)):t==="focusout"&&Y0()}function xS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kf(tu)}function SS(t,e){if(t==="click")return kf(e)}function AS(t,e){if(t==="input"||t==="change")return kf(e)}function NS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ci=typeof Object.is=="function"?Object.is:NS;function nu(t,e){if(ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ah.call(e,i)||!ci(t[i],e[i]))return!1}return!0}function j0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X0(t,e){var n=j0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j0(n)}}function wv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _v(){for(var t=window,e=Kc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Kc(t.document)}return e}function tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CS(t){var e=_v(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wv(n.ownerDocument.documentElement,n)){if(r!==null&&tm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=X0(n,o);var s=X0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ES=oo&&"documentMode"in document&&11>=document.documentMode,ca=null,Hh=null,zl=null,Vh=!1;function Z0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vh||ca==null||ca!==Kc(r)||(r=ca,"selectionStart"in r&&tm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zl&&nu(zl,r)||(zl=r,r=tf(Hh,"onSelect"),0<r.length&&(e=new Zp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ca)))}function cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fa={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Bd={},xv={};oo&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Pf(t){if(Bd[t])return Bd[t];if(!fa[t])return t;var e=fa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xv)return Bd[t]=e[n];return t}var Sv=Pf("animationend"),Av=Pf("animationiteration"),Nv=Pf("animationstart"),Cv=Pf("transitionend"),Ev=new Map,Q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(t,e){Ev.set(t,e),Us(e,[t])}for(var qd=0;qd<Q0.length;qd++){var Od=Q0[qd],TS=Od.toLowerCase(),bS=Od[0].toUpperCase()+Od.slice(1);Zo(TS,"on"+bS)}Zo(Sv,"onAnimationEnd");Zo(Av,"onAnimationIteration");Zo(Nv,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(Cv,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dl));function e1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tx(r,e,void 0,t),t.currentTarget=null}function Tv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;e1(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;e1(i,a,u),o=l}}}if(jc)throw t=Bh,jc=!1,Bh=null,t}function Ht(t,e){var n=e[Kh];n===void 0&&(n=e[Kh]=new Set);var r=t+"__bubble";n.has(r)||(bv(e,t,2,!1),n.add(r))}function zd(t,e,n){var r=0;e&&(r|=4),bv(n,t,r,e)}var fc="_reactListening"+Math.random().toString(36).slice(2);function ru(t){if(!t[fc]){t[fc]=!0,F5.forEach(function(n){n!=="selectionchange"&&(IS.has(n)||zd(n,!1,t),zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fc]||(e[fc]=!0,zd("selectionchange",!1,e))}}function bv(t,e,n,r){switch(fv(e)){case 1:var i=Vx;break;case 4:i=Gx;break;default:i=jp}n=i.bind(null,e,n,t),i=void 0,!Uh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ns(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}X5(function(){var u=o,h=$p(n),g=[];e:{var v=Ev.get(t);if(v!==void 0){var m=Zp,S=t;switch(t){case"keypress":if(Lc(n)===0)break e;case"keydown":case"keyup":m=oS;break;case"focusin":S="focus",m=Fd;break;case"focusout":S="blur",m=Fd;break;case"beforeblur":case"afterblur":m=Fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Jx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lS;break;case Sv:case Av:case Nv:m=jx;break;case Cv:m=cS;break;case"scroll":m=Wx;break;case"wheel":m=dS;break;case"copy":case"cut":case"paste":m=Zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=G0}var N=(e&4)!==0,R=!N&&t==="scroll",_=N?v!==null?v+"Capture":null:v;N=[];for(var A=u,C;A!==null;){C=A;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,_!==null&&(k=Xl(A,_),k!=null&&N.push(iu(A,k,C)))),R)break;A=A.return}0<N.length&&(v=new m(v,S,null,n,h),g.push({event:v,listeners:N}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",v&&n!==Fh&&(S=n.relatedTarget||n.fromElement)&&(Ns(S)||S[so]))break e;if((m||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?Ns(S):null,S!==null&&(R=Bs(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(N=H0,k="onMouseLeave",_="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(N=G0,k="onPointerLeave",_="onPointerEnter",A="pointer"),R=m==null?v:da(m),C=S==null?v:da(S),v=new N(k,A+"leave",m,n,h),v.target=R,v.relatedTarget=C,k=null,Ns(h)===u&&(N=new N(_,A+"enter",S,n,h),N.target=C,N.relatedTarget=R,k=N),R=k,m&&S)t:{for(N=m,_=S,A=0,C=N;C;C=ta(C))A++;for(C=0,k=_;k;k=ta(k))C++;for(;0<A-C;)N=ta(N),A--;for(;0<C-A;)_=ta(_),C--;for(;A--;){if(N===_||_!==null&&N===_.alternate)break t;N=ta(N),_=ta(_)}N=null}else N=null;m!==null&&t1(g,v,m,N,!1),S!==null&&R!==null&&t1(g,R,S,N,!0)}}e:{if(v=u?da(u):window,m=v.nodeName&&v.nodeName.toLowerCase(),m==="select"||m==="input"&&v.type==="file")var W=wS;else if(J0(v))if(vv)W=AS;else{W=xS;var Q=_S}else(m=v.nodeName)&&m.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(W=SS);if(W&&(W=W(t,u))){gv(g,W,n,h);break e}Q&&Q(t,v,u),t==="focusout"&&(Q=v._wrapperState)&&Q.controlled&&v.type==="number"&&kh(v,"number",v.value)}switch(Q=u?da(u):window,t){case"focusin":(J0(Q)||Q.contentEditable==="true")&&(ca=Q,Hh=u,zl=null);break;case"focusout":zl=Hh=ca=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,Z0(g,n,h);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Z0(g,n,h)}var J;if(em)e:{switch(t){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else ua?pv(t,n)&&(G="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(hv&&n.locale!=="ko"&&(ua||G!=="onCompositionStart"?G==="onCompositionEnd"&&ua&&(J=dv()):(Uo=h,Xp="value"in Uo?Uo.value:Uo.textContent,ua=!0)),Q=tf(u,G),0<Q.length&&(G=new V0(G,t,null,n,h),g.push({event:G,listeners:Q}),J?G.data=J:(J=mv(n),J!==null&&(G.data=J)))),(J=pS?mS(t,n):gS(t,n))&&(u=tf(u,"onBeforeInput"),0<u.length&&(h=new V0("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:u}),h.data=J))}Tv(g,e)})}function iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xl(t,n),o!=null&&r.unshift(iu(t,o,i)),o=Xl(t,e),o!=null&&r.push(iu(t,o,i))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t1(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xl(n,o),l!=null&&s.unshift(iu(n,l,a))):i||(l=Xl(n,o),l!=null&&s.push(iu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var kS=/\r\n?/g,PS=/\u0000|\uFFFD/g;function n1(t){return(typeof t=="string"?t:""+t).replace(kS,`
`).replace(PS,"")}function dc(t,e,n){if(e=n1(e),n1(t)!==e&&n)throw Error(Ee(425))}function nf(){}var Gh=null,Wh=null;function $h(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(t){return r1.resolve(null).then(t).catch(MS)}:Jh;function MS(t){setTimeout(function(){throw t})}function Vd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),eu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);eu(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Va=Math.random().toString(36).slice(2),bi="__reactFiber$"+Va,ou="__reactProps$"+Va,so="__reactContainer$"+Va,Kh="__reactEvents$"+Va,FS="__reactListeners$"+Va,DS="__reactHandles$"+Va;function Ns(t){var e=t[bi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[so]||n[bi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i1(t);t!==null;){if(n=t[bi])return n;t=i1(t)}return e}t=n,n=t.parentNode}return null}function vu(t){return t=t[bi]||t[so],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function Lf(t){return t[ou]||null}var Yh=[],ha=-1;function Qo(t){return{current:t}}function Wt(t){0>ha||(t.current=Yh[ha],Yh[ha]=null,ha--)}function Ot(t,e){ha++,Yh[ha]=t.current,t.current=e}var jo={},Zn=Qo(jo),fr=Qo(!1),ks=jo;function Fa(t,e){var n=t.type.contextTypes;if(!n)return jo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dr(t){return t=t.childContextTypes,t!=null}function rf(){Wt(fr),Wt(Zn)}function o1(t,e,n){if(Zn.current!==jo)throw Error(Ee(168));Ot(Zn,e),Ot(fr,n)}function Iv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ee(108,_x(t)||"Unknown",i));return Qt({},n,r)}function of(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jo,ks=Zn.current,Ot(Zn,t),Ot(fr,fr.current),!0}function s1(t,e,n){var r=t.stateNode;if(!r)throw Error(Ee(169));n?(t=Iv(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,Wt(fr),Wt(Zn),Ot(Zn,t)):Wt(fr),Ot(fr,n)}var eo=null,Rf=!1,Gd=!1;function kv(t){eo===null?eo=[t]:eo.push(t)}function US(t){Rf=!0,kv(t)}function es(){if(!Gd&&eo!==null){Gd=!0;var t=0,e=Rt;try{var n=eo;for(Rt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}eo=null,Rf=!1}catch(i){throw eo!==null&&(eo=eo.slice(t+1)),tv(Jp,es),i}finally{Rt=e,Gd=!1}}return null}var pa=[],ma=0,sf=null,af=0,zr=[],Hr=0,Ps=null,no=1,ro="";function _s(t,e){pa[ma++]=af,pa[ma++]=sf,sf=t,af=e}function Pv(t,e,n){zr[Hr++]=no,zr[Hr++]=ro,zr[Hr++]=Ps,Ps=t;var r=no;t=ro;var i=32-li(r)-1;r&=~(1<<i),n+=1;var o=32-li(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,no=1<<32-li(e)+i|n<<i|r,ro=o+t}else no=1<<o|n<<i|r,ro=t}function nm(t){t.return!==null&&(_s(t,1),Pv(t,1,0))}function rm(t){for(;t===sf;)sf=pa[--ma],pa[ma]=null,af=pa[--ma],pa[ma]=null;for(;t===Ps;)Ps=zr[--Hr],zr[Hr]=null,ro=zr[--Hr],zr[Hr]=null,no=zr[--Hr],zr[Hr]=null}var br=null,Er=null,Yt=!1,ai=null;function Lv(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function a1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,br=t,Er=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,br=t,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ps!==null?{id:no,overflow:ro}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,br=t,Er=null,!0):!1;default:return!1}}function jh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xh(t){if(Yt){var e=Er;if(e){var n=e;if(!a1(t,e)){if(jh(t))throw Error(Ee(418));e=Go(n.nextSibling);var r=br;e&&a1(t,e)?Lv(r,n):(t.flags=t.flags&-4097|2,Yt=!1,br=t)}}else{if(jh(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,Yt=!1,br=t}}}function l1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function hc(t){if(t!==br)return!1;if(!Yt)return l1(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$h(t.type,t.memoizedProps)),e&&(e=Er)){if(jh(t))throw Rv(),Error(Ee(418));for(;e;)Lv(t,e),e=Go(e.nextSibling)}if(l1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Er=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Er=null}}else Er=br?Go(t.stateNode.nextSibling):null;return!0}function Rv(){for(var t=Er;t;)t=Go(t.nextSibling)}function Da(){Er=br=null,Yt=!1}function im(t){ai===null?ai=[t]:ai.push(t)}var BS=co.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function u1(t){var e=t._init;return e(t._payload)}function Mv(t){function e(_,A){if(t){var C=_.deletions;C===null?(_.deletions=[A],_.flags|=16):C.push(A)}}function n(_,A){if(!t)return null;for(;A!==null;)e(_,A),A=A.sibling;return null}function r(_,A){for(_=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function i(_,A){return _=Ko(_,A),_.index=0,_.sibling=null,_}function o(_,A,C){return _.index=C,t?(C=_.alternate,C!==null?(C=C.index,C<A?(_.flags|=2,A):C):(_.flags|=2,A)):(_.flags|=1048576,A)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,A,C,k){return A===null||A.tag!==6?(A=Xd(C,_.mode,k),A.return=_,A):(A=i(A,C),A.return=_,A)}function l(_,A,C,k){var W=C.type;return W===la?h(_,A,C.props.children,k,C.key):A!==null&&(A.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ro&&u1(W)===A.type)?(k=i(A,C.props),k.ref=Tl(_,A,C),k.return=_,k):(k=qc(C.type,C.key,C.props,null,_.mode,k),k.ref=Tl(_,A,C),k.return=_,k)}function u(_,A,C,k){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=Zd(C,_.mode,k),A.return=_,A):(A=i(A,C.children||[]),A.return=_,A)}function h(_,A,C,k,W){return A===null||A.tag!==7?(A=bs(C,_.mode,k,W),A.return=_,A):(A=i(A,C),A.return=_,A)}function g(_,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Xd(""+A,_.mode,C),A.return=_,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case rc:return C=qc(A.type,A.key,A.props,null,_.mode,C),C.ref=Tl(_,null,A),C.return=_,C;case aa:return A=Zd(A,_.mode,C),A.return=_,A;case Ro:var k=A._init;return g(_,k(A._payload),C)}if(Ml(A)||Sl(A))return A=bs(A,_.mode,C,null),A.return=_,A;pc(_,A)}return null}function v(_,A,C,k){var W=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return W!==null?null:a(_,A,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case rc:return C.key===W?l(_,A,C,k):null;case aa:return C.key===W?u(_,A,C,k):null;case Ro:return W=C._init,v(_,A,W(C._payload),k)}if(Ml(C)||Sl(C))return W!==null?null:h(_,A,C,k,null);pc(_,C)}return null}function m(_,A,C,k,W){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(C)||null,a(A,_,""+k,W);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rc:return _=_.get(k.key===null?C:k.key)||null,l(A,_,k,W);case aa:return _=_.get(k.key===null?C:k.key)||null,u(A,_,k,W);case Ro:var Q=k._init;return m(_,A,C,Q(k._payload),W)}if(Ml(k)||Sl(k))return _=_.get(C)||null,h(A,_,k,W,null);pc(A,k)}return null}function S(_,A,C,k){for(var W=null,Q=null,J=A,G=A=0,B=null;J!==null&&G<C.length;G++){J.index>G?(B=J,J=null):B=J.sibling;var K=v(_,J,C[G],k);if(K===null){J===null&&(J=B);break}t&&J&&K.alternate===null&&e(_,J),A=o(K,A,G),Q===null?W=K:Q.sibling=K,Q=K,J=B}if(G===C.length)return n(_,J),Yt&&_s(_,G),W;if(J===null){for(;G<C.length;G++)J=g(_,C[G],k),J!==null&&(A=o(J,A,G),Q===null?W=J:Q.sibling=J,Q=J);return Yt&&_s(_,G),W}for(J=r(_,J);G<C.length;G++)B=m(J,_,G,C[G],k),B!==null&&(t&&B.alternate!==null&&J.delete(B.key===null?G:B.key),A=o(B,A,G),Q===null?W=B:Q.sibling=B,Q=B);return t&&J.forEach(function(P){return e(_,P)}),Yt&&_s(_,G),W}function N(_,A,C,k){var W=Sl(C);if(typeof W!="function")throw Error(Ee(150));if(C=W.call(C),C==null)throw Error(Ee(151));for(var Q=W=null,J=A,G=A=0,B=null,K=C.next();J!==null&&!K.done;G++,K=C.next()){J.index>G?(B=J,J=null):B=J.sibling;var P=v(_,J,K.value,k);if(P===null){J===null&&(J=B);break}t&&J&&P.alternate===null&&e(_,J),A=o(P,A,G),Q===null?W=P:Q.sibling=P,Q=P,J=B}if(K.done)return n(_,J),Yt&&_s(_,G),W;if(J===null){for(;!K.done;G++,K=C.next())K=g(_,K.value,k),K!==null&&(A=o(K,A,G),Q===null?W=K:Q.sibling=K,Q=K);return Yt&&_s(_,G),W}for(J=r(_,J);!K.done;G++,K=C.next())K=m(J,_,G,K.value,k),K!==null&&(t&&K.alternate!==null&&J.delete(K.key===null?G:K.key),A=o(K,A,G),Q===null?W=K:Q.sibling=K,Q=K);return t&&J.forEach(function(D){return e(_,D)}),Yt&&_s(_,G),W}function R(_,A,C,k){if(typeof C=="object"&&C!==null&&C.type===la&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case rc:e:{for(var W=C.key,Q=A;Q!==null;){if(Q.key===W){if(W=C.type,W===la){if(Q.tag===7){n(_,Q.sibling),A=i(Q,C.props.children),A.return=_,_=A;break e}}else if(Q.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Ro&&u1(W)===Q.type){n(_,Q.sibling),A=i(Q,C.props),A.ref=Tl(_,Q,C),A.return=_,_=A;break e}n(_,Q);break}else e(_,Q);Q=Q.sibling}C.type===la?(A=bs(C.props.children,_.mode,k,C.key),A.return=_,_=A):(k=qc(C.type,C.key,C.props,null,_.mode,k),k.ref=Tl(_,A,C),k.return=_,_=k)}return s(_);case aa:e:{for(Q=C.key;A!==null;){if(A.key===Q)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){n(_,A.sibling),A=i(A,C.children||[]),A.return=_,_=A;break e}else{n(_,A);break}else e(_,A);A=A.sibling}A=Zd(C,_.mode,k),A.return=_,_=A}return s(_);case Ro:return Q=C._init,R(_,A,Q(C._payload),k)}if(Ml(C))return S(_,A,C,k);if(Sl(C))return N(_,A,C,k);pc(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,A!==null&&A.tag===6?(n(_,A.sibling),A=i(A,C),A.return=_,_=A):(n(_,A),A=Xd(C,_.mode,k),A.return=_,_=A),s(_)):n(_,A)}return R}var Ua=Mv(!0),Fv=Mv(!1),lf=Qo(null),uf=null,ga=null,om=null;function sm(){om=ga=uf=null}function am(t){var e=lf.current;Wt(lf),t._currentValue=e}function Zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ca(t,e){uf=t,om=ga=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(om!==t)if(t={context:t,memoizedValue:e,next:null},ga===null){if(uf===null)throw Error(Ee(308));ga=t,uf.dependencies={lanes:0,firstContext:t}}else ga=ga.next=t;return e}var Cs=null;function lm(t){Cs===null?Cs=[t]:Cs.push(t)}function Dv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ao(t,r)}function ao(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mo=!1;function um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function io(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ao(t,n)}return i=r.interleaved,i===null?(e.next=e,lm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ao(t,n)}function Rc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}function c1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cf(t,e,n,r){var i=t.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,h=u=l=null,a=o;do{var v=a.lane,m=a.eventTime;if((r&v)===v){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,N=a;switch(v=e,m=n,N.tag){case 1:if(S=N.payload,typeof S=="function"){g=S.call(m,g,v);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=N.payload,v=typeof S=="function"?S.call(m,g,v):S,v==null)break e;g=Qt({},g,v);break e;case 2:Mo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else m={eventTime:m,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=g):h=h.next=m,s|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(l=g),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Rs|=s,t.lanes=s,t.memoizedState=g}}function f1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ee(191,i));i.call(r)}}}var yu={},Pi=Qo(yu),su=Qo(yu),au=Qo(yu);function Es(t){if(t===yu)throw Error(Ee(174));return t}function cm(t,e){switch(Ot(au,e),Ot(su,t),Ot(Pi,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lh(e,t)}Wt(Pi),Ot(Pi,e)}function Ba(){Wt(Pi),Wt(su),Wt(au)}function Bv(t){Es(au.current);var e=Es(Pi.current),n=Lh(e,t.type);e!==n&&(Ot(su,t),Ot(Pi,n))}function fm(t){su.current===t&&(Wt(Pi),Wt(su))}var Xt=Qo(0);function ff(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wd=[];function dm(){for(var t=0;t<Wd.length;t++)Wd[t]._workInProgressVersionPrimary=null;Wd.length=0}var Mc=co.ReactCurrentDispatcher,$d=co.ReactCurrentBatchConfig,Ls=0,Zt=null,Tn=null,kn=null,df=!1,Hl=!1,lu=0,qS=0;function Gn(){throw Error(Ee(321))}function hm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ci(t[n],e[n]))return!1;return!0}function pm(t,e,n,r,i,o){if(Ls=o,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?VS:GS,t=n(r,i),Hl){o=0;do{if(Hl=!1,lu=0,25<=o)throw Error(Ee(301));o+=1,kn=Tn=null,e.updateQueue=null,Mc.current=WS,t=n(r,i)}while(Hl)}if(Mc.current=hf,e=Tn!==null&&Tn.next!==null,Ls=0,kn=Tn=Zt=null,df=!1,e)throw Error(Ee(300));return t}function mm(){var t=lu!==0;return lu=0,t}function Ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Zt.memoizedState=kn=t:kn=kn.next=t,kn}function Jr(){if(Tn===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=Tn.next;var e=kn===null?Zt.memoizedState:kn.next;if(e!==null)kn=e,Tn=t;else{if(t===null)throw Error(Ee(310));Tn=t,t={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},kn===null?Zt.memoizedState=kn=t:kn=kn.next=t}return kn}function uu(t,e){return typeof e=="function"?e(t):e}function Jd(t){var e=Jr(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var r=Tn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var h=u.lane;if((Ls&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var g={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=g,s=r):l=l.next=g,Zt.lanes|=h,Rs|=h}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,ci(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Zt.lanes|=o,Rs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kd(t){var e=Jr(),n=e.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ci(o,e.memoizedState)||(cr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function qv(){}function Ov(t,e){var n=Zt,r=Jr(),i=e(),o=!ci(r.memoizedState,i);if(o&&(r.memoizedState=i,cr=!0),r=r.queue,gm(Vv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,cu(9,Hv.bind(null,n,r,i,e),void 0,null),Ln===null)throw Error(Ee(349));Ls&30||zv(n,e,i)}return i}function zv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Hv(t,e,n,r){e.value=n,e.getSnapshot=r,Gv(e)&&Wv(t)}function Vv(t,e,n){return n(function(){Gv(e)&&Wv(t)})}function Gv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ci(t,n)}catch{return!0}}function Wv(t){var e=ao(t,1);e!==null&&ui(e,t,1,-1)}function d1(t){var e=Ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=HS.bind(null,Zt,t),[e.memoizedState,t]}function cu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $v(){return Jr().memoizedState}function Fc(t,e,n,r){var i=Ti();Zt.flags|=t,i.memoizedState=cu(1|e,n,void 0,r===void 0?null:r)}function Mf(t,e,n,r){var i=Jr();r=r===void 0?null:r;var o=void 0;if(Tn!==null){var s=Tn.memoizedState;if(o=s.destroy,r!==null&&hm(r,s.deps)){i.memoizedState=cu(e,n,o,r);return}}Zt.flags|=t,i.memoizedState=cu(1|e,n,o,r)}function h1(t,e){return Fc(8390656,8,t,e)}function gm(t,e){return Mf(2048,8,t,e)}function Jv(t,e){return Mf(4,2,t,e)}function Kv(t,e){return Mf(4,4,t,e)}function Yv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jv(t,e,n){return n=n!=null?n.concat([t]):null,Mf(4,4,Yv.bind(null,e,t),n)}function vm(){}function Xv(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zv(t,e){var n=Jr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qv(t,e,n){return Ls&21?(ci(n,e)||(n=iv(),Zt.lanes|=n,Rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function OS(t,e){var n=Rt;Rt=n!==0&&4>n?n:4,t(!0);var r=$d.transition;$d.transition={};try{t(!1),e()}finally{Rt=n,$d.transition=r}}function ey(){return Jr().memoizedState}function zS(t,e,n){var r=Jo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ty(t))ny(e,n);else if(n=Dv(t,e,n,r),n!==null){var i=ir();ui(n,t,r,i),ry(n,e,r)}}function HS(t,e,n){var r=Jo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ty(t))ny(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ci(a,s)){var l=e.interleaved;l===null?(i.next=i,lm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Dv(t,e,i,r),n!==null&&(i=ir(),ui(n,t,r,i),ry(n,e,r))}}function ty(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function ny(t,e){Hl=df=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ry(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}var hf={readContext:$r,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},VS={readContext:$r,useCallback:function(t,e){return Ti().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:h1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,Yv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=Ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ti();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zS.bind(null,Zt,t),[r.memoizedState,t]},useRef:function(t){var e=Ti();return t={current:t},e.memoizedState=t},useState:d1,useDebugValue:vm,useDeferredValue:function(t){return Ti().memoizedState=t},useTransition:function(){var t=d1(!1),e=t[0];return t=OS.bind(null,t[1]),Ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Zt,i=Ti();if(Yt){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=e(),Ln===null)throw Error(Ee(349));Ls&30||zv(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,h1(Vv.bind(null,r,o,t),[t]),r.flags|=2048,cu(9,Hv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ti(),e=Ln.identifierPrefix;if(Yt){var n=ro,r=no;n=(r&~(1<<32-li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GS={readContext:$r,useCallback:Xv,useContext:$r,useEffect:gm,useImperativeHandle:jv,useInsertionEffect:Jv,useLayoutEffect:Kv,useMemo:Zv,useReducer:Jd,useRef:$v,useState:function(){return Jd(uu)},useDebugValue:vm,useDeferredValue:function(t){var e=Jr();return Qv(e,Tn.memoizedState,t)},useTransition:function(){var t=Jd(uu)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:qv,useSyncExternalStore:Ov,useId:ey,unstable_isNewReconciler:!1},WS={readContext:$r,useCallback:Xv,useContext:$r,useEffect:gm,useImperativeHandle:jv,useInsertionEffect:Jv,useLayoutEffect:Kv,useMemo:Zv,useReducer:Kd,useRef:$v,useState:function(){return Kd(uu)},useDebugValue:vm,useDeferredValue:function(t){var e=Jr();return Tn===null?e.memoizedState=t:Qv(e,Tn.memoizedState,t)},useTransition:function(){var t=Kd(uu)[0],e=Jr().memoizedState;return[t,e]},useMutableSource:qv,useSyncExternalStore:Ov,useId:ey,unstable_isNewReconciler:!1};function oi(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ff={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ir(),i=Jo(t),o=io(r,i);o.payload=e,n!=null&&(o.callback=n),e=Wo(t,o,i),e!==null&&(ui(e,t,i,r),Rc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ir(),i=Jo(t),o=io(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Wo(t,o,i),e!==null&&(ui(e,t,i,r),Rc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ir(),r=Jo(t),i=io(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wo(t,i,r),e!==null&&(ui(e,t,r,n),Rc(e,t,r))}};function p1(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!nu(n,r)||!nu(i,o):!0}function iy(t,e,n){var r=!1,i=jo,o=e.contextType;return typeof o=="object"&&o!==null?o=$r(o):(i=dr(e)?ks:Zn.current,r=e.contextTypes,o=(r=r!=null)?Fa(t,i):jo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ff,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function m1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ff.enqueueReplaceState(e,e.state,null)}function ep(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},um(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$r(o):(o=dr(e)?ks:Zn.current,i.context=Fa(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Qh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ff.enqueueReplaceState(i,i.state,null),cf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qa(t,e){try{var n="",r=e;do n+=wx(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $S=typeof WeakMap=="function"?WeakMap:Map;function oy(t,e,n){n=io(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mf||(mf=!0,fp=r),tp(t,e)},n}function sy(t,e,n){n=io(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tp(t,e),typeof r!="function"&&($o===null?$o=new Set([this]):$o.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function g1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $S;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=s3.bind(null,t,e,n),e.then(t,t))}function v1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function y1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=io(-1,1),e.tag=2,Wo(n,e,1))),n.lanes|=1),t)}var JS=co.ReactCurrentOwner,cr=!1;function rr(t,e,n,r){e.child=t===null?Fv(e,null,n,r):Ua(e,t.child,n,r)}function w1(t,e,n,r,i){n=n.render;var o=e.ref;return Ca(e,i),r=pm(t,e,n,r,o,i),n=mm(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(Yt&&n&&nm(e),e.flags|=1,rr(t,e,r,i),e.child)}function _1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Cm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ay(t,e,o,r,i)):(t=qc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:nu,n(s,r)&&t.ref===e.ref)return lo(t,e,i)}return e.flags|=1,t=Ko(o,r),t.ref=e.ref,t.return=e,e.child=t}function ay(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nu(o,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,lo(t,e,i)}return np(t,e,n,r,i)}function ly(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(ya,Cr),Cr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ot(ya,Cr),Cr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ot(ya,Cr),Cr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ot(ya,Cr),Cr|=r;return rr(t,e,i,n),e.child}function uy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function np(t,e,n,r,i){var o=dr(n)?ks:Zn.current;return o=Fa(e,o),Ca(e,i),n=pm(t,e,n,r,o,i),r=mm(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lo(t,e,i)):(Yt&&r&&nm(e),e.flags|=1,rr(t,e,n,i),e.child)}function x1(t,e,n,r,i){if(dr(n)){var o=!0;of(e)}else o=!1;if(Ca(e,i),e.stateNode===null)Dc(t,e),iy(e,n,r),ep(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=$r(u):(u=dr(n)?ks:Zn.current,u=Fa(e,u));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&m1(e,s,r,u),Mo=!1;var v=e.memoizedState;s.state=v,cf(e,r,s,i),l=e.memoizedState,a!==r||v!==l||fr.current||Mo?(typeof h=="function"&&(Qh(e,n,h,r),l=e.memoizedState),(a=Mo||p1(e,n,a,r,v,l,u))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Uv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:oi(e.type,a),s.props=u,g=e.pendingProps,v=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$r(l):(l=dr(n)?ks:Zn.current,l=Fa(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||v!==l)&&m1(e,s,r,l),Mo=!1,v=e.memoizedState,s.state=v,cf(e,r,s,i);var S=e.memoizedState;a!==g||v!==S||fr.current||Mo?(typeof m=="function"&&(Qh(e,n,m,r),S=e.memoizedState),(u=Mo||p1(e,n,u,r,v,S,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),s.props=r,s.state=S,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return rp(t,e,n,r,o,i)}function rp(t,e,n,r,i,o){uy(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&s1(e,n,!1),lo(t,e,o);r=e.stateNode,JS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ua(e,t.child,null,o),e.child=Ua(e,null,a,o)):rr(t,e,a,o),e.memoizedState=r.state,i&&s1(e,n,!0),e.child}function cy(t){var e=t.stateNode;e.pendingContext?o1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&o1(t,e.context,!1),cm(t,e.containerInfo)}function S1(t,e,n,r,i){return Da(),im(i),e.flags|=256,rr(t,e,n,r),e.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function fy(t,e,n){var r=e.pendingProps,i=Xt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ot(Xt,i&1),t===null)return Xh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Bf(s,r,0,null),t=bs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=op(n),e.memoizedState=ip,t):ym(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KS(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ko(a,o):(o=bs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?op(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=ip,r}return o=t.child,t=o.sibling,r=Ko(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ym(t,e){return e=Bf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mc(t,e,n,r){return r!==null&&im(r),Ua(e,t.child,null,n),t=ym(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Yd(Error(Ee(422))),mc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Bf({mode:"visible",children:r.children},i,0,null),o=bs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ua(e,t.child,null,s),e.child.memoizedState=op(s),e.memoizedState=ip,o);if(!(e.mode&1))return mc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ee(419)),r=Yd(o,r,void 0),mc(t,e,s,r)}if(a=(s&t.childLanes)!==0,cr||a){if(r=Ln,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ao(t,i),ui(r,t,i,-1))}return Nm(),r=Yd(Error(Ee(421))),mc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a3.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Er=Go(i.nextSibling),br=e,Yt=!0,ai=null,t!==null&&(zr[Hr++]=no,zr[Hr++]=ro,zr[Hr++]=Ps,no=t.id,ro=t.overflow,Ps=e),e=ym(e,r.children),e.flags|=4096,e)}function A1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zh(t.return,e,n)}function jd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function dy(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(rr(t,e,r.children,n),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A1(t,n,e);else if(t.tag===19)A1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ot(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ff(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ff(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jd(e,!0,n,null,o);break;case"together":jd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YS(t,e,n){switch(e.tag){case 3:cy(e),Da();break;case 5:Bv(e);break;case 1:dr(e.type)&&of(e);break;case 4:cm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ot(lf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ot(Xt,Xt.current&1),e.flags|=128,null):n&e.child.childLanes?fy(t,e,n):(Ot(Xt,Xt.current&1),t=lo(t,e,n),t!==null?t.sibling:null);Ot(Xt,Xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ot(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,ly(t,e,n)}return lo(t,e,n)}var hy,sp,py,my;hy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sp=function(){};py=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Es(Pi.current);var o=null;switch(n){case"input":i=bh(t,i),r=bh(t,r),o=[];break;case"select":i=Qt({},i,{value:void 0}),r=Qt({},r,{value:void 0}),o=[];break;case"textarea":i=Ph(t,i),r=Ph(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nf)}Rh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ht("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};my=function(t,e,n,r){n!==r&&(e.flags|=4)};function bl(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jS(t,e,n){var r=e.pendingProps;switch(rm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return dr(e.type)&&rf(),Wn(e),null;case 3:return r=e.stateNode,Ba(),Wt(fr),Wt(Zn),dm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(pp(ai),ai=null))),sp(t,e),Wn(e),null;case 5:fm(e);var i=Es(au.current);if(n=e.type,t!==null&&e.stateNode!=null)py(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ee(166));return Wn(e),null}if(t=Es(Pi.current),hc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[bi]=e,r[ou]=o,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",r),Ht("close",r);break;case"iframe":case"object":case"embed":Ht("load",r);break;case"video":case"audio":for(i=0;i<Dl.length;i++)Ht(Dl[i],r);break;case"source":Ht("error",r);break;case"img":case"image":case"link":Ht("error",r),Ht("load",r);break;case"details":Ht("toggle",r);break;case"input":L0(r,o),Ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ht("invalid",r);break;case"textarea":M0(r,o),Ht("invalid",r)}Rh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",""+a]):Yl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ht("scroll",r)}switch(n){case"input":ic(r),R0(r,o,!0);break;case"textarea":ic(r),F0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[bi]=e,t[ou]=r,hy(t,e,!1,!1),e.stateNode=t;e:{switch(s=Mh(n,r),n){case"dialog":Ht("cancel",t),Ht("close",t),i=r;break;case"iframe":case"object":case"embed":Ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dl.length;i++)Ht(Dl[i],t);i=r;break;case"source":Ht("error",t),i=r;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),i=r;break;case"details":Ht("toggle",t),i=r;break;case"input":L0(t,r),i=bh(t,r),Ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qt({},r,{value:void 0}),Ht("invalid",t);break;case"textarea":M0(t,r),i=Ph(t,r),Ht("invalid",t);break;default:i=r}Rh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?$5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&G5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jl(t,l):typeof l=="number"&&jl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ht("scroll",t):l!=null&&Hp(t,o,l,s))}switch(n){case"input":ic(t),R0(t,r,!1);break;case"textarea":ic(t),F0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?xa(t,!!r.multiple,o,!1):r.defaultValue!=null&&xa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)my(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ee(166));if(n=Es(au.current),Es(Pi.current),hc(e)){if(r=e.stateNode,n=e.memoizedProps,r[bi]=e,(o=r.nodeValue!==n)&&(t=br,t!==null))switch(t.tag){case 3:dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bi]=e,e.stateNode=r}return Wn(e),null;case 13:if(Wt(Xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&Er!==null&&e.mode&1&&!(e.flags&128))Rv(),Da(),e.flags|=98560,o=!1;else if(o=hc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ee(317));o[bi]=e}else Da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),o=!1}else ai!==null&&(pp(ai),ai=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xt.current&1?bn===0&&(bn=3):Nm())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return Ba(),sp(t,e),t===null&&ru(e.stateNode.containerInfo),Wn(e),null;case 10:return am(e.type._context),Wn(e),null;case 17:return dr(e.type)&&rf(),Wn(e),null;case 19:if(Wt(Xt),o=e.memoizedState,o===null)return Wn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)bl(o,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ff(t),s!==null){for(e.flags|=128,bl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ot(Xt,Xt.current&1|2),e.child}t=t.sibling}o.tail!==null&&hn()>Oa&&(e.flags|=128,r=!0,bl(o,!1),e.lanes=4194304)}else{if(!r)if(t=ff(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Yt)return Wn(e),null}else 2*hn()-o.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,bl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=hn(),e.sibling=null,n=Xt.current,Ot(Xt,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return Am(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function XS(t,e){switch(rm(e),e.tag){case 1:return dr(e.type)&&rf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ba(),Wt(fr),Wt(Zn),dm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fm(e),null;case 13:if(Wt(Xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));Da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wt(Xt),null;case 4:return Ba(),null;case 10:return am(e.type._context),null;case 22:case 23:return Am(),null;case 24:return null;default:return null}}var gc=!1,jn=!1,ZS=typeof WeakSet=="function"?WeakSet:Set,Re=null;function va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){on(t,e,r)}else n.current=null}function ap(t,e,n){try{n()}catch(r){on(t,e,r)}}var N1=!1;function QS(t,e){if(Gh=Qc,t=_v(),tm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,h=0,g=t,v=null;t:for(;;){for(var m;g!==n||i!==0&&g.nodeType!==3||(a=s+i),g!==o||r!==0&&g.nodeType!==3||(l=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(m=g.firstChild)!==null;)v=g,g=m;for(;;){if(g===t)break t;if(v===n&&++u===i&&(a=s),v===o&&++h===r&&(l=s),(m=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:t,selectionRange:n},Qc=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var N=S.memoizedProps,R=S.memoizedState,_=e.stateNode,A=_.getSnapshotBeforeUpdate(e.elementType===e.type?N:oi(e.type,N),R);_.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(k){on(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return S=N1,N1=!1,S}function Vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ap(e,n,o)}i=i.next}while(i!==r)}}function Df(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gy(t){var e=t.alternate;e!==null&&(t.alternate=null,gy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bi],delete e[ou],delete e[Kh],delete e[FS],delete e[DS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vy(t){return t.tag===5||t.tag===3||t.tag===4}function C1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nf));else if(r!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}function cp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cp(t,e,n),t=t.sibling;t!==null;)cp(t,e,n),t=t.sibling}var qn=null,si=!1;function ko(t,e,n){for(n=n.child;n!==null;)yy(t,e,n),n=n.sibling}function yy(t,e,n){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount(bf,n)}catch{}switch(n.tag){case 5:jn||va(n,e);case 6:var r=qn,i=si;qn=null,ko(t,e,n),qn=r,si=i,qn!==null&&(si?(t=qn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(si?(t=qn,n=n.stateNode,t.nodeType===8?Vd(t.parentNode,n):t.nodeType===1&&Vd(t,n),eu(t)):Vd(qn,n.stateNode));break;case 4:r=qn,i=si,qn=n.stateNode.containerInfo,si=!0,ko(t,e,n),qn=r,si=i;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ap(n,e,s),i=i.next}while(i!==r)}ko(t,e,n);break;case 1:if(!jn&&(va(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){on(n,e,a)}ko(t,e,n);break;case 21:ko(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,ko(t,e,n),jn=r):ko(t,e,n);break;default:ko(t,e,n)}}function E1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZS),e.forEach(function(r){var i=l3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ri(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:qn=a.stateNode,si=!1;break e;case 3:qn=a.stateNode.containerInfo,si=!0;break e;case 4:qn=a.stateNode.containerInfo,si=!0;break e}a=a.return}if(qn===null)throw Error(Ee(160));yy(o,s,i),qn=null,si=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){on(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wy(e,t),e=e.sibling}function wy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ri(e,t),Ni(t),r&4){try{Vl(3,t,t.return),Df(3,t)}catch(N){on(t,t.return,N)}try{Vl(5,t,t.return)}catch(N){on(t,t.return,N)}}break;case 1:ri(e,t),Ni(t),r&512&&n!==null&&va(n,n.return);break;case 5:if(ri(e,t),Ni(t),r&512&&n!==null&&va(n,n.return),t.flags&32){var i=t.stateNode;try{jl(i,"")}catch(N){on(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&z5(i,o),Mh(a,s);var u=Mh(a,o);for(s=0;s<l.length;s+=2){var h=l[s],g=l[s+1];h==="style"?$5(i,g):h==="dangerouslySetInnerHTML"?G5(i,g):h==="children"?jl(i,g):Hp(i,h,g,u)}switch(a){case"input":Ih(i,o);break;case"textarea":H5(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?xa(i,!!o.multiple,m,!1):v!==!!o.multiple&&(o.defaultValue!=null?xa(i,!!o.multiple,o.defaultValue,!0):xa(i,!!o.multiple,o.multiple?[]:"",!1))}i[ou]=o}catch(N){on(t,t.return,N)}}break;case 6:if(ri(e,t),Ni(t),r&4){if(t.stateNode===null)throw Error(Ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(N){on(t,t.return,N)}}break;case 3:if(ri(e,t),Ni(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(N){on(t,t.return,N)}break;case 4:ri(e,t),Ni(t);break;case 13:ri(e,t),Ni(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(xm=hn())),r&4&&E1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(u=jn)||h,ri(e,t),jn=u):ri(e,t),Ni(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Re=t,h=t.child;h!==null;){for(g=Re=h;Re!==null;){switch(v=Re,m=v.child,v.tag){case 0:case 11:case 14:case 15:Vl(4,v,v.return);break;case 1:va(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(N){on(r,n,N)}}break;case 5:va(v,v.return);break;case 22:if(v.memoizedState!==null){b1(g);continue}}m!==null?(m.return=v,Re=m):b1(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=W5("display",s))}catch(N){on(t,t.return,N)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(N){on(t,t.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ri(e,t),Ni(t),r&4&&E1(t);break;case 21:break;default:ri(e,t),Ni(t)}}function Ni(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vy(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jl(i,""),r.flags&=-33);var o=C1(t);cp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=C1(t);up(t,a,s);break;default:throw Error(Ee(161))}}catch(l){on(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e3(t,e,n){Re=t,_y(t)}function _y(t,e,n){for(var r=(t.mode&1)!==0;Re!==null;){var i=Re,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jn;a=gc;var u=jn;if(gc=s,(jn=l)&&!u)for(Re=i;Re!==null;)s=Re,l=s.child,s.tag===22&&s.memoizedState!==null?I1(i):l!==null?(l.return=s,Re=l):I1(i);for(;o!==null;)Re=o,_y(o),o=o.sibling;Re=i,gc=a,jn=u}T1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Re=o):T1(t)}}function T1(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||Df(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:oi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&f1(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f1(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&eu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}jn||e.flags&512&&lp(e)}catch(v){on(e,e.return,v)}}if(e===t){Re=null;break}if(n=e.sibling,n!==null){n.return=e.return,Re=n;break}Re=e.return}}function b1(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Re=n;break}Re=e.return}}function I1(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Df(4,e)}catch(l){on(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){on(e,i,l)}}var o=e.return;try{lp(e)}catch(l){on(e,o,l)}break;case 5:var s=e.return;try{lp(e)}catch(l){on(e,s,l)}}}catch(l){on(e,e.return,l)}if(e===t){Re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Re=a;break}Re=e.return}}var t3=Math.ceil,pf=co.ReactCurrentDispatcher,wm=co.ReactCurrentOwner,Gr=co.ReactCurrentBatchConfig,Nt=0,Ln=null,_n=null,On=0,Cr=0,ya=Qo(0),bn=0,fu=null,Rs=0,Uf=0,_m=0,Gl=null,ur=null,xm=0,Oa=1/0,Qi=null,mf=!1,fp=null,$o=null,vc=!1,Bo=null,gf=0,Wl=0,dp=null,Uc=-1,Bc=0;function ir(){return Nt&6?hn():Uc!==-1?Uc:Uc=hn()}function Jo(t){return t.mode&1?Nt&2&&On!==0?On&-On:BS.transition!==null?(Bc===0&&(Bc=iv()),Bc):(t=Rt,t!==0||(t=window.event,t=t===void 0?16:fv(t.type)),t):1}function ui(t,e,n,r){if(50<Wl)throw Wl=0,dp=null,Error(Ee(185));mu(t,n,r),(!(Nt&2)||t!==Ln)&&(t===Ln&&(!(Nt&2)&&(Uf|=n),bn===4&&Do(t,On)),hr(t,r),n===1&&Nt===0&&!(e.mode&1)&&(Oa=hn()+500,Rf&&es()))}function hr(t,e){var n=t.callbackNode;Bx(t,e);var r=Zc(t,t===Ln?On:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?US(k1.bind(null,t)):kv(k1.bind(null,t)),RS(function(){!(Nt&6)&&es()}),n=null;else{switch(ov(r)){case 1:n=Jp;break;case 4:n=nv;break;case 16:n=Xc;break;case 536870912:n=rv;break;default:n=Xc}n=by(n,xy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xy(t,e){if(Uc=-1,Bc=0,Nt&6)throw Error(Ee(327));var n=t.callbackNode;if(Ea()&&t.callbackNode!==n)return null;var r=Zc(t,t===Ln?On:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vf(t,r);else{e=r;var i=Nt;Nt|=2;var o=Ay();(Ln!==t||On!==e)&&(Qi=null,Oa=hn()+500,Ts(t,e));do try{i3();break}catch(a){Sy(t,a)}while(!0);sm(),pf.current=o,Nt=i,_n!==null?e=0:(Ln=null,On=0,e=bn)}if(e!==0){if(e===2&&(i=qh(t),i!==0&&(r=i,e=hp(t,i))),e===1)throw n=fu,Ts(t,0),Do(t,r),hr(t,hn()),n;if(e===6)Do(t,r);else{if(i=t.current.alternate,!(r&30)&&!n3(i)&&(e=vf(t,r),e===2&&(o=qh(t),o!==0&&(r=o,e=hp(t,o))),e===1))throw n=fu,Ts(t,0),Do(t,r),hr(t,hn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ee(345));case 2:xs(t,ur,Qi);break;case 3:if(Do(t,r),(r&130023424)===r&&(e=xm+500-hn(),10<e)){if(Zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ir(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jh(xs.bind(null,t,ur,Qi),e);break}xs(t,ur,Qi);break;case 4:if(Do(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-li(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t3(r/1960))-r,10<r){t.timeoutHandle=Jh(xs.bind(null,t,ur,Qi),r);break}xs(t,ur,Qi);break;case 5:xs(t,ur,Qi);break;default:throw Error(Ee(329))}}}return hr(t,hn()),t.callbackNode===n?xy.bind(null,t):null}function hp(t,e){var n=Gl;return t.current.memoizedState.isDehydrated&&(Ts(t,e).flags|=256),t=vf(t,e),t!==2&&(e=ur,ur=n,e!==null&&pp(e)),t}function pp(t){ur===null?ur=t:ur.push.apply(ur,t)}function n3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ci(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Do(t,e){for(e&=~_m,e&=~Uf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-li(e),r=1<<n;t[n]=-1,e&=~r}}function k1(t){if(Nt&6)throw Error(Ee(327));Ea();var e=Zc(t,0);if(!(e&1))return hr(t,hn()),null;var n=vf(t,e);if(t.tag!==0&&n===2){var r=qh(t);r!==0&&(e=r,n=hp(t,r))}if(n===1)throw n=fu,Ts(t,0),Do(t,e),hr(t,hn()),n;if(n===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xs(t,ur,Qi),hr(t,hn()),null}function Sm(t,e){var n=Nt;Nt|=1;try{return t(e)}finally{Nt=n,Nt===0&&(Oa=hn()+500,Rf&&es())}}function Ms(t){Bo!==null&&Bo.tag===0&&!(Nt&6)&&Ea();var e=Nt;Nt|=1;var n=Gr.transition,r=Rt;try{if(Gr.transition=null,Rt=1,t)return t()}finally{Rt=r,Gr.transition=n,Nt=e,!(Nt&6)&&es()}}function Am(){Cr=ya.current,Wt(ya)}function Ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LS(n)),_n!==null)for(n=_n.return;n!==null;){var r=n;switch(rm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rf();break;case 3:Ba(),Wt(fr),Wt(Zn),dm();break;case 5:fm(r);break;case 4:Ba();break;case 13:Wt(Xt);break;case 19:Wt(Xt);break;case 10:am(r.type._context);break;case 22:case 23:Am()}n=n.return}if(Ln=t,_n=t=Ko(t.current,null),On=Cr=e,bn=0,fu=null,_m=Uf=Rs=0,ur=Gl=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Cs=null}return t}function Sy(t,e){do{var n=_n;try{if(sm(),Mc.current=hf,df){for(var r=Zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}df=!1}if(Ls=0,kn=Tn=Zt=null,Hl=!1,lu=0,wm.current=null,n===null||n.return===null){bn=1,fu=e,_n=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=On,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=v1(s);if(m!==null){m.flags&=-257,y1(m,s,a,o,e),m.mode&1&&g1(o,u,e),e=m,l=u;var S=e.updateQueue;if(S===null){var N=new Set;N.add(l),e.updateQueue=N}else S.add(l);break e}else{if(!(e&1)){g1(o,u,e),Nm();break e}l=Error(Ee(426))}}else if(Yt&&a.mode&1){var R=v1(s);if(R!==null){!(R.flags&65536)&&(R.flags|=256),y1(R,s,a,o,e),im(qa(l,a));break e}}o=l=qa(l,a),bn!==4&&(bn=2),Gl===null?Gl=[o]:Gl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=oy(o,l,e);c1(o,_);break e;case 1:a=l;var A=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof A.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($o===null||!$o.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=sy(o,a,e);c1(o,k);break e}}o=o.return}while(o!==null)}Cy(n)}catch(W){e=W,_n===n&&n!==null&&(_n=n=n.return);continue}break}while(!0)}function Ay(){var t=pf.current;return pf.current=hf,t===null?hf:t}function Nm(){(bn===0||bn===3||bn===2)&&(bn=4),Ln===null||!(Rs&268435455)&&!(Uf&268435455)||Do(Ln,On)}function vf(t,e){var n=Nt;Nt|=2;var r=Ay();(Ln!==t||On!==e)&&(Qi=null,Ts(t,e));do try{r3();break}catch(i){Sy(t,i)}while(!0);if(sm(),Nt=n,pf.current=r,_n!==null)throw Error(Ee(261));return Ln=null,On=0,bn}function r3(){for(;_n!==null;)Ny(_n)}function i3(){for(;_n!==null&&!Ix();)Ny(_n)}function Ny(t){var e=Ty(t.alternate,t,Cr);t.memoizedProps=t.pendingProps,e===null?Cy(t):_n=e,wm.current=null}function Cy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XS(n,e),n!==null){n.flags&=32767,_n=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,_n=null;return}}else if(n=jS(n,e,Cr),n!==null){_n=n;return}if(e=e.sibling,e!==null){_n=e;return}_n=e=t}while(e!==null);bn===0&&(bn=5)}function xs(t,e,n){var r=Rt,i=Gr.transition;try{Gr.transition=null,Rt=1,o3(t,e,n,r)}finally{Gr.transition=i,Rt=r}return null}function o3(t,e,n,r){do Ea();while(Bo!==null);if(Nt&6)throw Error(Ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(qx(t,o),t===Ln&&(_n=Ln=null,On=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vc||(vc=!0,by(Xc,function(){return Ea(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gr.transition,Gr.transition=null;var s=Rt;Rt=1;var a=Nt;Nt|=4,wm.current=null,QS(t,n),wy(n,t),CS(Wh),Qc=!!Gh,Wh=Gh=null,t.current=n,e3(n),kx(),Nt=a,Rt=s,Gr.transition=o}else t.current=n;if(vc&&(vc=!1,Bo=t,gf=i),o=t.pendingLanes,o===0&&($o=null),Rx(n.stateNode),hr(t,hn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(mf)throw mf=!1,t=fp,fp=null,t;return gf&1&&t.tag!==0&&Ea(),o=t.pendingLanes,o&1?t===dp?Wl++:(Wl=0,dp=t):Wl=0,es(),null}function Ea(){if(Bo!==null){var t=ov(gf),e=Gr.transition,n=Rt;try{if(Gr.transition=null,Rt=16>t?16:t,Bo===null)var r=!1;else{if(t=Bo,Bo=null,gf=0,Nt&6)throw Error(Ee(331));var i=Nt;for(Nt|=4,Re=t.current;Re!==null;){var o=Re,s=o.child;if(Re.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Re=u;Re!==null;){var h=Re;switch(h.tag){case 0:case 11:case 15:Vl(8,h,o)}var g=h.child;if(g!==null)g.return=h,Re=g;else for(;Re!==null;){h=Re;var v=h.sibling,m=h.return;if(gy(h),h===u){Re=null;break}if(v!==null){v.return=m,Re=v;break}Re=m}}}var S=o.alternate;if(S!==null){var N=S.child;if(N!==null){S.child=null;do{var R=N.sibling;N.sibling=null,N=R}while(N!==null)}}Re=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Re=s;else e:for(;Re!==null;){if(o=Re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Vl(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Re=_;break e}Re=o.return}}var A=t.current;for(Re=A;Re!==null;){s=Re;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,Re=C;else e:for(s=A;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Df(9,a)}}catch(W){on(a,a.return,W)}if(a===s){Re=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Re=k;break e}Re=a.return}}if(Nt=i,es(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot(bf,t)}catch{}r=!0}return r}finally{Rt=n,Gr.transition=e}}return!1}function P1(t,e,n){e=qa(n,e),e=oy(t,e,1),t=Wo(t,e,1),e=ir(),t!==null&&(mu(t,1,e),hr(t,e))}function on(t,e,n){if(t.tag===3)P1(t,t,n);else for(;e!==null;){if(e.tag===3){P1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($o===null||!$o.has(r))){t=qa(n,t),t=sy(e,t,1),e=Wo(e,t,1),t=ir(),e!==null&&(mu(e,1,t),hr(e,t));break}}e=e.return}}function s3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(On&n)===n&&(bn===4||bn===3&&(On&130023424)===On&&500>hn()-xm?Ts(t,0):_m|=n),hr(t,e)}function Ey(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var n=ir();t=ao(t,e),t!==null&&(mu(t,e,n),hr(t,n))}function a3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ey(t,n)}function l3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(e),Ey(t,n)}var Ty;Ty=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,YS(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Yt&&e.flags&1048576&&Pv(e,af,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dc(t,e),t=e.pendingProps;var i=Fa(e,Zn.current);Ca(e,n),i=pm(null,e,r,t,i,n);var o=mm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(o=!0,of(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,um(e),i.updater=Ff,e.stateNode=i,i._reactInternals=e,ep(e,r,t,n),e=rp(null,e,r,!0,o,n)):(e.tag=0,Yt&&o&&nm(e),rr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=c3(r),t=oi(r,t),i){case 0:e=np(null,e,r,t,n);break e;case 1:e=x1(null,e,r,t,n);break e;case 11:e=w1(null,e,r,t,n);break e;case 14:e=_1(null,e,r,oi(r.type,t),n);break e}throw Error(Ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),np(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),x1(t,e,r,i,n);case 3:e:{if(cy(e),t===null)throw Error(Ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Uv(t,e),cf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=qa(Error(Ee(423)),e),e=S1(t,e,r,n,i);break e}else if(r!==i){i=qa(Error(Ee(424)),e),e=S1(t,e,r,n,i);break e}else for(Er=Go(e.stateNode.containerInfo.firstChild),br=e,Yt=!0,ai=null,n=Fv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Da(),r===i){e=lo(t,e,n);break e}rr(t,e,r,n)}e=e.child}return e;case 5:return Bv(e),t===null&&Xh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,$h(r,i)?s=null:o!==null&&$h(r,o)&&(e.flags|=32),uy(t,e),rr(t,e,s,n),e.child;case 6:return t===null&&Xh(e),null;case 13:return fy(t,e,n);case 4:return cm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ua(e,null,r,n):rr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),w1(t,e,r,i,n);case 7:return rr(t,e,e.pendingProps,n),e.child;case 8:return rr(t,e,e.pendingProps.children,n),e.child;case 12:return rr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ot(lf,r._currentValue),r._currentValue=s,o!==null)if(ci(o.value,s)){if(o.children===i.children&&!fr.current){e=lo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=io(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ee(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ca(e,n),i=$r(i),r=r(i),e.flags|=1,rr(t,e,r,n),e.child;case 14:return r=e.type,i=oi(r,e.pendingProps),i=oi(r.type,i),_1(t,e,r,i,n);case 15:return ay(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:oi(r,i),Dc(t,e),e.tag=1,dr(r)?(t=!0,of(e)):t=!1,Ca(e,n),iy(e,r,i),ep(e,r,i,n),rp(null,e,r,!0,t,n);case 19:return dy(t,e,n);case 22:return ly(t,e,n)}throw Error(Ee(156,e.tag))};function by(t,e){return tv(t,e)}function u3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,n,r){return new u3(t,e,n,r)}function Cm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c3(t){if(typeof t=="function")return Cm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gp)return 11;if(t===Wp)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=Vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Cm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case la:return bs(n.children,i,o,e);case Vp:s=8,i|=8;break;case Nh:return t=Vr(12,n,e,i|2),t.elementType=Nh,t.lanes=o,t;case Ch:return t=Vr(13,n,e,i),t.elementType=Ch,t.lanes=o,t;case Eh:return t=Vr(19,n,e,i),t.elementType=Eh,t.lanes=o,t;case B5:return Bf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D5:s=10;break e;case U5:s=9;break e;case Gp:s=11;break e;case Wp:s=14;break e;case Ro:s=16,r=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=Vr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function bs(t,e,n,r){return t=Vr(7,t,r,e),t.lanes=n,t}function Bf(t,e,n,r){return t=Vr(22,t,r,e),t.elementType=B5,t.lanes=n,t.stateNode={isHidden:!1},t}function Xd(t,e,n){return t=Vr(6,t,null,e),t.lanes=n,t}function Zd(t,e,n){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Em(t,e,n,r,i,o,s,a,l){return t=new f3(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Vr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},um(o),t}function d3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Iy(t){if(!t)return jo;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var n=t.type;if(dr(n))return Iv(t,n,e)}return e}function ky(t,e,n,r,i,o,s,a,l){return t=Em(n,r,!0,t,i,o,s,a,l),t.context=Iy(null),n=t.current,r=ir(),i=Jo(n),o=io(r,i),o.callback=e??null,Wo(n,o,i),t.current.lanes=i,mu(t,i,r),hr(t,r),t}function qf(t,e,n,r){var i=e.current,o=ir(),s=Jo(i);return n=Iy(n),e.context===null?e.context=n:e.pendingContext=n,e=io(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wo(i,e,s),t!==null&&(ui(t,i,s,o),Rc(t,i,s)),s}function yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function L1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tm(t,e){L1(t,e),(t=t.alternate)&&L1(t,e)}function h3(){return null}var Py=typeof reportError=="function"?reportError:function(t){console.error(t)};function bm(t){this._internalRoot=t}Of.prototype.render=bm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));qf(t,e,null,null)};Of.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ms(function(){qf(null,t,null,null)}),e[so]=null}};function Of(t){this._internalRoot=t}Of.prototype.unstable_scheduleHydration=function(t){if(t){var e=lv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fo.length&&e!==0&&e<Fo[n].priority;n++);Fo.splice(n,0,t),n===0&&cv(t)}};function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R1(){}function p3(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=yf(s);o.call(u)}}var s=ky(e,r,t,0,null,!1,!1,"",R1);return t._reactRootContainer=s,t[so]=s.current,ru(t.nodeType===8?t.parentNode:t),Ms(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=yf(l);a.call(u)}}var l=Em(t,0,!1,null,null,!1,!1,"",R1);return t._reactRootContainer=l,t[so]=l.current,ru(t.nodeType===8?t.parentNode:t),Ms(function(){qf(e,l,n,r)}),l}function Hf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=yf(s);a.call(l)}}qf(e,s,t,i)}else s=p3(n,e,t,i,r);return yf(s)}sv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fl(e.pendingLanes);n!==0&&(Kp(e,n|1),hr(e,hn()),!(Nt&6)&&(Oa=hn()+500,es()))}break;case 13:Ms(function(){var r=ao(t,1);if(r!==null){var i=ir();ui(r,t,1,i)}}),Tm(t,1)}};Yp=function(t){if(t.tag===13){var e=ao(t,134217728);if(e!==null){var n=ir();ui(e,t,134217728,n)}Tm(t,134217728)}};av=function(t){if(t.tag===13){var e=Jo(t),n=ao(t,e);if(n!==null){var r=ir();ui(n,t,e,r)}Tm(t,e)}};lv=function(){return Rt};uv=function(t,e){var n=Rt;try{return Rt=t,e()}finally{Rt=n}};Dh=function(t,e,n){switch(e){case"input":if(Ih(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lf(r);if(!i)throw Error(Ee(90));O5(r),Ih(r,i)}}}break;case"textarea":H5(t,n);break;case"select":e=n.value,e!=null&&xa(t,!!n.multiple,e,!1)}};Y5=Sm;j5=Ms;var m3={usingClientEntryPoint:!1,Events:[vu,da,Lf,J5,K5,Sm]},Il={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g3={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:co.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q5(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||h3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{bf=yc.inject(g3),ki=yc}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m3;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(e))throw Error(Ee(200));return d3(t,e,null,n)};kr.createRoot=function(t,e){if(!Im(t))throw Error(Ee(299));var n=!1,r="",i=Py;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Em(t,1,!1,null,null,n,!1,r,i),t[so]=e.current,ru(t.nodeType===8?t.parentNode:t),new bm(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=Q5(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return Ms(t)};kr.hydrate=function(t,e,n){if(!zf(e))throw Error(Ee(200));return Hf(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!Im(t))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Py;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=ky(e,null,t,1,n??null,i,!1,o,s),t[so]=e.current,ru(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Of(e)};kr.render=function(t,e,n){if(!zf(e))throw Error(Ee(200));return Hf(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!zf(t))throw Error(Ee(40));return t._reactRootContainer?(Ms(function(){Hf(null,null,t,!1,function(){t._reactRootContainer=null,t[so]=null})}),!0):!1};kr.unstable_batchedUpdates=Sm;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zf(n))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return Hf(t,e,n,!1,r)};kr.version="18.3.1-next-f1338f8080-20240426";function Ly(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ly)}catch(t){console.error(t)}}Ly(),L5.exports=kr;var v3=L5.exports,M1=v3;Sh.createRoot=M1.createRoot,Sh.hydrateRoot=M1.hydrateRoot;/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ry=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=dn.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>dn.createElement("svg",{ref:l,...w3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ry("lucide",i),...a},[...s.map(([u,h])=>dn.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=(t,e)=>{const n=dn.forwardRef(({className:r,...i},o)=>dn.createElement(_3,{ref:o,iconNode:e,className:Ry(`lucide-${y3(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=sn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=sn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=sn("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=sn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=sn("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=sn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=sn("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=sn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=sn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=sn("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=sn("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=sn("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=sn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=sn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=sn("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=sn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=sn("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=sn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=sn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=sn("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=sn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=sn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D3=()=>M.jsx("header",{className:"bg-museum-charcoal text-museum-paper py-6 px-6 shadow-lg border-b-4 border-museum-gold",children:M.jsxs("div",{className:"max-w-6xl mx-auto",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsx("div",{className:"p-3 bg-museum-gold rounded-xl text-museum-charcoal shadow-md",children:M.jsx(My,{size:32,strokeWidth:2.5})}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold tracking-wide",children:"Was bin ich?"}),M.jsx("p",{className:"text-sm text-museum-stone uppercase tracking-widest font-medium mt-1",children:"Artefakte erzhlen ihre Geschichte"})]})]}),M.jsxs("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-lg bg-museum-gold/10 border border-museum-gold/30",children:[M.jsx(Uy,{size:18,className:"text-museum-gold"}),M.jsx("span",{className:"text-sm text-museum-gold font-semibold",children:"KI-Powered"})]})]}),M.jsx("div",{className:"mt-4 text-center",children:M.jsx("p",{className:"text-museum-stone text-sm italic",children:'"Ein Objekt, viele Geschichten  entdecke die Vergangenheit durch die Augen der Artefakte"'})})]})}),U3=({onImagesSelected:t})=>{const[e,n]=dn.useState([]),[r,i]=dn.useState([]),o=dn.useRef(null),s=dn.useRef(null),a=4,l=g=>{if(!g)return;const v=Array.from(g).slice(0,a-e.length),m=[...e,...v],S=v.map(R=>URL.createObjectURL(R)),N=[...r,...S];n(m),i(N)},u=g=>{URL.revokeObjectURL(r[g]),n(e.filter((v,m)=>m!==g)),i(r.filter((v,m)=>m!==g))},h=()=>{e.length>0&&t(e)};return M.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4",children:[e.length>0&&M.jsx("div",{className:"mb-8",children:M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map((g,v)=>M.jsxs("div",{className:"relative group",children:[M.jsx("img",{src:g,alt:`Artefakt ${v+1}`,className:"w-full h-40 object-cover rounded-lg border-2 border-museum-stone/30"}),M.jsx("button",{onClick:()=>u(v),className:"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:M.jsx(qy,{size:16})}),M.jsxs("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-museum-charcoal/80 text-white text-xs rounded",children:["Bild ",v+1]})]},v))})}),e.length<a&&M.jsx("div",{className:"border-2 border-dashed border-museum-stone/40 rounded-2xl p-8 md:p-12 bg-white shadow-sm hover:border-museum-gold/50 transition-colors",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"p-6 rounded-full bg-museum-gold/10 inline-block mb-6",children:M.jsx(F3,{size:48,className:"text-museum-gold",strokeWidth:1.5})}),M.jsx("h3",{className:"text-2xl font-serif font-bold text-museum-charcoal mb-3",children:e.length===0?"Artefakt hochladen":"Weiteres Bild hinzufgen"}),M.jsx("p",{className:"text-gray-700 mb-8 max-w-md mx-auto",children:e.length===0?"Lade 1-4 Bilder deines Artefakts hoch oder mache ein Foto":`Noch ${a-e.length} Bild(er) mglich`}),M.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[M.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",ref:o,onChange:g=>l(g.target.files)}),M.jsxs("button",{onClick:()=>{var g;return(g=o.current)==null?void 0:g.click()},className:"flex items-center justify-center gap-2 px-6 py-3 bg-museum-charcoal text-white rounded-lg hover:bg-museum-charcoal/90 transition-colors shadow-md font-semibold",children:[M.jsx(Fy,{size:20}),M.jsx("span",{children:"Galerie"})]}),M.jsx("input",{type:"file",accept:"image/*",capture:"environment",multiple:!0,className:"hidden",ref:s,onChange:g=>l(g.target.files)}),M.jsxs("button",{onClick:()=>{var g;return(g=s.current)==null?void 0:g.click()},className:"flex items-center justify-center gap-2 px-6 py-3 bg-museum-gold text-white rounded-lg hover:bg-museum-gold/90 transition-colors shadow-md font-semibold",children:[M.jsx(C3,{size:20}),M.jsx("span",{children:"Foto aufnehmen"})]})]}),M.jsx("p",{className:"mt-6 text-sm text-gray-600",children:" Mehrere Perspektiven helfen bei der Identifizierung"})]})}),e.length>0&&M.jsxs("div",{className:"mt-8 text-center",children:[M.jsx("button",{onClick:h,className:"px-12 py-4 bg-gradient-to-r from-museum-charcoal via-museum-stone to-museum-gold text-white rounded-xl font-bold text-lg hover:scale-105 transition-transform shadow-2xl border-2 border-museum-gold",children:" Bilder analysieren"}),M.jsxs("p",{className:"mt-3 text-sm text-gray-700",children:[e.length," Bild(er) ausgewhlt"]})]})]})},B3=()=>M.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] py-12",children:[M.jsx("div",{className:"relative mb-8",children:M.jsxs("div",{className:"w-24 h-24 relative",children:[M.jsx("div",{className:"absolute inset-0 border-4 border-museum-gold border-t-transparent rounded-full animate-spin"}),M.jsx("div",{className:"absolute inset-2 border-4 border-museum-stone border-t-transparent rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),M.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-4xl",children:""})]})}),M.jsx("p",{className:"text-2xl font-serif font-bold text-museum-charcoal mb-6",children:"Entdeckungsreise luft..."}),M.jsx("p",{className:"text-gray-700 mb-8",children:"Die KI analysiert das Artefakt und erforscht seine Geschichte"}),M.jsxs("div",{className:"flex flex-col items-center gap-3 text-gray-700",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-2 h-2 bg-museum-gold rounded-full animate-pulse"}),M.jsx("span",{children:"Identifizierung"})]}),M.jsx("div",{className:"w-8 h-0.5 bg-museum-stone/30"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-2 h-2 bg-museum-stone/50 rounded-full animate-pulse",style:{animationDelay:"0.3s"}}),M.jsx("span",{children:"Datierung"})]}),M.jsx("div",{className:"w-8 h-0.5 bg-museum-stone/30"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-2 h-2 bg-museum-stone/50 rounded-full animate-pulse",style:{animationDelay:"0.6s"}}),M.jsx("span",{children:"Geschichte"})]})]}),M.jsx("p",{className:"mt-8 text-xs text-museum-stone/70",children:" Dies kann bis zu 30 Sekunden dauern"})]}),q3=({clarification:t,onOptionSelected:e,onCancel:n})=>M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fadeIn",children:M.jsxs("div",{className:"bg-museum-paper rounded-2xl shadow-2xl max-w-2xl w-full border-4 border-museum-gold",children:[M.jsxs("div",{className:"bg-museum-charcoal text-white p-6 flex items-center justify-between border-b-4 border-museum-gold",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx(My,{size:28,className:"text-museum-gold"}),M.jsx("h2",{className:"text-2xl font-serif font-bold",children:"Ich bentige deine Hilfe"})]}),M.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:M.jsx(qy,{size:24})})]}),M.jsxs("div",{className:"p-8",children:[M.jsx("p",{className:"text-lg text-museum-charcoal mb-6 leading-relaxed",children:t.question}),M.jsx("div",{className:"space-y-3",children:t.options.map((r,i)=>M.jsx("button",{onClick:()=>e(r),className:"w-full p-4 text-left border-2 border-museum-stone/30 rounded-xl hover:border-museum-gold hover:bg-museum-gold/5 transition-all group",children:M.jsxs("div",{className:"flex items-start gap-3",children:[M.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-museum-gold/20 flex items-center justify-center group-hover:bg-museum-gold/40 transition-colors",children:M.jsx("span",{className:"font-bold text-museum-charcoal",children:i+1})}),M.jsx("span",{className:"text-museum-charcoal font-medium",children:r})]})},i))}),M.jsx("p",{className:"mt-6 text-sm text-museum-stone text-center",children:" Whle die passendste Option, damit ich dir eine genauere Geschichte erzhlen kann"})]})]})}),O3="modulepreload",z3=function(t){return"/was-bin-ich/"+t},F1={},Qd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=z3(l),l in F1)return;F1[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":O3,u||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),u)return new Promise((v,m)=>{g.addEventListener("load",v),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function Lt(t){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(t)}var fi=Uint8Array,Tr=Uint16Array,km=Int32Array,Pm=new fi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lm=new fi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D1=new fi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Oy=function(t,e){for(var n=new Tr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new km(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},zy=Oy(Pm,2),H3=zy.b,gp=zy.r;H3[28]=258,gp[258]=28;var V3=Oy(Lm,0),U1=V3.r,vp=new Tr(32768);for(var Gt=0;Gt<32768;++Gt){var Po=(Gt&43690)>>1|(Gt&21845)<<1;Po=(Po&52428)>>2|(Po&13107)<<2,Po=(Po&61680)>>4|(Po&3855)<<4,vp[Gt]=((Po&65280)>>8|(Po&255)<<8)>>1}var $l=function(t,e,n){for(var r=t.length,i=0,o=new Tr(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Tr(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Tr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],g=s[t[i]-1]++<<h,v=g|(1<<h)-1;g<=v;++g)a[vp[g]>>l]=u}else for(a=new Tr(r),i=0;i<r;++i)t[i]&&(a[i]=vp[s[t[i]-1]++]>>15-t[i]);return a},Fs=new fi(288);for(var Gt=0;Gt<144;++Gt)Fs[Gt]=8;for(var Gt=144;Gt<256;++Gt)Fs[Gt]=9;for(var Gt=256;Gt<280;++Gt)Fs[Gt]=7;for(var Gt=280;Gt<288;++Gt)Fs[Gt]=8;var wf=new fi(32);for(var Gt=0;Gt<32;++Gt)wf[Gt]=5;var G3=$l(Fs,9,0),W3=$l(wf,5,0),Hy=function(t){return(t+7)/8|0},$3=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new fi(t.subarray(e,n))},Xi=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},kl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},eh=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:Gy,l:0};if(i==1){var s=new fi(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(W,Q){return W.f-Q.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,h=1,g=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=n[n[u].f<n[g].f?u++:g++],l=n[u!=h&&n[u].f<n[g].f?u++:g++],n[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=o[0].s,r=1;r<i;++r)o[r].s>v&&(v=o[r].s);var m=new Tr(v+1),S=yp(n[h-1],m,0);if(S>e){var r=0,N=0,R=S-e,_=1<<R;for(o.sort(function(Q,J){return m[J.s]-m[Q.s]||Q.f-J.f});r<i;++r){var A=o[r].s;if(m[A]>e)N+=_-(1<<S-m[A]),m[A]=e;else break}for(N>>=R;N>0;){var C=o[r].s;m[C]<e?N-=1<<e-m[C]++-1:++r}for(;r>=0&&N;--r){var k=o[r].s;m[k]==e&&(--m[k],++N)}S=e}return{t:new fi(m),l:S}},yp=function(t,e,n){return t.s==-1?Math.max(yp(t.l,e,n+1),yp(t.r,e,n+1)):e[t.s]=n},B1=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Tr(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Pl=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Vy=function(t,e,n){var r=n.length,i=Hy(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},q1=function(t,e,n,r,i,o,s,a,l,u,h){Xi(e,h++,n),++i[256];for(var g=eh(i,15),v=g.t,m=g.l,S=eh(o,15),N=S.t,R=S.l,_=B1(v),A=_.c,C=_.n,k=B1(N),W=k.c,Q=k.n,J=new Tr(19),G=0;G<A.length;++G)++J[A[G]&31];for(var G=0;G<W.length;++G)++J[W[G]&31];for(var B=eh(J,7),K=B.t,P=B.l,D=19;D>4&&!K[D1[D-1]];--D);var Y=u+5<<3,j=Pl(i,Fs)+Pl(o,wf)+s,ce=Pl(i,v)+Pl(o,N)+s+14+3*D+Pl(J,K)+2*J[16]+3*J[17]+7*J[18];if(l>=0&&Y<=j&&Y<=ce)return Vy(e,h,t.subarray(l,l+u));var fe,de,X,se;if(Xi(e,h,1+(ce<j)),h+=2,ce<j){fe=$l(v,m,0),de=v,X=$l(N,R,0),se=N;var ve=$l(K,P,0);Xi(e,h,C-257),Xi(e,h+5,Q-1),Xi(e,h+10,D-4),h+=14;for(var G=0;G<D;++G)Xi(e,h+3*G,K[D1[G]]);h+=3*D;for(var me=[A,W],I=0;I<2;++I)for(var V=me[I],G=0;G<V.length;++G){var $=V[G]&31;Xi(e,h,ve[$]),h+=K[$],$>15&&(Xi(e,h,V[G]>>5&127),h+=V[G]>>12)}}else fe=G3,de=Fs,X=W3,se=wf;for(var G=0;G<a;++G){var ee=r[G];if(ee>255){var $=ee>>18&31;kl(e,h,fe[$+257]),h+=de[$+257],$>7&&(Xi(e,h,ee>>23&31),h+=Pm[$]);var ne=ee&31;kl(e,h,X[ne]),h+=se[ne],ne>3&&(kl(e,h,ee>>5&8191),h+=Lm[ne])}else kl(e,h,fe[ee]),h+=de[ee]}return kl(e,h,fe[256]),h+de[256]},J3=new km([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Gy=new fi(0),K3=function(t,e,n,r,i,o){var s=o.z||t.length,a=new fi(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),u=o.l,h=(o.r||0)&7;if(e){h&&(l[0]=o.r>>3);for(var g=J3[e-1],v=g>>13,m=g&8191,S=(1<<n)-1,N=o.p||new Tr(32768),R=o.h||new Tr(S+1),_=Math.ceil(n/3),A=2*_,C=function(We){return(t[We]^t[We+1]<<_^t[We+2]<<A)&S},k=new km(25e3),W=new Tr(288),Q=new Tr(32),J=0,G=0,B=o.i||0,K=0,P=o.w||0,D=0;B+2<s;++B){var Y=C(B),j=B&32767,ce=R[Y];if(N[j]=ce,R[Y]=j,P<=B){var fe=s-B;if((J>7e3||K>24576)&&(fe>423||!u)){h=q1(t,l,0,k,W,Q,G,K,D,B-D,h),K=J=G=0,D=B;for(var de=0;de<286;++de)W[de]=0;for(var de=0;de<30;++de)Q[de]=0}var X=2,se=0,ve=m,me=j-ce&32767;if(fe>2&&Y==C(B-me))for(var I=Math.min(v,fe)-1,V=Math.min(32767,B),$=Math.min(258,fe);me<=V&&--ve&&j!=ce;){if(t[B+X]==t[B+X-me]){for(var ee=0;ee<$&&t[B+ee]==t[B+ee-me];++ee);if(ee>X){if(X=ee,se=me,ee>I)break;for(var ne=Math.min(me,ee-2),ae=0,de=0;de<ne;++de){var he=B-me+de&32767,pe=N[he],xe=he-pe&32767;xe>ae&&(ae=xe,ce=he)}}}j=ce,ce=N[j],me+=j-ce&32767}if(se){k[K++]=268435456|gp[X]<<18|U1[se];var Te=gp[X]&31,Le=U1[se]&31;G+=Pm[Te]+Lm[Le],++W[257+Te],++Q[Le],P=B+X,++J}else k[K++]=t[B],++W[t[B]]}}for(B=Math.max(B,P);B<s;++B)k[K++]=t[B],++W[t[B]];h=q1(t,l,u,k,W,Q,G,K,D,B-D,h),u||(o.r=h&7|l[h/8|0]<<3,h-=7,o.h=R,o.p=N,o.i=B,o.w=P)}else{for(var B=o.w||0;B<s+u;B+=65535){var Pe=B+65535;Pe>=s&&(l[h/8|0]=u,Pe=s),h=Vy(l,h+1,t.subarray(B,Pe))}o.i=s}return $3(a,0,r+Hy(h)+i)},Wy=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Y3=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new fi(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return K3(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},$y=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},j3=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Wy();i.p(e.dictionary),$y(t,2,i.d())}};function wp(t,e){e||(e={});var n=Wy();n.p(t);var r=Y3(t,e,e.dictionary?6:2,4);return j3(r,e),$y(r,r.length-4,n.d()),r}var X3=typeof TextDecoder<"u"&&new TextDecoder,Z3=0;try{X3.decode(Gy,{stream:!0}),Z3=1}catch{}function Q3(t){if(Array.isArray(t))return t}function e4(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function O1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function t4(t,e){if(t){if(typeof t=="string")return O1(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O1(t,e):void 0}}function n4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z1(t,e){return Q3(t)||e4(t,e)||t4(t,e)||n4()}function H1(t,e="utf8"){return new TextDecoder(e).decode(t)}const r4=new TextEncoder;function i4(t){return r4.encode(t)}const o4=1024*8,s4=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),th={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Rm{constructor(e=o4,n={}){Pt(this,"buffer");Pt(this,"byteLength");Pt(this,"byteOffset");Pt(this,"length");Pt(this,"offset");Pt(this,"lastWrittenByte");Pt(this,"littleEndian");Pt(this,"_data");Pt(this,"_mark");Pt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Rm)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=th[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===s4&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new th[n](a.buffer);return this.offset+=r,l.reverse(),l}const s=new th[n](o);return this.offset+=r,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return H1(this.readBytes(e))}decodeText(e=1,n="utf8"){return H1(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(i4(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ga(t){let e=t.length;for(;--e>=0;)t[e]=0}const a4=3,l4=258,Jy=29,u4=256,c4=u4+1+Jy,Ky=30,f4=512,d4=new Array((c4+2)*2);Ga(d4);const h4=new Array(Ky*2);Ga(h4);const p4=new Array(f4);Ga(p4);const m4=new Array(l4-a4+1);Ga(m4);const g4=new Array(Jy);Ga(g4);const v4=new Array(Ky);Ga(v4);const y4=(t,e,n,r)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+e[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var _p=y4;const w4=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},_4=new Uint32Array(w4()),x4=(t,e,n,r)=>{const i=_4,o=r+n;t^=-1;for(let s=r;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Ci=x4,xp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Yy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const S4=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var A4=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)S4(n,r)&&(t[r]=n[r])}}return t},N4=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,o=t.length;r<o;r++){let s=t[r];n.set(s,i),i+=s.length}return n},jy={assign:A4,flattenChunks:N4};let Xy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xy=!1}const du=new Uint8Array(256);for(let t=0;t<256;t++)du[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;du[254]=du[254]=1;var C4=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,o,s=t.length,a=0;for(i=0;i<s;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|n&63):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|n&63):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|n&63);return e};const E4=(t,e)=>{if(e<65534&&t.subarray&&Xy)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var T4=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=t[r++];if(s<128){o[i++]=s;continue}let a=du[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|t[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return E4(o,i)},b4=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+du[t[n]]>e?n:e},Sp={string2buf:C4,buf2string:T4,utf8border:b4};function I4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var k4=I4;const wc=16209,P4=16191;var L4=function(e,n){let r,i,o,s,a,l,u,h,g,v,m,S,N,R,_,A,C,k,W,Q,J,G,B,K;const P=e.state;r=e.next_in,B=e.input,i=r+(e.avail_in-5),o=e.next_out,K=e.output,s=o-(n-e.avail_out),a=o+(e.avail_out-257),l=P.dmax,u=P.wsize,h=P.whave,g=P.wnext,v=P.window,m=P.hold,S=P.bits,N=P.lencode,R=P.distcode,_=(1<<P.lenbits)-1,A=(1<<P.distbits)-1;e:do{S<15&&(m+=B[r++]<<S,S+=8,m+=B[r++]<<S,S+=8),C=N[m&_];t:for(;;){if(k=C>>>24,m>>>=k,S-=k,k=C>>>16&255,k===0)K[o++]=C&65535;else if(k&16){W=C&65535,k&=15,k&&(S<k&&(m+=B[r++]<<S,S+=8),W+=m&(1<<k)-1,m>>>=k,S-=k),S<15&&(m+=B[r++]<<S,S+=8,m+=B[r++]<<S,S+=8),C=R[m&A];n:for(;;){if(k=C>>>24,m>>>=k,S-=k,k=C>>>16&255,k&16){if(Q=C&65535,k&=15,S<k&&(m+=B[r++]<<S,S+=8,S<k&&(m+=B[r++]<<S,S+=8)),Q+=m&(1<<k)-1,Q>l){e.msg="invalid distance too far back",P.mode=wc;break e}if(m>>>=k,S-=k,k=o-s,Q>k){if(k=Q-k,k>h&&P.sane){e.msg="invalid distance too far back",P.mode=wc;break e}if(J=0,G=v,g===0){if(J+=u-k,k<W){W-=k;do K[o++]=v[J++];while(--k);J=o-Q,G=K}}else if(g<k){if(J+=u+g-k,k-=g,k<W){W-=k;do K[o++]=v[J++];while(--k);if(J=0,g<W){k=g,W-=k;do K[o++]=v[J++];while(--k);J=o-Q,G=K}}}else if(J+=g-k,k<W){W-=k;do K[o++]=v[J++];while(--k);J=o-Q,G=K}for(;W>2;)K[o++]=G[J++],K[o++]=G[J++],K[o++]=G[J++],W-=3;W&&(K[o++]=G[J++],W>1&&(K[o++]=G[J++]))}else{J=o-Q;do K[o++]=K[J++],K[o++]=K[J++],K[o++]=K[J++],W-=3;while(W>2);W&&(K[o++]=K[J++],W>1&&(K[o++]=K[J++]))}}else if(k&64){e.msg="invalid distance code",P.mode=wc;break e}else{C=R[(C&65535)+(m&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){P.mode=P4;break e}else{e.msg="invalid literal/length code",P.mode=wc;break e}else{C=N[(C&65535)+(m&(1<<k)-1)];continue t}break}}while(r<i&&o<a);W=S>>3,r-=W,S-=W<<3,m&=(1<<S)-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=o<a?257+(a-o):257-(o-a),P.hold=m,P.bits=S};const na=15,V1=852,G1=592,W1=0,nh=1,$1=2,R4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),M4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),F4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),D4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),U4=(t,e,n,r,i,o,s,a)=>{const l=a.bits;let u=0,h=0,g=0,v=0,m=0,S=0,N=0,R=0,_=0,A=0,C,k,W,Q,J,G=null,B;const K=new Uint16Array(na+1),P=new Uint16Array(na+1);let D=null,Y,j,ce;for(u=0;u<=na;u++)K[u]=0;for(h=0;h<r;h++)K[e[n+h]]++;for(m=l,v=na;v>=1&&K[v]===0;v--);if(m>v&&(m=v),v===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<v&&K[g]===0;g++);for(m<g&&(m=g),R=1,u=1;u<=na;u++)if(R<<=1,R-=K[u],R<0)return-1;if(R>0&&(t===W1||v!==1))return-1;for(P[1]=0,u=1;u<na;u++)P[u+1]=P[u]+K[u];for(h=0;h<r;h++)e[n+h]!==0&&(s[P[e[n+h]]++]=h);if(t===W1?(G=D=s,B=20):t===nh?(G=R4,D=M4,B=257):(G=F4,D=D4,B=0),A=0,h=0,u=g,J=o,S=m,N=0,W=-1,_=1<<m,Q=_-1,t===nh&&_>V1||t===$1&&_>G1)return 1;for(;;){Y=u-N,s[h]+1<B?(j=0,ce=s[h]):s[h]>=B?(j=D[s[h]-B],ce=G[s[h]-B]):(j=96,ce=0),C=1<<u-N,k=1<<S,g=k;do k-=C,i[J+(A>>N)+k]=Y<<24|j<<16|ce|0;while(k!==0);for(C=1<<u-1;A&C;)C>>=1;if(C!==0?(A&=C-1,A+=C):A=0,h++,--K[u]===0){if(u===v)break;u=e[n+s[h]]}if(u>m&&(A&Q)!==W){for(N===0&&(N=m),J+=g,S=u-N,R=1<<S;S+N<v&&(R-=K[S+N],!(R<=0));)S++,R<<=1;if(_+=1<<S,t===nh&&_>V1||t===$1&&_>G1)return 1;W=A&Q,i[W]=m<<24|S<<16|J-o|0}}return A!==0&&(i[J+A]=u-N<<24|64<<16|0),a.bits=m,0};var Jl=U4;const B4=0,Zy=1,Qy=2,{Z_FINISH:J1,Z_BLOCK:q4,Z_TREES:_c,Z_OK:Ds,Z_STREAM_END:O4,Z_NEED_DICT:z4,Z_STREAM_ERROR:Kr,Z_DATA_ERROR:ew,Z_MEM_ERROR:tw,Z_BUF_ERROR:H4,Z_DEFLATED:K1}=Yy,Vf=16180,Y1=16181,j1=16182,X1=16183,Z1=16184,Q1=16185,eg=16186,tg=16187,ng=16188,rg=16189,_f=16190,Zi=16191,rh=16192,ig=16193,ih=16194,og=16195,sg=16196,ag=16197,lg=16198,xc=16199,Sc=16200,ug=16201,cg=16202,fg=16203,dg=16204,hg=16205,oh=16206,pg=16207,mg=16208,Kt=16209,nw=16210,rw=16211,V4=852,G4=592,W4=15,$4=W4,gg=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function J4(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const qs=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Vf||e.mode>rw?1:0},iw=t=>{if(qs(t))return Kr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Vf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(V4),e.distcode=e.distdyn=new Int32Array(G4),e.sane=1,e.back=-1,Ds},ow=t=>{if(qs(t))return Kr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,iw(t)},sw=(t,e)=>{let n;if(qs(t))return Kr;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Kr:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,ow(t))},aw=(t,e)=>{if(!t)return Kr;const n=new J4;t.state=n,n.strm=t,n.window=null,n.mode=Vf;const r=sw(t,e);return r!==Ds&&(t.state=null),r},K4=t=>aw(t,$4);let vg=!0,sh,ah;const Y4=t=>{if(vg){sh=new Int32Array(512),ah=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Jl(Zy,t.lens,0,288,sh,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Jl(Qy,t.lens,0,32,ah,0,t.work,{bits:5}),vg=!1}t.lencode=sh,t.lenbits=9,t.distcode=ah,t.distbits=5},lw=(t,e,n,r)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(e.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(e.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},j4=(t,e)=>{let n,r,i,o,s,a,l,u,h,g,v,m,S,N,R=0,_,A,C,k,W,Q,J,G;const B=new Uint8Array(4);let K,P;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(qs(t)||!t.output||!t.input&&t.avail_in!==0)return Kr;n=t.state,n.mode===Zi&&(n.mode=rh),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,h=n.bits,g=a,v=l,G=Ds;e:for(;;)switch(n.mode){case Vf:if(n.wrap===0){n.mode=rh;break}for(;h<16;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,B[0]=u&255,B[1]=u>>>8&255,n.check=Ci(n.check,B,2,0),u=0,h=0,n.mode=Y1;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Kt;break}if((u&15)!==K1){t.msg="unknown compression method",n.mode=Kt;break}if(u>>>=4,h-=4,J=(u&15)+8,n.wbits===0&&(n.wbits=J),J>15||J>n.wbits){t.msg="invalid window size",n.mode=Kt;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?rg:Zi,u=0,h=0;break;case Y1:for(;h<16;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(n.flags=u,(n.flags&255)!==K1){t.msg="unknown compression method",n.mode=Kt;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Kt;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,n.check=Ci(n.check,B,2,0)),u=0,h=0,n.mode=j1;case j1:for(;h<32;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,n.check=Ci(n.check,B,4,0)),u=0,h=0,n.mode=X1;case X1:for(;h<16;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,n.check=Ci(n.check,B,2,0)),u=0,h=0,n.mode=Z1;case Z1:if(n.flags&1024){for(;h<16;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,n.check=Ci(n.check,B,2,0)),u=0,h=0}else n.head&&(n.head.extra=null);n.mode=Q1;case Q1:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(J=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+m),J)),n.flags&512&&n.wrap&4&&(n.check=Ci(n.check,r,m,o)),a-=m,o+=m,n.length-=m),n.length))break e;n.length=0,n.mode=eg;case eg:if(n.flags&2048){if(a===0)break e;m=0;do J=r[o+m++],n.head&&J&&n.length<65536&&(n.head.name+=String.fromCharCode(J));while(J&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Ci(n.check,r,m,o)),a-=m,o+=m,J)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=tg;case tg:if(n.flags&4096){if(a===0)break e;m=0;do J=r[o+m++],n.head&&J&&n.length<65536&&(n.head.comment+=String.fromCharCode(J));while(J&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Ci(n.check,r,m,o)),a-=m,o+=m,J)break e}else n.head&&(n.head.comment=null);n.mode=ng;case ng:if(n.flags&512){for(;h<16;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Kt;break}u=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Zi;break;case rg:for(;h<32;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}t.adler=n.check=gg(u),u=0,h=0,n.mode=_f;case _f:if(n.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=h,z4;t.adler=n.check=1,n.mode=Zi;case Zi:if(e===q4||e===_c)break e;case rh:if(n.last){u>>>=h&7,h-=h&7,n.mode=oh;break}for(;h<3;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}switch(n.last=u&1,u>>>=1,h-=1,u&3){case 0:n.mode=ig;break;case 1:if(Y4(n),n.mode=xc,e===_c){u>>>=2,h-=2;break e}break;case 2:n.mode=sg;break;case 3:t.msg="invalid block type",n.mode=Kt}u>>>=2,h-=2;break;case ig:for(u>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Kt;break}if(n.length=u&65535,u=0,h=0,n.mode=ih,e===_c)break e;case ih:n.mode=og;case og:if(m=n.length,m){if(m>a&&(m=a),m>l&&(m=l),m===0)break e;i.set(r.subarray(o,o+m),s),a-=m,o+=m,l-=m,s+=m,n.length-=m;break}n.mode=Zi;break;case sg:for(;h<14;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(n.nlen=(u&31)+257,u>>>=5,h-=5,n.ndist=(u&31)+1,u>>>=5,h-=5,n.ncode=(u&15)+4,u>>>=4,h-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Kt;break}n.have=0,n.mode=ag;case ag:for(;n.have<n.ncode;){for(;h<3;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}n.lens[D[n.have++]]=u&7,u>>>=3,h-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,K={bits:n.lenbits},G=Jl(B4,n.lens,0,19,n.lencode,0,n.work,K),n.lenbits=K.bits,G){t.msg="invalid code lengths set",n.mode=Kt;break}n.have=0,n.mode=lg;case lg:for(;n.have<n.nlen+n.ndist;){for(;R=n.lencode[u&(1<<n.lenbits)-1],_=R>>>24,A=R>>>16&255,C=R&65535,!(_<=h);){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(C<16)u>>>=_,h-=_,n.lens[n.have++]=C;else{if(C===16){for(P=_+2;h<P;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(u>>>=_,h-=_,n.have===0){t.msg="invalid bit length repeat",n.mode=Kt;break}J=n.lens[n.have-1],m=3+(u&3),u>>>=2,h-=2}else if(C===17){for(P=_+3;h<P;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}u>>>=_,h-=_,J=0,m=3+(u&7),u>>>=3,h-=3}else{for(P=_+7;h<P;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}u>>>=_,h-=_,J=0,m=11+(u&127),u>>>=7,h-=7}if(n.have+m>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Kt;break}for(;m--;)n.lens[n.have++]=J}}if(n.mode===Kt)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Kt;break}if(n.lenbits=9,K={bits:n.lenbits},G=Jl(Zy,n.lens,0,n.nlen,n.lencode,0,n.work,K),n.lenbits=K.bits,G){t.msg="invalid literal/lengths set",n.mode=Kt;break}if(n.distbits=6,n.distcode=n.distdyn,K={bits:n.distbits},G=Jl(Qy,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,K),n.distbits=K.bits,G){t.msg="invalid distances set",n.mode=Kt;break}if(n.mode=xc,e===_c)break e;case xc:n.mode=Sc;case Sc:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=h,L4(t,v),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,r=t.input,a=t.avail_in,u=n.hold,h=n.bits,n.mode===Zi&&(n.back=-1);break}for(n.back=0;R=n.lencode[u&(1<<n.lenbits)-1],_=R>>>24,A=R>>>16&255,C=R&65535,!(_<=h);){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(A&&!(A&240)){for(k=_,W=A,Q=C;R=n.lencode[Q+((u&(1<<k+W)-1)>>k)],_=R>>>24,A=R>>>16&255,C=R&65535,!(k+_<=h);){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}u>>>=k,h-=k,n.back+=k}if(u>>>=_,h-=_,n.back+=_,n.length=C,A===0){n.mode=hg;break}if(A&32){n.back=-1,n.mode=Zi;break}if(A&64){t.msg="invalid literal/length code",n.mode=Kt;break}n.extra=A&15,n.mode=ug;case ug:if(n.extra){for(P=n.extra;h<P;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=cg;case cg:for(;R=n.distcode[u&(1<<n.distbits)-1],_=R>>>24,A=R>>>16&255,C=R&65535,!(_<=h);){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(!(A&240)){for(k=_,W=A,Q=C;R=n.distcode[Q+((u&(1<<k+W)-1)>>k)],_=R>>>24,A=R>>>16&255,C=R&65535,!(k+_<=h);){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}u>>>=k,h-=k,n.back+=k}if(u>>>=_,h-=_,n.back+=_,A&64){t.msg="invalid distance code",n.mode=Kt;break}n.offset=C,n.extra=A&15,n.mode=fg;case fg:if(n.extra){for(P=n.extra;h<P;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Kt;break}n.mode=dg;case dg:if(l===0)break e;if(m=v-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Kt;break}m>n.wnext?(m-=n.wnext,S=n.wsize-m):S=n.wnext-m,m>n.length&&(m=n.length),N=n.window}else N=i,S=s-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do i[s++]=N[S++];while(--m);n.length===0&&(n.mode=Sc);break;case hg:if(l===0)break e;i[s++]=n.length,l--,n.mode=Sc;break;case oh:if(n.wrap){for(;h<32;){if(a===0)break e;a--,u|=r[o++]<<h,h+=8}if(v-=l,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Ci(n.check,i,v,s-v):_p(n.check,i,v,s-v)),v=l,n.wrap&4&&(n.flags?u:gg(u))!==n.check){t.msg="incorrect data check",n.mode=Kt;break}u=0,h=0}n.mode=pg;case pg:if(n.wrap&&n.flags){for(;h<32;){if(a===0)break e;a--,u+=r[o++]<<h,h+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Kt;break}u=0,h=0}n.mode=mg;case mg:G=O4;break e;case Kt:G=ew;break e;case nw:return tw;case rw:default:return Kr}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=h,(n.wsize||v!==t.avail_out&&n.mode<Kt&&(n.mode<oh||e!==J1))&&lw(t,t.output,t.next_out,v-t.avail_out),g-=t.avail_in,v-=t.avail_out,t.total_in+=g,t.total_out+=v,n.total+=v,n.wrap&4&&v&&(t.adler=n.check=n.flags?Ci(n.check,i,v,t.next_out-v):_p(n.check,i,v,t.next_out-v)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Zi?128:0)+(n.mode===xc||n.mode===ih?256:0),(g===0&&v===0||e===J1)&&G===Ds&&(G=H4),G},X4=t=>{if(qs(t))return Kr;let e=t.state;return e.window&&(e.window=null),t.state=null,Ds},Z4=(t,e)=>{if(qs(t))return Kr;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,Ds):Kr},Q4=(t,e)=>{const n=e.length;let r,i,o;return qs(t)||(r=t.state,r.wrap!==0&&r.mode!==_f)?Kr:r.mode===_f&&(i=1,i=_p(i,e,n,0),i!==r.check)?ew:(o=lw(t,e,n,n),o?(r.mode=nw,tw):(r.havedict=1,Ds))};var eA=ow,tA=sw,nA=iw,rA=K4,iA=aw,oA=j4,sA=X4,aA=Z4,lA=Q4,uA="pako inflate (from Nodeca project)",to={inflateReset:eA,inflateReset2:tA,inflateResetKeep:nA,inflateInit:rA,inflateInit2:iA,inflate:oA,inflateEnd:sA,inflateGetHeader:aA,inflateSetDictionary:lA,inflateInfo:uA};function cA(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fA=cA;const uw=Object.prototype.toString,{Z_NO_FLUSH:dA,Z_FINISH:hA,Z_OK:hu,Z_STREAM_END:lh,Z_NEED_DICT:uh,Z_STREAM_ERROR:pA,Z_DATA_ERROR:yg,Z_MEM_ERROR:mA}=Yy;function wu(t){this.options=jy.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k4,this.strm.avail_out=0;let n=to.inflateInit2(this.strm,e.windowBits);if(n!==hu)throw new Error(xp[n]);if(this.header=new fA,to.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Sp.string2buf(e.dictionary):uw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=to.inflateSetDictionary(this.strm,e.dictionary),n!==hu)))throw new Error(xp[n])}wu.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?hA:dA,uw.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=to.inflate(n,s),o===uh&&i&&(o=to.inflateSetDictionary(n,i),o===hu?o=to.inflate(n,s):o===yg&&(o=uh));n.avail_in>0&&o===lh&&n.state.wrap>0&&t[n.next_in]!==0;)to.inflateReset(n),o=to.inflate(n,s);switch(o){case pA:case yg:case uh:case mA:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===lh))if(this.options.to==="string"){let l=Sp.utf8border(n.output,n.next_out),u=n.next_out-l,h=Sp.buf2string(n.output,l);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(l,l+u),0),this.onData(h)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===hu&&a===0)){if(o===lh)return o=to.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};wu.prototype.onData=function(t){this.chunks.push(t)};wu.prototype.onEnd=function(t){t===hu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=jy.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function gA(t,e){const n=new wu(e);if(n.push(t),n.err)throw n.msg||xp[n.err];return n.result}var vA=wu,yA=gA,wA={Inflate:vA,inflate:yA};const{Inflate:_A,inflate:xA}=wA;var wg=_A,SA=xA;const cw=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;cw[t]=e}const _g=4294967295;function AA(t,e,n){let r=t;for(let i=0;i<n;i++)r=cw[(r^e[i])&255]^r>>>8;return r}function NA(t,e){return(AA(_g,t,e)^_g)>>>0}function xg(t,e,n){const r=t.readUint32(),i=NA(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function fw(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function dw(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function hw(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function pw(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(n[o]>>1)&255;for(;o<r;o++)e[o]=t[o]+(e[o-i]+n[o]>>1)&255}}function mw(t,e,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)e[o]=t[o];for(;o<r;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+n[o]&255;for(;o<r;o++)e[o]=t[o]+CA(e[o-i],n[o],n[o-i])&255}}function CA(t,e,n){const r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),s=Math.abs(r-n);return i<=o&&i<=s?t:o<=s?e:n}function EA(t,e,n,r,i,o){switch(t){case 0:fw(e,n,i);break;case 1:dw(e,n,i,o);break;case 2:hw(e,n,r,i);break;case 3:pw(e,n,r,i,o);break;case 4:mw(e,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const TA=new Uint16Array([255]),bA=new Uint8Array(TA.buffer),IA=bA[0]===255;function kA(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*n*a);let u=0;for(let h=0;h<7;h++){const g=s[h],v=Math.ceil((n-g.x)/g.xStep),m=Math.ceil((r-g.y)/g.yStep);if(v<=0||m<=0)continue;const S=v*a,N=new Uint8Array(S);for(let R=0;R<m;R++){const _=e[u++],A=e.subarray(u,u+S);u+=S;const C=new Uint8Array(S);EA(_,A,C,N,S,a),N.set(C);for(let k=0;k<v;k++){const W=g.x+k*g.xStep,Q=g.y+R*g.yStep;if(!(W>=n||Q>=r))for(let J=0;J<a;J++)l[(Q*n+W)*a+J]=C[k*a+J]}}}if(o===16){const h=new Uint16Array(l.buffer);if(IA)for(let g=0;g<h.length;g++)h[g]=PA(h[g]);return h}else return l}function PA(t){return(t&255)<<8|t>>8&255}const LA=new Uint16Array([255]),RA=new Uint8Array(LA.buffer),MA=RA[0]===255,FA=new Uint8Array(0);function Sg(t){const{data:e,width:n,height:r,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),l=new Uint8Array(r*a);let u=FA,h=0,g,v;for(let m=0;m<r;m++){switch(g=e.subarray(h+1,h+1+a),v=l.subarray(m*a,(m+1)*a),e[h]){case 0:fw(g,v,a);break;case 1:dw(g,v,a,s);break;case 2:hw(g,v,u,a);break;case 3:pw(g,v,u,a,s);break;case 4:mw(g,v,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=v,h+=a+1}if(o===16){const m=new Uint16Array(l.buffer);if(MA)for(let S=0;S<m.length;S++)m[S]=DA(m[S]);return m}else return l}function DA(t){return(t&255)<<8|t>>8&255}const Oc=Uint8Array.of(137,80,78,71,13,10,26,10);function Ag(t){if(!UA(t.readBytes(Oc.length)))throw new Error("wrong PNG signature")}function UA(t){if(t.length<Oc.length)return!1;for(let e=0;e<Oc.length;e++)if(t[e]!==Oc[e])return!1;return!0}const BA="tEXt",qA=0,gw=new TextDecoder("latin1");function OA(t){if(HA(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const zA=/^[\u0000-\u00FF]*$/;function HA(t){if(!zA.test(t))throw new Error("invalid latin1 text")}function VA(t,e,n){const r=vw(e);t[r]=GA(e,n-r.length-1)}function vw(t){for(t.mark();t.readByte()!==qA;);const e=t.offset;t.reset();const n=gw.decode(t.readBytes(e-t.offset-1));return t.skip(1),OA(n),n}function GA(t,e){return gw.decode(t.readBytes(e))}const Ar={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ch={UNKNOWN:-1,DEFLATE:0},Ng={UNKNOWN:-1,ADAPTIVE:0},fh={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ac={NONE:0,BACKGROUND:1,PREVIOUS:2},dh={SOURCE:0,OVER:1};class WA extends Rm{constructor(n,r={}){super(n);Pt(this,"_checkCrc");Pt(this,"_inflator");Pt(this,"_png");Pt(this,"_apng");Pt(this,"_end");Pt(this,"_hasPalette");Pt(this,"_palette");Pt(this,"_hasTransparency");Pt(this,"_transparency");Pt(this,"_compressionMethod");Pt(this,"_filterMethod");Pt(this,"_interlaceMethod");Pt(this,"_colorType");Pt(this,"_isAnimated");Pt(this,"_numberOfFrames");Pt(this,"_numberOfPlays");Pt(this,"_frames");Pt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new wg,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ch.UNKNOWN,this._filterMethod=Ng.UNKNOWN,this._interlaceMethod=fh.UNKNOWN,this._colorType=Ar.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ag(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(Ag(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case BA:VA(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?xg(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?xg(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=$A(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ar.GREYSCALE:i=1;break;case Ar.TRUECOLOUR:i=3;break;case Ar.INDEXED_COLOUR:i=1;break;case Ar.GREYSCALE_ALPHA:i=2;break;case Ar.TRUECOLOUR_ALPHA:i=4;break;case Ar.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==ch.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<r;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ar.GREYSCALE:case Ar.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ar.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ar.UNKNOWN:case Ar.GREYSCALE_ALPHA:case Ar.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=vw(this),i=this.readUint8();if(i!==ch.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:SA(o)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=Sg({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const o=this._apng.frames.at(n-1);this.disposeFrame(i,o,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case Ac.NONE:break;case Ac.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const a=(o*n.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case Ac.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,o=(s,a)=>{const l=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,u=(s*r.width+a)*this._png.channels;return{index:l,frameIndex:u}};switch(r.blendOp){case dh.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let h=0;h<this._png.channels;h++)n.data[l+h]=r.data[u+h]}break;case dh.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:u}=o(s,a);for(let h=0;h<this._png.channels;h++){const g=r.data[u+this._png.channels-1]/i,v=h%(this._png.channels-1)===0?1:r.data[u+h],m=Math.floor(g*v+(1-g)*n.data[l+h]);n.data[l+h]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==Ng.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===fh.NO_INTERLACE)this._png.data=Sg({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===fh.ADAM7)this._png.data=kA({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ac.NONE,blendOp:dh.SOURCE,data:n}),this._inflator=new wg,this._writingDataChunks=!1}}function $A(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Cg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Cg||(Cg={}));function JA(t,e){return new WA(t,e).decode()}var et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hh(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var Dt={log:hh,warn:function(t){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):hh.call(null,arguments))},error:function(t){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):hh(t))}};function ph(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ss(r.response,e,n)},r.onerror=function(){Dt.error("could not download file")},r.send()}function Eg(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Nc(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ss=et.saveAs||((typeof window>"u"?"undefined":Lt(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=et.URL||et.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Eg(i.href)?ph(t,e,n):Nc(i,i.target="_blank"):Nc(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Nc(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Eg(t))ph(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Nc(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Lt(o)!=="object"&&(Dt.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return ph(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(et.HTMLElement)||et.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Lt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},a.readAsDataURL(t)}else{var l=et.URL||et.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}var zc=et.atob.bind(et),Tg=et.btoa.bind(et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function mh(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=$n(n,r,i,o,e[0],7,-680876936),o=$n(o,n,r,i,e[1],12,-389564586),i=$n(i,o,n,r,e[2],17,606105819),r=$n(r,i,o,n,e[3],22,-1044525330),n=$n(n,r,i,o,e[4],7,-176418897),o=$n(o,n,r,i,e[5],12,1200080426),i=$n(i,o,n,r,e[6],17,-1473231341),r=$n(r,i,o,n,e[7],22,-45705983),n=$n(n,r,i,o,e[8],7,1770035416),o=$n(o,n,r,i,e[9],12,-1958414417),i=$n(i,o,n,r,e[10],17,-42063),r=$n(r,i,o,n,e[11],22,-1990404162),n=$n(n,r,i,o,e[12],7,1804603682),o=$n(o,n,r,i,e[13],12,-40341101),i=$n(i,o,n,r,e[14],17,-1502002290),n=Jn(n,r=$n(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Jn(o,n,r,i,e[6],9,-1069501632),i=Jn(i,o,n,r,e[11],14,643717713),r=Jn(r,i,o,n,e[0],20,-373897302),n=Jn(n,r,i,o,e[5],5,-701558691),o=Jn(o,n,r,i,e[10],9,38016083),i=Jn(i,o,n,r,e[15],14,-660478335),r=Jn(r,i,o,n,e[4],20,-405537848),n=Jn(n,r,i,o,e[9],5,568446438),o=Jn(o,n,r,i,e[14],9,-1019803690),i=Jn(i,o,n,r,e[3],14,-187363961),r=Jn(r,i,o,n,e[8],20,1163531501),n=Jn(n,r,i,o,e[13],5,-1444681467),o=Jn(o,n,r,i,e[2],9,-51403784),i=Jn(i,o,n,r,e[7],14,1735328473),n=Kn(n,r=Jn(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Kn(o,n,r,i,e[8],11,-2022574463),i=Kn(i,o,n,r,e[11],16,1839030562),r=Kn(r,i,o,n,e[14],23,-35309556),n=Kn(n,r,i,o,e[1],4,-1530992060),o=Kn(o,n,r,i,e[4],11,1272893353),i=Kn(i,o,n,r,e[7],16,-155497632),r=Kn(r,i,o,n,e[10],23,-1094730640),n=Kn(n,r,i,o,e[13],4,681279174),o=Kn(o,n,r,i,e[0],11,-358537222),i=Kn(i,o,n,r,e[3],16,-722521979),r=Kn(r,i,o,n,e[6],23,76029189),n=Kn(n,r,i,o,e[9],4,-640364487),o=Kn(o,n,r,i,e[12],11,-421815835),i=Kn(i,o,n,r,e[15],16,530742520),n=Yn(n,r=Kn(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Yn(o,n,r,i,e[7],10,1126891415),i=Yn(i,o,n,r,e[14],15,-1416354905),r=Yn(r,i,o,n,e[5],21,-57434055),n=Yn(n,r,i,o,e[12],6,1700485571),o=Yn(o,n,r,i,e[3],10,-1894986606),i=Yn(i,o,n,r,e[10],15,-1051523),r=Yn(r,i,o,n,e[1],21,-2054922799),n=Yn(n,r,i,o,e[8],6,1873313359),o=Yn(o,n,r,i,e[15],10,-30611744),i=Yn(i,o,n,r,e[6],15,-1560198380),r=Yn(r,i,o,n,e[13],21,1309151649),n=Yn(n,r,i,o,e[4],6,-145523070),o=Yn(o,n,r,i,e[11],10,-1120210379),i=Yn(i,o,n,r,e[2],15,718787259),r=Yn(r,i,o,n,e[9],21,-343485551),t[0]=qo(n,t[0]),t[1]=qo(r,t[1]),t[2]=qo(i,t[2]),t[3]=qo(o,t[3])}function Gf(t,e,n,r,i,o){return e=qo(qo(e,t),qo(r,o)),qo(e<<i|e>>>32-i,n)}function $n(t,e,n,r,i,o,s){return Gf(e&n|~e&r,t,e,i,o,s)}function Jn(t,e,n,r,i,o,s){return Gf(e&r|n&~r,t,e,i,o,s)}function Kn(t,e,n,r,i,o,s){return Gf(e^n^r,t,e,i,o,s)}function Yn(t,e,n,r,i,o,s){return Gf(n^(e|~r),t,e,i,o,s)}function ww(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)mh(r,KA(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(mh(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,mh(r,i),r}function KA(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var bg="0123456789abcdef".split("");function YA(t){for(var e="",n=0;n<4;n++)e+=bg[t>>8*n+4&15]+bg[t>>8*n&15];return e}function jA(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ap(t){return ww(t).map(jA).join("")}var XA=function(t){for(var e=0;e<t.length;e++)t[e]=YA(t[e]);return t.join("")}(ww("hello"))!="5d41402abc4b2a76b9719d911017c592";function qo(t,e){if(XA){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Np(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var h=a[l];u=(u+h+s.charCodeAt(l))%256,a[l]=a[u],a[u]=h}n=t,r=a}else a=r;var g=e.length,v=0,m=0,S="";for(l=0;l<g;l++)m=(m+(h=a[v=(v+1)%256]))%256,a[v]=a[m],a[m]=h,s=a[(a[v]+a[m])%256],S+=String.fromCharCode(e.charCodeAt(l)^s);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ig={print:4,modify:8,copy:16,"annot-forms":32};function oa(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Ig.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Ig[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=Ap(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Np(this.encryptionKey,this.padding)}function sa(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function kg(t){if(Lt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){et.console&&Dt.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function xf(t){if(!(this instanceof xf))return new xf(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function _w(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function As(t,e,n,r,i){if(!(this instanceof As))return new As(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,_w.call(this,r,i)}function wa(t,e,n,r,i){if(!(this instanceof wa))return new wa(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,_w.call(this,r,i)}function Ve(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,u="S",h=null;Lt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,v={},m={internal:{},__private__:{}};m.__private__.PubSub=kg;var S="1.3",N=m.__private__.getPdfVersion=function(){return S};m.__private__.setPdfVersion=function(y){S=y};var R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return R};var _=m.__private__.getPageFormat=function(y){return R[y]};i=i||"a4";var A="compat",C="advanced",k=A;function W(){this.saveGraphicsState(),q(new Ze(at,0,0,-at,0,cs()*at).toString()+" cm"),this.setFontSize(this.getFontSize()/at),u="n",k=C}function Q(){this.restoreGraphicsState(),u="S",k=A}var J=m.__private__.combineFontStyleAndFontWeight=function(y,E){if(y=="bold"&&E=="normal"||y=="bold"&&E==400||y=="normal"&&E=="italic"||y=="bold"&&E=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return E&&(y=E==400||E==="normal"?y==="italic"?"italic":"normal":E!=700&&E!=="bold"||y!=="normal"?(E==700?"bold":E)+""+y:"bold"),y};m.advancedAPI=function(y){var E=k===A;return E&&W.call(this),typeof y!="function"||(y(this),E&&Q.call(this)),this},m.compatAPI=function(y){var E=k===C;return E&&Q.call(this),typeof y!="function"||(y(this),E&&W.call(this)),this},m.isAdvancedAPI=function(){return k===C};var G,B=function(y){if(k!==C)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=m.roundToPrecision=m.__private__.roundToPrecision=function(y,E){var H=e||E;if(isNaN(y)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(H).replace(/0+$/,"")};G=m.hpf=m.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return K(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return K(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return K(y,16)};var P=m.f2=m.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return K(y,2)},D=m.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return K(y,3)},Y=m.scale=m.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return k===A?y*at:k===C?y:void 0},j=function(y){return Y(function(E){return k===A?cs()-E:k===C?E:void 0}(y))};m.__private__.setPrecision=m.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var ce,fe="00000000000000000000000000000000",de=m.__private__.getFileId=function(){return fe},X=m.__private__.setFileId=function(y){return fe=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():fe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(xn=new oa(h.userPermissions,h.userPassword,h.ownerPassword,fe)),fe};m.setFileId=function(y){return X(y),this},m.getFileId=function(){return de()};var se=m.__private__.convertDateToPDFDate=function(y){var E=y.getTimezoneOffset(),H=E<0?"+":"-",Z=Math.floor(Math.abs(E/60)),ie=Math.abs(E%60),we=[H,$(Z),"'",$(ie),"'"].join("");return["D:",y.getFullYear(),$(y.getMonth()+1),$(y.getDate()),$(y.getHours()),$(y.getMinutes()),$(y.getSeconds()),we].join("")},ve=m.__private__.convertPDFDateToDate=function(y){var E=parseInt(y.substr(2,4),10),H=parseInt(y.substr(6,2),10)-1,Z=parseInt(y.substr(8,2),10),ie=parseInt(y.substr(10,2),10),we=parseInt(y.substr(12,2),10),Se=parseInt(y.substr(14,2),10);return new Date(E,H,Z,ie,we,Se,0)},me=m.__private__.setCreationDate=function(y){var E;if(y===void 0&&(y=new Date),y instanceof Date)E=se(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");E=y}return ce=E},I=m.__private__.getCreationDate=function(y){var E=ce;return y==="jsDate"&&(E=ve(ce)),E};m.setCreationDate=function(y){return me(y),this},m.getCreationDate=function(y){return I(y)};var V,$=m.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ee=m.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ne=0,ae=[],he=[],pe=0,xe=[],Te=[],Le=!1,Pe=he;m.__private__.setCustomOutputDestination=function(y){Le=!0,Pe=y};var We=function(y){Le||(Pe=y)};m.__private__.resetCustomOutputDestination=function(){Le=!1,Pe=he};var q=m.__private__.out=function(y){return y=y.toString(),pe+=y.length+1,Pe.push(y),Pe},Ie=m.__private__.write=function(y){return q(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},ft=m.__private__.getArrayBuffer=function(y){for(var E=y.length,H=new ArrayBuffer(E),Z=new Uint8Array(H);E--;)Z[E]=y.charCodeAt(E);return H},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ye};var Ne=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(y){return Ne=k===C?y/at:y,this};var je,Fe=m.__private__.getFontSize=m.getFontSize=function(){return k===A?Ne:Ne*at},Ke=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(y){return Ke=y,this},m.__private__.getR2L=m.getR2L=function(){return Ke};var $e,Et=m.__private__.setZoomMode=function(y){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))je=y;else if(isNaN(y)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');je=y}else je=parseInt(y,10)};m.__private__.getZoomMode=function(){return je};var gt,it=m.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');$e=y};m.__private__.getPageMode=function(){return $e};var yt=m.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');gt=y};m.__private__.getLayoutMode=function(){return gt},m.__private__.setDisplayMode=m.setDisplayMode=function(y,E,H){return Et(y),yt(E),it(H),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(y){if(Object.keys(vt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[y]},m.__private__.getDocumentProperties=function(){return vt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(y){for(var E in vt)vt.hasOwnProperty(E)&&y[E]&&(vt[E]=y[E]);return this},m.__private__.setDocumentProperty=function(y,E){if(Object.keys(vt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[y]=E};var Oe,at,Ge,an,xt,dt={},ht={},$t=[],Je={},Ut={},Qe={},ot={},Jt=null,pt=0,Xe=[],Tt=new kg(m),ns=t.hotfixes||[],Hn={},Ri={},mi=[],Ze=function y(E,H,Z,ie,we,Se){if(!(this instanceof y))return new y(E,H,Z,ie,we,Se);isNaN(E)&&(E=1),isNaN(H)&&(H=0),isNaN(Z)&&(Z=0),isNaN(ie)&&(ie=1),isNaN(we)&&(we=0),isNaN(Se)&&(Se=0),this._matrix=[E,H,Z,ie,we,Se]};Object.defineProperty(Ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ze.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(y)},Ze.prototype.multiply=function(y){var E=y.sx*this.sx+y.shy*this.shx,H=y.sx*this.shy+y.shy*this.sy,Z=y.shx*this.sx+y.sy*this.shx,ie=y.shx*this.shy+y.sy*this.sy,we=y.tx*this.sx+y.ty*this.shx+this.tx,Se=y.tx*this.shy+y.ty*this.sy+this.ty;return new Ze(E,H,Z,ie,we,Se)},Ze.prototype.decompose=function(){var y=this.sx,E=this.shy,H=this.shx,Z=this.sy,ie=this.tx,we=this.ty,Se=Math.sqrt(y*y+E*E),Ue=(y/=Se)*H+(E/=Se)*Z;H-=y*Ue,Z-=E*Ue;var ze=Math.sqrt(H*H+Z*Z);return Ue/=ze,y*(Z/=ze)<E*(H/=ze)&&(y=-y,E=-E,Ue=-Ue,Se=-Se),{scale:new Ze(Se,0,0,ze,0,0),translate:new Ze(1,0,0,1,ie,we),rotate:new Ze(y,E,-E,y,0,0),skew:new Ze(1,0,Ue,1,0,0)}},Ze.prototype.toString=function(y){return this.join(" ")},Ze.prototype.inversed=function(){var y=this.sx,E=this.shy,H=this.shx,Z=this.sy,ie=this.tx,we=this.ty,Se=1/(y*Z-E*H),Ue=Z*Se,ze=-E*Se,tt=-H*Se,lt=y*Se;return new Ze(Ue,ze,tt,lt,-Ue*ie-tt*we,-ze*ie-lt*we)},Ze.prototype.applyToPoint=function(y){var E=y.x*this.sx+y.y*this.shx+this.tx,H=y.x*this.shy+y.y*this.sy+this.ty;return new Oi(E,H)},Ze.prototype.applyToRectangle=function(y){var E=this.applyToPoint(y),H=this.applyToPoint(new Oi(y.x+y.w,y.y+y.h));return new nl(E.x,E.y,H.x-E.x,H.y-E.y)},Ze.prototype.clone=function(){var y=this.sx,E=this.shy,H=this.shx,Z=this.sy,ie=this.tx,we=this.ty;return new Ze(y,E,H,Z,ie,we)},m.Matrix=Ze;var Mi=m.matrixMult=function(y,E){return E.multiply(y)},Fi=new Ze(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Fi;var Lr=function(y,E){if(!Ut[y]){var H=(E instanceof As?"Sh":"P")+(Object.keys(Je).length+1).toString(10);E.id=H,Ut[y]=H,Je[H]=E,Tt.publish("addPattern",E)}};m.ShadingPattern=As,m.TilingPattern=wa,m.addShadingPattern=function(y,E){return B("addShadingPattern()"),Lr(y,E),this},m.beginTilingPattern=function(y){B("beginTilingPattern()"),rl(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},m.endTilingPattern=function(y,E){B("endTilingPattern()"),E.stream=Te[V].join(`
`),Lr(y,E),Tt.publish("endTilingPattern",E),mi.pop().restore()};var Rr,en=m.__private__.newObject=function(){var y=In();return Rn(y,!0),y},In=m.__private__.newObjectDeferred=function(){return ne++,ae[ne]=function(){return pe},ne},Rn=function(y,E){return E=typeof E=="boolean"&&E,ae[y]=pe,E&&q(y+" 0 obj"),y},rs=m.__private__.newAdditionalObject=function(){var y={objId:In(),content:""};return xe.push(y),y},po=In(),Yr=In(),gi=m.__private__.decodeColorString=function(y){var E=y.split(" ");if(E.length!==2||E[1]!=="g"&&E[1]!=="G")E.length!==5||E[4]!=="k"&&E[4]!=="K"||(E=[(1-E[0])*(1-E[3]),(1-E[1])*(1-E[3]),(1-E[2])*(1-E[3]),"r"]);else{var H=parseFloat(E[0]);E=[H,H,H,"r"]}for(var Z="#",ie=0;ie<3;ie++)Z+=("0"+Math.floor(255*parseFloat(E[ie])).toString(16)).slice(-2);return Z},jr=m.__private__.encodeColorString=function(y){var E;typeof y=="string"&&(y={ch1:y});var H=y.ch1,Z=y.ch2,ie=y.ch3,we=y.ch4,Se=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var Ue=new yw(H);if(Ue.ok)H=Ue.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var ze=parseInt(H.substr(1),16);H=ze>>16&255,Z=ze>>8&255,ie=255&ze}if(Z===void 0||we===void 0&&H===Z&&Z===ie)E=typeof H=="string"?H+" "+Se[0]:y.precision===2?P(H/255)+" "+Se[0]:D(H/255)+" "+Se[0];else if(we===void 0||Lt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return["1.","1.","1.",Se[1]].join(" ");E=typeof H=="string"?[H,Z,ie,Se[1]].join(" "):y.precision===2?[P(H/255),P(Z/255),P(ie/255),Se[1]].join(" "):[D(H/255),D(Z/255),D(ie/255),Se[1]].join(" ")}else E=typeof H=="string"?[H,Z,ie,we,Se[2]].join(" "):y.precision===2?[P(H),P(Z),P(ie),P(we),Se[2]].join(" "):[D(H),D(Z),D(ie),D(we),Se[2]].join(" ");return E},Xr=m.__private__.getFilters=function(){return s},Mr=m.__private__.putStream=function(y){var E=(y=y||{}).data||"",H=y.filters||Xr(),Z=y.alreadyAppliedFilters||[],ie=y.addLength1||!1,we=E.length,Se=y.objectId,Ue=function(Sn){return Sn};if(h!==null&&Se===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Ue=xn.encryptor(Se,0));var ze={};H===!0&&(H=["FlateEncode"]);var tt=y.additionalKeyValues||[],lt=(ze=Ve.API.processDataByFilters!==void 0?Ve.API.processDataByFilters(E,H):{data:E,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(ze.data.length!==0&&(tt.push({key:"Length",value:ze.data.length}),ie===!0&&tt.push({key:"Length1",value:we})),lt.length!=0)if(lt.split("/").length-1==1)tt.push({key:"Filter",value:lt});else{tt.push({key:"Filter",value:"["+lt+"]"});for(var St=0;St<tt.length;St+=1)if(tt[St].key==="DecodeParms"){for(var jt=[],yn=0;yn<ze.reverseChain.split("/").length-1;yn+=1)jt.push("null");jt.push(tt[St].value),tt[St].value="["+jt.join(" ")+"]"}}q("<<");for(var Bt=0;Bt<tt.length;Bt++)q("/"+tt[Bt].key+" "+tt[Bt].value);q(">>"),ze.data.length!==0&&(q("stream"),q(Ue(ze.data)),q("endstream"))},is=m.__private__.putPage=function(y){var E=y.number,H=y.data,Z=y.objId,ie=y.contentsObjId;Rn(Z,!0),q("<</Type /Page"),q("/Parent "+y.rootDictionaryObjId+" 0 R"),q("/Resources "+y.resourceDictionaryObjId+" 0 R"),q("/MediaBox ["+parseFloat(G(y.mediaBox.bottomLeftX))+" "+parseFloat(G(y.mediaBox.bottomLeftY))+" "+G(y.mediaBox.topRightX)+" "+G(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&q("/CropBox ["+G(y.cropBox.bottomLeftX)+" "+G(y.cropBox.bottomLeftY)+" "+G(y.cropBox.topRightX)+" "+G(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&q("/BleedBox ["+G(y.bleedBox.bottomLeftX)+" "+G(y.bleedBox.bottomLeftY)+" "+G(y.bleedBox.topRightX)+" "+G(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&q("/TrimBox ["+G(y.trimBox.bottomLeftX)+" "+G(y.trimBox.bottomLeftY)+" "+G(y.trimBox.topRightX)+" "+G(y.trimBox.topRightY)+"]"),y.artBox!==null&&q("/ArtBox ["+G(y.artBox.bottomLeftX)+" "+G(y.artBox.bottomLeftY)+" "+G(y.artBox.topRightX)+" "+G(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&q("/UserUnit "+y.userUnit),Tt.publish("putPage",{objId:Z,pageContext:Xe[E],pageNumber:E,page:H}),q("/Contents "+ie+" 0 R"),q(">>"),q("endobj");var we=H.join(`
`);return k===C&&(we+=`
Q`),Rn(ie,!0),Mr({data:we,filters:Xr(),objectId:ie}),q("endobj"),Z},vi=m.__private__.putPages=function(){var y,E,H=[];for(y=1;y<=pt;y++)Xe[y].objId=In(),Xe[y].contentsObjId=In();for(y=1;y<=pt;y++)H.push(is({number:y,data:Te[y],objId:Xe[y].objId,contentsObjId:Xe[y].contentsObjId,mediaBox:Xe[y].mediaBox,cropBox:Xe[y].cropBox,bleedBox:Xe[y].bleedBox,trimBox:Xe[y].trimBox,artBox:Xe[y].artBox,userUnit:Xe[y].userUnit,rootDictionaryObjId:po,resourceDictionaryObjId:Yr}));Rn(po,!0),q("<</Type /Pages");var Z="/Kids [";for(E=0;E<pt;E++)Z+=H[E]+" 0 R ";q(Z+"]"),q("/Count "+pt),q(">>"),q("endobj"),Tt.publish("postPutPages")},os=function(y){Tt.publish("putFont",{font:y,out:q,newObject:en,putStream:Mr}),y.isAlreadyPutted!==!0&&(y.objectNumber=en(),q("<<"),q("/Type /Font"),q("/BaseFont /"+sa(y.postScriptName)),q("/Subtype /Type1"),typeof y.encoding=="string"&&q("/Encoding /"+y.encoding),q("/FirstChar 32"),q("/LastChar 255"),q(">>"),q("endobj"))},Hs=function(y){y.objectNumber=en();var E=[];E.push({key:"Type",value:"/XObject"}),E.push({key:"Subtype",value:"/Form"}),E.push({key:"BBox",value:"["+[G(y.x),G(y.y),G(y.x+y.width),G(y.y+y.height)].join(" ")+"]"}),E.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var H=y.pages[1].join(`
`);Mr({data:H,additionalKeyValues:E,objectId:y.objectNumber}),q("endobj")},Vs=function(y,E){E||(E=21);var H=en(),Z=function(Se,Ue){var ze,tt=[],lt=1/(Ue-1);for(ze=0;ze<1;ze+=lt)tt.push(ze);if(tt.push(1),Se[0].offset!=0){var St={offset:0,color:Se[0].color};Se.unshift(St)}if(Se[Se.length-1].offset!=1){var jt={offset:1,color:Se[Se.length-1].color};Se.push(jt)}for(var yn="",Bt=0,Sn=0;Sn<tt.length;Sn++){for(ze=tt[Sn];ze>Se[Bt+1].offset;)Bt++;var wn=Se[Bt].offset,Mn=(ze-wn)/(Se[Bt+1].offset-wn),Vi=Se[Bt].color,Qr=Se[Bt+1].color;yn+=ee(Math.round((1-Mn)*Vi[0]+Mn*Qr[0]).toString(16))+ee(Math.round((1-Mn)*Vi[1]+Mn*Qr[1]).toString(16))+ee(Math.round((1-Mn)*Vi[2]+Mn*Qr[2]).toString(16))}return yn.trim()}(y.colors,E),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+E+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Mr({data:Z,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),q("endobj"),y.objectNumber=en(),q("<< /ShadingType "+y.type),q("/ColorSpace /DeviceRGB");var we="/Coords ["+G(parseFloat(y.coords[0]))+" "+G(parseFloat(y.coords[1]))+" ";y.type===2?we+=G(parseFloat(y.coords[2]))+" "+G(parseFloat(y.coords[3])):we+=G(parseFloat(y.coords[2]))+" "+G(parseFloat(y.coords[3]))+" "+G(parseFloat(y.coords[4]))+" "+G(parseFloat(y.coords[5])),q(we+="]"),y.matrix&&q("/Matrix ["+y.matrix.toString()+"]"),q("/Function "+H+" 0 R"),q("/Extend [true true]"),q(">>"),q("endobj")},Gs=function(y,E){var H=In(),Z=en();E.push({resourcesOid:H,objectOid:Z}),y.objectNumber=Z;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+y.boundingBox.map(G).join(" ")+"]"}),ie.push({key:"XStep",value:G(y.xStep)}),ie.push({key:"YStep",value:G(y.yStep)}),ie.push({key:"Resources",value:H+" 0 R"}),y.matrix&&ie.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Mr({data:y.stream,additionalKeyValues:ie,objectId:y.objectNumber}),q("endobj")},Yf=function(y){for(var E in y.objectNumber=en(),q("<<"),y)switch(E){case"opacity":q("/ca "+P(y[E]));break;case"stroke-opacity":q("/CA "+P(y[E]))}q(">>"),q("endobj")},Ka=function(y){Rn(y.resourcesOid,!0),q("<<"),q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var E in q("/Font <<"),dt)dt.hasOwnProperty(E)&&(g===!1||g===!0&&v.hasOwnProperty(E))&&q("/"+E+" "+dt[E].objectNumber+" 0 R");q(">>")}(),function(){if(Object.keys(Je).length>0){for(var E in q("/Shading <<"),Je)Je.hasOwnProperty(E)&&Je[E]instanceof As&&Je[E].objectNumber>=0&&q("/"+E+" "+Je[E].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),q(">>")}}(),function(E){if(Object.keys(Je).length>0){for(var H in q("/Pattern <<"),Je)Je.hasOwnProperty(H)&&Je[H]instanceof m.TilingPattern&&Je[H].objectNumber>=0&&Je[H].objectNumber<E&&q("/"+H+" "+Je[H].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),q(">>")}}(y.objectOid),function(){if(Object.keys(Qe).length>0){var E;for(E in q("/ExtGState <<"),Qe)Qe.hasOwnProperty(E)&&Qe[E].objectNumber>=0&&q("/"+E+" "+Qe[E].objectNumber+" 0 R");Tt.publish("putGStateDict"),q(">>")}}(),function(){for(var E in q("/XObject <<"),Hn)Hn.hasOwnProperty(E)&&Hn[E].objectNumber>=0&&q("/"+E+" "+Hn[E].objectNumber+" 0 R");Tt.publish("putXobjectDict"),q(">>")}(),q(">>"),q("endobj")},_u=function(y){ht[y.fontName]=ht[y.fontName]||{},ht[y.fontName][y.fontStyle]=y.id},xu=function(y,E,H,Z,ie){var we={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:y,fontName:E,fontStyle:H,encoding:Z,isStandardFont:ie||!1,metadata:{}};return Tt.publish("addFont",{font:we,instance:this}),dt[we.id]=we,_u(we),we.id},Fr=m.__private__.pdfEscape=m.pdfEscape=function(y,E){return function(H,Z){var ie,we,Se,Ue,ze,tt,lt,St,jt;if(Se=(Z=Z||{}).sourceEncoding||"Unicode",ze=Z.outputEncoding,(Z.autoencode||ze)&&dt[Oe].metadata&&dt[Oe].metadata[Se]&&dt[Oe].metadata[Se].encoding&&(Ue=dt[Oe].metadata[Se].encoding,!ze&&dt[Oe].encoding&&(ze=dt[Oe].encoding),!ze&&Ue.codePages&&(ze=Ue.codePages[0]),typeof ze=="string"&&(ze=Ue[ze]),ze)){for(lt=!1,tt=[],ie=0,we=H.length;ie<we;ie++)(St=ze[H.charCodeAt(ie)])?tt.push(String.fromCharCode(St)):tt.push(H[ie]),tt[ie].charCodeAt(0)>>8&&(lt=!0);H=tt.join("")}for(ie=H.length;lt===void 0&&ie!==0;)H.charCodeAt(ie-1)>>8&&(lt=!0),ie--;if(!lt)return H;for(tt=Z.noBOM?[]:[254,255],ie=0,we=H.length;ie<we;ie++){if((jt=(St=H.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+H+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(jt),tt.push(St-(jt<<8))}return String.fromCharCode.apply(void 0,tt)}(y,E).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ya=m.__private__.beginPage=function(y){Te[++pt]=[],Xe[pt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Au(pt),We(Te[V])},Su=function(y,E){var H,Z,ie;switch(n=E||n,typeof y=="string"&&(H=_(y.toLowerCase()),Array.isArray(H)&&(Z=H[0],ie=H[1])),Array.isArray(y)&&(Z=y[0]*at,ie=y[1]*at),isNaN(Z)&&(Z=i[0],ie=i[1]),(Z>14400||ie>14400)&&(Dt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),ie=Math.min(14400,ie)),i=[Z,ie],n.substr(0,1)){case"l":ie>Z&&(i=[ie,Z]);break;case"p":Z>ie&&(i=[ie,Z])}Ya(i),nt(Za),q(Ks),el!==0&&q(el+" J"),tl!==0&&q(tl+" j"),Tt.publish("addPage",{pageNumber:pt})},ja=function(y){y>0&&y<=pt&&(Te.splice(y,1),Xe.splice(y,1),pt--,V>pt&&(V=pt),this.setPage(V))},Au=function(y){y>0&&y<=pt&&(V=y)},Nu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Te.length-1},Cu=function(y,E,H){var Z,ie=void 0;return H=H||{},y=y!==void 0?y:dt[Oe].fontName,E=E!==void 0?E:dt[Oe].fontStyle,Z=y.toLowerCase(),ht[Z]!==void 0&&ht[Z][E]!==void 0?ie=ht[Z][E]:ht[y]!==void 0&&ht[y][E]!==void 0?ie=ht[y][E]:H.disableWarning===!1&&Dt.warn("Unable to look up font label for font '"+y+"', '"+E+"'. Refer to getFontList() for available fonts."),ie||H.noFallback||(ie=ht.times[E])==null&&(ie=ht.times.normal),ie},yi=m.__private__.putInfo=function(){var y=en(),E=function(Z){return Z};for(var H in h!==null&&(E=xn.encryptor(y,0)),q("<<"),q("/Producer ("+Fr(E("jsPDF "+Ve.version))+")"),vt)vt.hasOwnProperty(H)&&vt[H]&&q("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+Fr(E(vt[H]))+")");q("/CreationDate ("+Fr(E(ce))+")"),q(">>"),q("endobj")},Ws=m.__private__.putCatalog=function(y){var E=(y=y||{}).rootDictionaryObjId||po;switch(en(),q("<<"),q("/Type /Catalog"),q("/Pages "+E+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+je;H.substr(H.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&q("/OpenAction [3 0 R /XYZ null null "+P(je)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}$e&&q("/PageMode /"+$e),Tt.publish("putCatalog"),q(">>"),q("endobj")},jf=m.__private__.putTrailer=function(){q("trailer"),q("<<"),q("/Size "+(ne+1)),q("/Root "+ne+" 0 R"),q("/Info "+(ne-1)+" 0 R"),h!==null&&q("/Encrypt "+xn.oid+" 0 R"),q("/ID [ <"+fe+"> <"+fe+"> ]"),q(">>")},vn=m.__private__.putHeader=function(){q("%PDF-"+S),q("%")},Eu=m.__private__.putXRef=function(){var y="0000000000";q("xref"),q("0 "+(ne+1)),q("0000000000 65535 f ");for(var E=1;E<=ne;E++)typeof ae[E]=="function"?q((y+ae[E]()).slice(-10)+" 00000 n "):ae[E]!==void 0?q((y+ae[E]).slice(-10)+" 00000 n "):q("0000000000 00000 n ")},wi=m.__private__.buildDocument=function(){var y;ne=0,pe=0,he=[],ae=[],xe=[],po=In(),Yr=In(),We(he),Tt.publish("buildDocument"),vn(),vi(),function(){Tt.publish("putAdditionalObjects");for(var H=0;H<xe.length;H++){var Z=xe[H];Rn(Z.objId,!0),q(Z.content),q("endobj")}Tt.publish("postPutAdditionalObjects")}(),y=[],function(){for(var H in dt)dt.hasOwnProperty(H)&&(g===!1||g===!0&&v.hasOwnProperty(H))&&os(dt[H])}(),function(){var H;for(H in Qe)Qe.hasOwnProperty(H)&&Yf(Qe[H])}(),function(){for(var H in Hn)Hn.hasOwnProperty(H)&&Hs(Hn[H])}(),function(H){var Z;for(Z in Je)Je.hasOwnProperty(Z)&&(Je[Z]instanceof As?Vs(Je[Z]):Je[Z]instanceof wa&&Gs(Je[Z],H))}(y),Tt.publish("putResources"),y.forEach(Ka),Ka({resourcesOid:Yr,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources"),h!==null&&(xn.oid=en(),q("<<"),q("/Filter /Standard"),q("/V "+xn.v),q("/R "+xn.r),q("/U <"+xn.toHexString(xn.U)+">"),q("/O <"+xn.toHexString(xn.O)+">"),q("/P "+xn.P),q(">>"),q("endobj")),yi(),Ws();var E=pe;return Eu(),jf(),q("startxref"),q(""+E),q("%%EOF"),We(Te[V]),he.join(`
`)},$s=m.__private__.getBlob=function(y){return new Blob([ft(y)],{type:"application/pdf"})},Tu=m.output=m.__private__.output=(Rr=function(y,E){switch(typeof(E=E||{})=="string"?E={filename:E}:E.filename=E.filename||"generated.pdf",y){case void 0:return wi();case"save":m.save(E.filename);break;case"arraybuffer":return ft(wi());case"blob":return $s(wi());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL($s(wi()))||void 0;Dt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",Z=wi();try{H=Tg(Z)}catch{H=Tg(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+E.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';E.pdfObjectUrl&&(ie=E.pdfObjectUrl,we="");var Se='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(E)+");<\/script></body></html>",Ue=et.open();return Ue!==null&&Ue.document.write(Se),Ue}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var ze='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(E.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+E.filename+'" width="500px" height="400px" /></body></html>',tt=et.open();if(tt!==null){tt.document.write(ze);var lt=this;tt.document.documentElement.querySelector("#pdfViewer").onload=function(){tt.document.title=E.filename,tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lt.output("bloburl"))}}return tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",E)+'"></iframe></body></html>',jt=et.open();if(jt!==null&&(jt.document.write(St),jt.document.title=E.filename),jt||typeof safari>"u")return jt;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",E);default:return null}},Rr.foo=function(){try{return Rr.apply(this,arguments)}catch(H){var y=H.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var E="Error in function "+y.split(`
`)[0].split("<")[0]+": "+H.message;if(!et.console)throw new Error(E);et.console.error(E,H),et.alert&&alert(E)}},Rr.foo.bar=Rr,Rr.foo),Dr=function(y){return Array.isArray(ns)===!0&&ns.indexOf(y)>-1};switch(r){case"pt":at=1;break;case"mm":at=72/25.4;break;case"cm":at=72/2.54;break;case"in":at=72;break;case"px":at=Dr("px_scaling")==1?.75:96/72;break;case"pc":case"em":at=12;break;case"ex":at=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);at=r}var xn=null;me(),X();var Di=m.__private__.getPageInfo=m.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[y].objId,pageNumber:y,pageContext:Xe[y]}},bu=m.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var E in Xe)if(Xe[E].objId===y)break;return Di(E)},Xf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Xe[V].objId,pageNumber:V,pageContext:Xe[V]}};m.addPage=function(){return Su.apply(this,arguments),this},m.setPage=function(){return Au.apply(this,arguments),We.call(this,Te[V]),this},m.insertPage=function(y){return this.addPage(),this.movePage(V,y),this},m.movePage=function(y,E){var H,Z;if(y>E){H=Te[y],Z=Xe[y];for(var ie=y;ie>E;ie--)Te[ie]=Te[ie-1],Xe[ie]=Xe[ie-1];Te[E]=H,Xe[E]=Z,this.setPage(E)}else if(y<E){H=Te[y],Z=Xe[y];for(var we=y;we<E;we++)Te[we]=Te[we+1],Xe[we]=Xe[we+1];Te[E]=H,Xe[E]=Z,this.setPage(E)}return this},m.deletePage=function(){return ja.apply(this,arguments),this},m.__private__.text=m.text=function(y,E,H,Z,ie){var we,Se,Ue,ze,tt,lt,St,jt,yn,Bt=(Z=Z||{}).scope||this;if(typeof y=="number"&&typeof E=="number"&&(typeof H=="string"||Array.isArray(H))){var Sn=H;H=E,E=y,y=Sn}if(arguments[3]instanceof Ze==0?(Ue=arguments[4],ze=arguments[5],Lt(St=arguments[3])==="object"&&St!==null||(typeof Ue=="string"&&(ze=Ue,Ue=null),typeof St=="string"&&(ze=St,St=null),typeof St=="number"&&(Ue=St,St=null),Z={flags:St,angle:Ue,align:ze})):(B("The transform parameter of text() with a Matrix value"),yn=ie),isNaN(E)||isNaN(H)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Bt;var wn,Mn="",Vi=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:as,Qr=Bt.internal.scaleFactor;function Gi(bt){return bt=bt.split("	").join(Array(Z.TabLen||9).join(" ")),Fr(bt,St)}function ol(bt){for(var Mt,un=bt.concat(),An=[],Ji=un.length;Ji--;)typeof(Mt=un.shift())=="string"?An.push(Mt):Array.isArray(bt)&&(Mt.length===1||Mt[1]===void 0&&Mt[2]===void 0)?An.push(Mt[0]):An.push([Mt[0],Mt[1],Mt[2]]);return An}function js(bt,Mt){var un;if(typeof bt=="string")un=Mt(bt)[0];else if(Array.isArray(bt)){for(var An,Ji,ml=bt.concat(),Qs=[],qu=ml.length;qu--;)typeof(An=ml.shift())=="string"?Qs.push(Mt(An)[0]):Array.isArray(An)&&typeof An[0]=="string"&&(Ji=Mt(An[0],An[1],An[2]),Qs.push([Ji[0],Ji[1],Ji[2]]));un=Qs}return un}var mo=!1,fs=!0;if(typeof y=="string")mo=!0;else if(Array.isArray(y)){var ds=y.concat();Se=[];for(var go,Fn=ds.length;Fn--;)(typeof(go=ds.shift())!="string"||Array.isArray(go)&&typeof go[0]!="string")&&(fs=!1);mo=fs}if(mo===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var hs=Ne/Bt.internal.scaleFactor,ps=hs*(Vi-1);switch(Z.baseline){case"bottom":H-=ps;break;case"top":H+=hs-ps;break;case"hanging":H+=hs-2*ps;break;case"middle":H+=hs/2-ps}if((lt=Z.maxWidth||0)>0&&(typeof y=="string"?y=Bt.splitTextToSize(y,lt):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(bt,Mt){return bt.concat(Bt.splitTextToSize(Mt,lt))},[]))),we={text:y,x:E,y:H,options:Z,mutex:{pdfEscape:Fr,activeFontKey:Oe,fonts:dt,activeFontSize:Ne}},Tt.publish("preProcessText",we),y=we.text,Ue=(Z=we.options).angle,yn instanceof Ze==0&&Ue&&typeof Ue=="number"){Ue*=Math.PI/180,Z.rotationDirection===0&&(Ue=-Ue),k===C&&(Ue=-Ue);var sl=Math.cos(Ue),al=Math.sin(Ue);yn=new Ze(sl,al,-al,sl,0,0)}else Ue&&Ue instanceof Ze&&(yn=Ue);k!==C||yn||(yn=Fi),(tt=Z.charSpace||qi)!==void 0&&(Mn+=G(Y(tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jt=Z.horizontalScale)!==void 0&&(Mn+=G(100*jt)+` Tz
`),Z.lang;var Qn=-1,Wi=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,Xs=Bt.internal.getCurrentPageInfo().pageContext;switch(Wi){case 0:case!1:case"fill":Qn=0;break;case 1:case!0:case"stroke":Qn=1;break;case 2:case"fillThenStroke":Qn=2;break;case 3:case"invisible":Qn=3;break;case 4:case"fillAndAddForClipping":Qn=4;break;case 5:case"strokeAndAddPathForClipping":Qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qn=6;break;case 7:case"addToPathForClipping":Qn=7}var Uu=Xs.usedRenderingMode!==void 0?Xs.usedRenderingMode:-1;Qn!==-1?Mn+=Qn+` Tr
`:Uu!==-1&&(Mn+=`0 Tr
`),Qn!==-1&&(Xs.usedRenderingMode=Qn),ze=Z.align||"left";var Ur,ms=Ne*Vi,ll=Bt.internal.pageSize.getWidth(),ul=dt[Oe];tt=Z.charSpace||qi,lt=Z.maxWidth||0,St=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var vo=[],gs=function(bt){return Bt.getStringUnitWidth(bt,{font:ul,charSpace:tt,fontSize:Ne,doKerning:!1})*Ne/Qr};if(Object.prototype.toString.call(y)==="[object Array]"){var mr;Se=ol(y),ze!=="left"&&(Ur=Se.map(gs));var gr,yo=0;if(ze==="right"){E-=Ur[0],y=[],Fn=Se.length;for(var $i=0;$i<Fn;$i++)$i===0?(gr=Ui(E),mr=Bi(H)):(gr=Y(yo-Ur[$i]),mr=-ms),y.push([Se[$i],gr,mr]),yo=Ur[$i]}else if(ze==="center"){E-=Ur[0]/2,y=[],Fn=Se.length;for(var wo=0;wo<Fn;wo++)wo===0?(gr=Ui(E),mr=Bi(H)):(gr=Y((yo-Ur[wo])/2),mr=-ms),y.push([Se[wo],gr,mr]),yo=Ur[wo]}else if(ze==="left"){y=[],Fn=Se.length;for(var cl=0;cl<Fn;cl++)y.push(Se[cl])}else if(ze==="justify"&&ul.encoding==="Identity-H"){y=[],Fn=Se.length,lt=lt!==0?lt:ll;for(var Zs=0,ln=0;ln<Fn;ln++)if(mr=ln===0?Bi(H):-ms,gr=ln===0?Ui(E):Zs,ln<Fn-1){var Bu=Y((lt-Ur[ln])/(Se[ln].split(" ").length-1)),xi=Se[ln].split(" ");y.push([xi[0]+" ",gr,mr]),Zs=0;for(var Si=1;Si<xi.length;Si++){var fl=(gs(xi[Si-1]+" "+xi[Si])-gs(xi[Si]))*Qr+Bu;Si==xi.length-1?y.push([xi[Si],fl,0]):y.push([xi[Si]+" ",fl,0]),Zs-=fl}}else y.push([Se[ln],gr,mr]);y.push(["",Zs,0])}else{if(ze!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Fn=Se.length,lt=lt!==0?lt:ll,ln=0;ln<Fn;ln++){mr=ln===0?Bi(H):-ms,gr=ln===0?Ui(E):0;var dl=Se[ln].split(" ").length-1,hl=dl>0?(lt-Ur[ln])/dl:0;ln<Fn-1?vo.push(G(Y(hl))):vo.push(0),y.push([Se[ln],gr,mr])}}}(typeof Z.R2L=="boolean"?Z.R2L:Ke)===!0&&(y=js(y,function(bt,Mt,un){return[bt.split("").reverse().join(""),Mt,un]})),we={text:y,x:E,y:H,options:Z,mutex:{pdfEscape:Fr,activeFontKey:Oe,fonts:dt,activeFontSize:Ne}},Tt.publish("postProcessText",we),y=we.text,wn=we.mutex.isHex||!1;var pl=dt[Oe].encoding;pl!=="WinAnsiEncoding"&&pl!=="StandardEncoding"||(y=js(y,function(bt,Mt,un){return[Gi(bt),Mt,un]})),Se=ol(y),y=[];for(var _o,xo,So,vs=Array.isArray(Se[0])?1:0,Ao="",ys=function(bt,Mt,un){var An="";return un instanceof Ze?(un=typeof Z.angle=="number"?Mi(un,new Ze(1,0,0,1,bt,Mt)):Mi(new Ze(1,0,0,1,bt,Mt),un),k===C&&(un=Mi(new Ze(1,0,0,-1,0,0),un)),An=un.join(" ")+` Tm
`):An=G(bt)+" "+G(Mt)+` Td
`,An},Br=0;Br<Se.length;Br++){switch(Ao="",vs){case 1:So=(wn?"<":"(")+Se[Br][0]+(wn?">":")"),_o=parseFloat(Se[Br][1]),xo=parseFloat(Se[Br][2]);break;case 0:So=(wn?"<":"(")+Se[Br]+(wn?">":")"),_o=Ui(E),xo=Bi(H)}vo!==void 0&&vo[Br]!==void 0&&(Ao=vo[Br]+` Tw
`),Br===0?y.push(Ao+ys(_o,xo,yn)+So):vs===0?y.push(Ao+So):vs===1&&y.push(Ao+ys(_o,xo,yn)+So)}y=vs===0?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Ai=`BT
/`;return Ai+=Oe+" "+Ne+` Tf
`,Ai+=G(Ne*Vi)+` TL
`,Ai+=ls+`
`,Ai+=Mn,Ai+=y,q(Ai+="ET"),v[Oe]=!0,Bt};var Zf=m.__private__.clip=m.clip=function(y){return q(y==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Zf("evenodd")},m.__private__.discardPath=m.discardPath=function(){return q("n"),this};var _i=m.__private__.isValidStyle=function(y){var E=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(E=!0),E};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(y){return _i(y)&&(u=y),this};var Iu=m.__private__.getStyle=m.getStyle=function(y){var E=u;switch(y){case"D":case"S":E="S";break;case"F":E="f";break;case"FD":case"DF":E="B";break;case"f":case"f*":case"B":case"B*":E=y}return E},ku=m.close=function(){return q("h"),this};m.stroke=function(){return q("S"),this},m.fill=function(y){return Js("f",y),this},m.fillEvenOdd=function(y){return Js("f*",y),this},m.fillStroke=function(y){return Js("B",y),this},m.fillStrokeEvenOdd=function(y){return Js("B*",y),this};var Js=function(y,E){Lt(E)==="object"?ed(E,y):q(y)},ss=function(y){y===null||k===C&&y===void 0||(y=Iu(y),q(y))};function Qf(y,E,H,Z,ie){var we=new wa(E||this.boundingBox,H||this.xStep,Z||this.yStep,this.gState,ie||this.matrix);we.stream=this.stream;var Se=y+"$$"+this.cloneIndex+++"$$";return Lr(Se,we),we}var ed=function(y,E){var H=Ut[y.key],Z=Je[H];if(Z instanceof As)q("q"),q(td(E)),Z.gState&&m.setGState(Z.gState),q(y.matrix.toString()+" cm"),q("/"+H+" sh"),q("Q");else if(Z instanceof wa){var ie=new Ze(1,0,0,-1,0,cs());y.matrix&&(ie=ie.multiply(y.matrix||Fi),H=Qf.call(Z,y.key,y.boundingBox,y.xStep,y.yStep,ie).id),q("q"),q("/Pattern cs"),q("/"+H+" scn"),Z.gState&&m.setGState(Z.gState),q(E),q("Q")}},td=function(y){switch(y){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xa=m.moveTo=function(y,E){return q(G(Y(y))+" "+G(j(E))+" m"),this},Pu=m.lineTo=function(y,E){return q(G(Y(y))+" "+G(j(E))+" l"),this},Zr=m.curveTo=function(y,E,H,Z,ie,we){return q([G(Y(y)),G(j(E)),G(Y(H)),G(j(Z)),G(Y(ie)),G(j(we)),"c"].join(" ")),this};m.__private__.line=m.line=function(y,E,H,Z,ie){if(isNaN(y)||isNaN(E)||isNaN(H)||isNaN(Z)||!_i(ie))throw new Error("Invalid arguments passed to jsPDF.line");return k===A?this.lines([[H-y,Z-E]],y,E,[1,1],ie||"S"):this.lines([[H-y,Z-E]],y,E,[1,1]).stroke()},m.__private__.lines=m.lines=function(y,E,H,Z,ie,we){var Se,Ue,ze,tt,lt,St,jt,yn,Bt,Sn,wn,Mn;if(typeof y=="number"&&(Mn=H,H=E,E=y,y=Mn),Z=Z||[1,1],we=we||!1,isNaN(E)||isNaN(H)||!Array.isArray(y)||!Array.isArray(Z)||!_i(ie)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xa(E,H),Se=Z[0],Ue=Z[1],tt=y.length,Sn=E,wn=H,ze=0;ze<tt;ze++)(lt=y[ze]).length===2?(Sn=lt[0]*Se+Sn,wn=lt[1]*Ue+wn,Pu(Sn,wn)):(St=lt[0]*Se+Sn,jt=lt[1]*Ue+wn,yn=lt[2]*Se+Sn,Bt=lt[3]*Ue+wn,Sn=lt[4]*Se+Sn,wn=lt[5]*Ue+wn,Zr(St,jt,yn,Bt,Sn,wn));return we&&ku(),ss(ie),this},m.path=function(y){for(var E=0;E<y.length;E++){var H=y[E],Z=H.c;switch(H.op){case"m":Xa(Z[0],Z[1]);break;case"l":Pu(Z[0],Z[1]);break;case"c":Zr.apply(this,Z);break;case"h":ku()}}return this},m.__private__.rect=m.rect=function(y,E,H,Z,ie){if(isNaN(y)||isNaN(E)||isNaN(H)||isNaN(Z)||!_i(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return k===A&&(Z=-Z),q([G(Y(y)),G(j(E)),G(Y(H)),G(Y(Z)),"re"].join(" ")),ss(ie),this},m.__private__.triangle=m.triangle=function(y,E,H,Z,ie,we,Se){if(isNaN(y)||isNaN(E)||isNaN(H)||isNaN(Z)||isNaN(ie)||isNaN(we)||!_i(Se))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-y,Z-E],[ie-H,we-Z],[y-ie,E-we]],y,E,[1,1],Se,!0),this},m.__private__.roundedRect=m.roundedRect=function(y,E,H,Z,ie,we,Se){if(isNaN(y)||isNaN(E)||isNaN(H)||isNaN(Z)||isNaN(ie)||isNaN(we)||!_i(Se))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ue=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*H),we=Math.min(we,.5*Z),this.lines([[H-2*ie,0],[ie*Ue,0,ie,we-we*Ue,ie,we],[0,Z-2*we],[0,we*Ue,-ie*Ue,we,-ie,we],[2*ie-H,0],[-ie*Ue,0,-ie,-we*Ue,-ie,-we],[0,2*we-Z],[0,-we*Ue,ie*Ue,-we,ie,-we]],y+ie,E,[1,1],Se,!0),this},m.__private__.ellipse=m.ellipse=function(y,E,H,Z,ie){if(isNaN(y)||isNaN(E)||isNaN(H)||isNaN(Z)||!_i(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*H,Se=4/3*(Math.SQRT2-1)*Z;return Xa(y+H,E),Zr(y+H,E-Se,y+we,E-Z,y,E-Z),Zr(y-we,E-Z,y-H,E-Se,y-H,E),Zr(y-H,E+Se,y-we,E+Z,y,E+Z),Zr(y+we,E+Z,y+H,E+Se,y+H,E),ss(ie),this},m.__private__.circle=m.circle=function(y,E,H,Z){if(isNaN(y)||isNaN(E)||isNaN(H)||!_i(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,E,H,H,Z)},m.setFont=function(y,E,H){return H&&(E=J(E,H)),Oe=Cu(y,E,{disableWarning:!1}),this};var nd=m.__private__.getFont=m.getFont=function(){return dt[Cu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var y,E,H={};for(y in ht)if(ht.hasOwnProperty(y))for(E in H[y]=[],ht[y])ht[y].hasOwnProperty(E)&&H[y].push(E);return H},m.addFont=function(y,E,H,Z,ie){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(H=J(H,Z)),xu.call(this,y,E,H,ie=ie||"Identity-H")};var as,Za=t.lineWidth||.200025,rd=m.__private__.getLineWidth=m.getLineWidth=function(){return Za},nt=m.__private__.setLineWidth=m.setLineWidth=function(y){return Za=y,q(G(Y(y))+" w"),this};m.__private__.setLineDash=Ve.API.setLineDash=Ve.API.setLineDashPattern=function(y,E){if(y=y||[],E=E||0,isNaN(E)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(H){return G(Y(H))}).join(" "),E=G(Y(E)),q("["+y+"] "+E+" d"),this};var id=m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*as};m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*as};var od=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(as=y),this},sd=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return as};od(t.lineHeight);var Ui=m.__private__.getHorizontalCoordinate=function(y){return Y(y)},Bi=m.__private__.getVerticalCoordinate=function(y){return k===C?y:Xe[V].mediaBox.topRightY-Xe[V].mediaBox.bottomLeftY-Y(y)},ad=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(y){return G(Ui(y))},ld=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(y){return G(Bi(y))},Ks=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return gi(Ks)},m.__private__.setStrokeColor=m.setDrawColor=function(y,E,H,Z){return Ks=jr({ch1:y,ch2:E,ch3:H,ch4:Z,pdfColorType:"draw",precision:2}),q(Ks),this};var Qa=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return gi(Qa)},m.__private__.setFillColor=m.setFillColor=function(y,E,H,Z){return Qa=jr({ch1:y,ch2:E,ch3:H,ch4:Z,pdfColorType:"fill",precision:2}),q(Qa),this};var ls=t.textColor||"0 g",ud=m.__private__.getTextColor=m.getTextColor=function(){return gi(ls)};m.__private__.setTextColor=m.setTextColor=function(y,E,H,Z){return ls=jr({ch1:y,ch2:E,ch3:H,ch4:Z,pdfColorType:"text",precision:3}),this};var qi=t.charSpace,cd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(qi||0)};m.__private__.setCharSpace=m.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qi=y,this};var el=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(y){var E=m.CapJoinStyles[y];if(E===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return el=E,q(E+" J"),this};var tl=0;m.__private__.setLineJoin=m.setLineJoin=function(y){var E=m.CapJoinStyles[y];if(E===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tl=E,q(E+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return q(G(Y(y))+" M"),this},m.GState=xf,m.setGState=function(y){(y=typeof y=="string"?Qe[ot[y]]:Lu(null,y)).equals(Jt)||(q("/"+y.id+" gs"),Jt=y)};var Lu=function(y,E){if(!y||!ot[y]){var H=!1;for(var Z in Qe)if(Qe.hasOwnProperty(Z)&&Qe[Z].equals(E)){H=!0;break}if(H)E=Qe[Z];else{var ie="GS"+(Object.keys(Qe).length+1).toString(10);Qe[ie]=E,E.id=ie}return y&&(ot[y]=E.id),Tt.publish("addGState",E),E}};m.addGState=function(y,E){return Lu(y,E),this},m.saveGraphicsState=function(){return q("q"),$t.push({key:Oe,size:Ne,color:ls}),this},m.restoreGraphicsState=function(){q("Q");var y=$t.pop();return Oe=y.key,Ne=y.size,ls=y.color,Jt=null,this},m.setCurrentTransformationMatrix=function(y){return q(y.toString()+" cm"),this},m.comment=function(y){return q("#"+y),this};var Oi=function(y,E){var H=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(we){isNaN(we)||(H=parseFloat(we))}});var Z=E||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(we){isNaN(we)||(Z=parseFloat(we))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(we){ie=we.toString()}}),this},nl=function(y,E,H,Z){Oi.call(this,y,E),this.type="rect";var ie=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(Se){isNaN(Se)||(ie=parseFloat(Se))}});var we=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(Se){isNaN(Se)||(we=parseFloat(Se))}}),this},Ys=function(){this.page=pt,this.currentPage=V,this.pages=Te.slice(0),this.pagesContext=Xe.slice(0),this.x=Ge,this.y=an,this.matrix=xt,this.width=il(V),this.height=Mu(V),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Ys.prototype.restore=function(){pt=this.page,V=this.currentPage,Xe=this.pagesContext,Te=this.pages,Ge=this.x,an=this.y,xt=this.matrix,Ru(V,this.width),zi(V,this.height),Pe=this.outputDestination};var rl=function(y,E,H,Z,ie){mi.push(new Ys),pt=V=0,Te=[],Ge=y,an=E,xt=ie,Ya([H,Z])};for(var us in m.beginFormObject=function(y,E,H,Z,ie){return rl(y,E,H,Z,ie),this},m.endFormObject=function(y){return function(E){if(Ri[E])mi.pop().restore();else{var H=new Ys,Z="Xo"+(Object.keys(Hn).length+1).toString(10);H.id=Z,Ri[E]=Z,Hn[Z]=H,Tt.publish("addFormObject",H),mi.pop().restore()}}(y),this},m.doFormObject=function(y,E){var H=Hn[Ri[y]];return q("q"),q(E.toString()+" cm"),q("/"+H.id+" Do"),q("Q"),this},m.getFormObject=function(y){var E=Hn[Ri[y]];return{x:E.x,y:E.y,width:E.width,height:E.height,matrix:E.matrix}},m.save=function(y,E){return y=y||"generated.pdf",(E=E||{}).returnPromise=E.returnPromise||!1,E.returnPromise===!1?(Ss($s(wi()),y),typeof Ss.unload=="function"&&et.setTimeout&&setTimeout(Ss.unload,911),this):new Promise(function(H,Z){try{var ie=Ss($s(wi()),y);typeof Ss.unload=="function"&&et.setTimeout&&setTimeout(Ss.unload,911),H(ie)}catch(we){Z(we.message)}})},Ve.API)Ve.API.hasOwnProperty(us)&&(us==="events"&&Ve.API.events.length?function(y,E){var H,Z,ie;for(ie=E.length-1;ie!==-1;ie--)H=E[ie][0],Z=E[ie][1],y.subscribe.apply(y,[H].concat(typeof Z=="function"?[Z]:Z))}(Tt,Ve.API.events):m[us]=Ve.API[us]);function il(y){return Xe[y].mediaBox.topRightX-Xe[y].mediaBox.bottomLeftX}function Ru(y,E){Xe[y].mediaBox.topRightX=E+Xe[y].mediaBox.bottomLeftX}function Mu(y){return Xe[y].mediaBox.topRightY-Xe[y].mediaBox.bottomLeftY}function zi(y,E){Xe[y].mediaBox.topRightY=E+Xe[y].mediaBox.bottomLeftY}var Hi=m.getPageWidth=function(y){return il(y=y||V)/at},Fu=m.setPageWidth=function(y,E){Ru(y,E*at)},cs=m.getPageHeight=function(y){return Mu(y=y||V)/at},Du=m.setPageHeight=function(y,E){zi(y,E*at)};return m.internal={pdfEscape:Fr,getStyle:Iu,getFont:nd,getFontSize:Fe,getCharSpace:cd,getTextColor:ud,getLineHeight:id,getLineHeightFactor:sd,getLineWidth:rd,write:Ie,getHorizontalCoordinate:Ui,getVerticalCoordinate:Bi,getCoordinateString:ad,getVerticalCoordinateString:ld,collections:{},newObject:en,newAdditionalObject:rs,newObjectDeferred:In,newObjectDeferredBegin:Rn,getFilters:Xr,putStream:Mr,events:Tt,scaleFactor:at,pageSize:{getWidth:function(){return Hi(V)},setWidth:function(y){Fu(V,y)},getHeight:function(){return cs(V)},setHeight:function(y){Du(V,y)}},encryptionOptions:h,encryption:xn,getEncryptor:function(y){return h!==null?xn.encryptor(y,0):function(E){return E}},output:Tu,getNumberOfPages:Nu,get pages(){return Te},out:q,f2:P,f3:D,getPageInfo:Di,getPageInfoByObjId:bu,getCurrentPageInfo:Xf,getPDFVersion:N,Point:Oi,Rectangle:nl,Matrix:Ze,hasHotfix:Dr},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Hi(V)},set:function(y){Fu(V,y)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return cs(V)},set:function(y){Du(V,y)},enumerable:!0,configurable:!0}),(function(y){for(var E=0,H=Ye.length;E<H;E++){var Z=xu.call(this,y[E][0],y[E][1],y[E][2],Ye[E][3],!0);g===!1&&(v[Z]=!0);var ie=y[E][0].split("-");_u({id:Z,fontName:ie[0],fontStyle:ie[1]||""})}Tt.publish("addFonts",{fonts:dt,dictionary:ht})}).call(m,Ye),Oe="F1",Su(i,n),Tt.publish("initialized"),m}oa.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},oa.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oa.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},oa.prototype.processOwnerPassword=function(t,e){return Np(Ap(e).substr(0,5),t)},oa.prototype.encryptor=function(t,e){var n=Ap(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Np(n,r)}},xf.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Lt(t)!==Lt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ve.API={events:[]},Ve.version="3.0.4";var rn=Ve.API,Mm=1,Os=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ra=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rt=function(t){return t.toFixed(2)},Lo=function(t){return t.toFixed(5)};rn.__acroform__={};var pr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Pg=function(t){return t*Mm},Ei=function(t){var e=new Sw,n=De.internal.getHeight(t)||0,r=De.internal.getWidth(t)||0;return e.BBox=[0,0,Number(rt(r)),Number(rt(n))],e},ZA=rn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},QA=rn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},eN=rn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},pn=rn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eN(t,e-1)},mn=rn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZA(t,e-1)},gn=rn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QA(t,e-1)},tN=rn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(rt(l.lowerLeft_X)),Number(rt(l.lowerLeft_Y)),Number(rt(l.upperRight_X)),Number(rt(l.upperRight_Y))]},nN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Cp(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+rt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ei(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Cp=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var o=n,s=De.internal.getHeight(t)||0;s=s<0?-s:s;var a=De.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(P,D,Y){if(P+1<i.length){var j=D+" "+i[P+1][0];return Cc(j,t,Y).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var u,h,g=Cc("3",t,o).height,v=t.multiline?s-o:(s-g)/2,m=v+=2,S=0,N=0,R=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Cc(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var _="",A=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var k=!1;if(i[C].length!==1&&R!==i[C].length-1){if((g+2)*(A+2)+2>s)continue e;_+=i[C][R],k=!0,N=C,C--}else{_=(_+=i[C][R]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var W=parseInt(C),Q=l(W,_,o),J=C>=i.length-1;if(Q&&!J){_+=" ",R=0;continue}if(Q||J){if(J)N=W;else if(t.multiline&&(g+2)*(A+2)+2>s)continue e}else{if(!t.multiline||(g+2)*(A+2)+2>s)continue e;N=W}}for(var G="",B=S;B<=N;B++){var K=i[B];if(t.multiline){if(B===N){G+=K[R]+" ",R=(R+1)%K.length;continue}if(B===S){G+=K[K.length-1]+" ";continue}}G+=K[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,h=Cc(G,t,o).width,t.textAlign){case"right":u=a-h-2;break;case"center":u=(a-h)/2;break;default:u=2}e+=rt(u)+" "+rt(m)+` Td
`,e+="("+Os(G)+`) Tj
`,e+=-rt(u)+` 0 Td
`,m=-(o+2),h=0,S=k?N:N+1,A++,_=""}break}return r.text=e,r.fontSize=o,r},Cc=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},rN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iN=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},oN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(di.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rN)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Mm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Aw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&iN(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],u=a.Rect;if(a.Rect&&(a.Rect=tN(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=De.createDefaultAppearanceStream(a),Lt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=nN(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var g="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var m=a.appearanceStreamContent[v];if(g+="/"+v+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var S=m[s];typeof S=="function"&&(S=S.call(i,a)),g+="/"+s+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=m)=="function"&&(S=S.call(i,a)),g+="/"+s+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(N,R){for(var _ in N)if(N.hasOwnProperty(_)){var A=_,C=N[_];R.internal.newObjectDeferredBegin(C.objId,!0),Lt(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete N[A]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},xw=rn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Lt(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Os(r(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gh=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+Os(r(t))+")"},Ii=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ii.prototype.toString=function(){return this.objId+" 0 R"},Ii.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ii.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:xw(i,this.objId,this.scope)}):i instanceof Ii?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Sw=function(){Ii.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};pr(Sw,Ii);var Aw=function(){Ii.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Os(n(t))+")"}},set:function(n){t=n}})};pr(Aw,Ii);var di=function t(){Ii.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pn(e,3)},set:function(_){_?this.F=mn(e,3):this.F=gn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');n=_}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(_){r=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(_){r[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(_){r[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(_){r[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(_){r[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Sf)return;o="FieldObject"+t.FieldNum++}var _=function(A){return A};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Os(_(o))+")"},set:function(_){o=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(_){o=_}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(_){s=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Mm:u},set:function(_){u=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Sf||this instanceof Is))return gh(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=_}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Pn==0?gh(v,this.objId,this.scope):v},set:function(_){_=_.toString(),v=this instanceof Pn==0?_.substr(0,1)==="("?ra(_.substr(1,_.length-2)):ra(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pn==1?ra(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof Pn==1?"/"+_:_}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Pn==0?gh(m,this.objId,this.scope):m},set:function(_){_=_.toString(),m=this instanceof Pn==0?_.substr(0,1)==="("?ra(_.substr(1,_.length-2)):ra(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pn==1?ra(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Pn==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(_){_=!!_,N=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(_){S=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,1)},set:function(_){_?this.Ff=mn(this.Ff,1):this.Ff=gn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,2)},set:function(_){_?this.Ff=mn(this.Ff,2):this.Ff=gn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,3)},set:function(_){_?this.Ff=mn(this.Ff,3):this.Ff=gn(this.Ff,3)}});var R=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(R!==null)return R},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');R=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(R){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:R=2;break;case"center":case 1:R=1;break;default:R=0}}})};pr(di,Ii);var Ta=function(){di.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xw(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,u=[];l=s.exec(o);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,18)},set:function(n){n?this.Ff=mn(this.Ff,18):this.Ff=gn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=mn(this.Ff,19):this.Ff=gn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,20)},set:function(n){n?(this.Ff=mn(this.Ff,20),e.sort()):this.Ff=gn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,22)},set:function(n){n?this.Ff=mn(this.Ff,22):this.Ff=gn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(n){n?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,27)},set:function(n){n?this.Ff=mn(this.Ff,27):this.Ff=gn(this.Ff,27)}}),this.hasAppearanceStream=!1};pr(Ta,di);var ba=function(){Ta.call(this),this.fontName="helvetica",this.combo=!1};pr(ba,Ta);var Ia=function(){ba.call(this),this.combo=!0};pr(Ia,ba);var Hc=function(){Ia.call(this),this.edit=!0};pr(Hc,Ia);var Pn=function(){di.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,15)},set:function(n){n?this.Ff=mn(this.Ff,15):this.Ff=gn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,16)},set:function(n){n?this.Ff=mn(this.Ff,16):this.Ff=gn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,17)},set:function(n){n?this.Ff=mn(this.Ff,17):this.Ff=gn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(n){n?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Os(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Lt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};pr(Pn,di);var Vc=function(){Pn.call(this),this.pushButton=!0};pr(Vc,Pn);var ka=function(){Pn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pr(ka,Pn);var Sf=function(){var t,e;di.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Os(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Lt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=De.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pr(Sf,di),ka.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ka.prototype.createOption=function(t){var e=new Sf;return e.Parent=this,e.optionName=t,this.Kids.push(e),sN.call(this.scope,e),e};var Gc=function(){Pn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=De.CheckBox.createAppearanceStream()};pr(Gc,Pn);var Is=function(){di.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,13)},set:function(e){e?this.Ff=mn(this.Ff,13):this.Ff=gn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,21)},set:function(e){e?this.Ff=mn(this.Ff,21):this.Ff=gn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,23)},set:function(e){e?this.Ff=mn(this.Ff,23):this.Ff=gn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,24)},set:function(e){e?this.Ff=mn(this.Ff,24):this.Ff=gn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,25)},set:function(e){e?this.Ff=mn(this.Ff,25):this.Ff=gn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,26)},set:function(e){e?this.Ff=mn(this.Ff,26):this.Ff=gn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pr(Is,di);var Wc=function(){Is.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pn(this.Ff,14)},set:function(t){t?this.Ff=mn(this.Ff,14):this.Ff=gn(this.Ff,14)}}),this.password=!0};pr(Wc,Is);var De={CheckBox:{createAppearanceStream:function(){return{N:{On:De.CheckBox.YesNormal},D:{On:De.CheckBox.YesPushDown,Off:De.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ei(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=Cp(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+rt(De.internal.getWidth(t))+" "+rt(De.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+rt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ei(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=De.internal.getHeight(t),s=De.internal.getWidth(t),a=Cp(t,t.caption);return i.push("1 g"),i.push("0 0 "+rt(s)+" "+rt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+rt(s-1)+" "+rt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+rt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ei(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rt(De.internal.getWidth(t))+" "+rt(De.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:De.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=De.RadioButton.Circle.YesNormal,e.D[t]=De.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ei(t);e.scope=t.scope;var n=[],r=De.internal.getWidth(t)<=De.internal.getHeight(t)?De.internal.getWidth(t)/4:De.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=De.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Lo(De.internal.getWidth(t)/2)+" "+Lo(De.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ei(t);e.scope=t.scope;var n=[],r=De.internal.getWidth(t)<=De.internal.getHeight(t)?De.internal.getWidth(t)/4:De.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*De.internal.Bezier_C).toFixed(5)),s=Number((r*De.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lo(De.internal.getWidth(t)/2)+" "+Lo(De.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Lo(De.internal.getWidth(t)/2)+" "+Lo(De.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ei(t);e.scope=t.scope;var n=[],r=De.internal.getWidth(t)<=De.internal.getHeight(t)?De.internal.getWidth(t)/4:De.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*De.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Lo(De.internal.getWidth(t)/2)+" "+Lo(De.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:De.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=De.RadioButton.Cross.YesNormal,e.D[t]=De.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ei(t);e.scope=t.scope;var n=[],r=De.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+rt(De.internal.getWidth(t)-2)+" "+rt(De.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(rt(r.x1.x)+" "+rt(r.x1.y)+" m"),n.push(rt(r.x2.x)+" "+rt(r.x2.y)+" l"),n.push(rt(r.x4.x)+" "+rt(r.x4.y)+" m"),n.push(rt(r.x3.x)+" "+rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ei(t);e.scope=t.scope;var n=De.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+rt(De.internal.getWidth(t))+" "+rt(De.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+rt(De.internal.getWidth(t)-2)+" "+rt(De.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(rt(n.x1.x)+" "+rt(n.x1.y)+" m"),r.push(rt(n.x2.x)+" "+rt(n.x2.y)+" l"),r.push(rt(n.x4.x)+" "+rt(n.x4.y)+" m"),r.push(rt(n.x3.x)+" "+rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ei(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rt(De.internal.getWidth(t))+" "+rt(De.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};De.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=De.internal.getWidth(t),n=De.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},De.internal.getWidth=function(t){var e=0;return Lt(t)==="object"&&(e=Pg(t.Rect[2])),e},De.internal.getHeight=function(t){var e=0;return Lt(t)==="object"&&(e=Pg(t.Rect[3])),e};var sN=rn.addField=function(t){if(oN(this,t),!(t instanceof di))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};rn.AcroFormChoiceField=Ta,rn.AcroFormListBox=ba,rn.AcroFormComboBox=Ia,rn.AcroFormEditBox=Hc,rn.AcroFormButton=Pn,rn.AcroFormPushButton=Vc,rn.AcroFormRadioButton=ka,rn.AcroFormCheckBox=Gc,rn.AcroFormTextField=Is,rn.AcroFormPasswordField=Wc,rn.AcroFormAppearance=De,rn.AcroForm={ChoiceField:Ta,ListBox:ba,ComboBox:Ia,EditBox:Hc,Button:Pn,PushButton:Vc,RadioButton:ka,CheckBox:Gc,TextField:Is,PasswordField:Wc,Appearance:De},Ve.AcroForm={ChoiceField:Ta,ListBox:ba,ComboBox:Ia,EditBox:Hc,Button:Pn,PushButton:Vc,RadioButton:ka,CheckBox:Gc,TextField:Is,PasswordField:Wc,Appearance:De};Ve.AcroForm;function Nw(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,D){var Y,j,ce,fe,de,X=n;if((D=D||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(Q(P))for(de in r)for(ce=r[de],Y=0;Y<ce.length;Y+=1){for(fe=!0,j=0;j<ce[Y].length;j+=1)if(ce[Y][j]!==void 0&&ce[Y][j]!==P[j]){fe=!1;break}if(fe===!0){X=de;break}}else for(de in r)for(ce=r[de],Y=0;Y<ce.length;Y+=1){for(fe=!0,j=0;j<ce[Y].length;j+=1)if(ce[Y][j]!==void 0&&ce[Y][j]!==P.charCodeAt(j)){fe=!1;break}if(fe===!0){X=de;break}}return X===n&&D!==n&&(X=D),X},o=function P(D){for(var Y=this.internal.write,j=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var fe=[];if(fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Image"}),fe.push({key:"Width",value:D.width}),fe.push({key:"Height",value:D.height}),D.colorSpace===_.INDEXED?fe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(fe.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===_.DEVICE_CMYK&&fe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),fe.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&fe.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var de="",X=0,se=D.transparency.length;X<se;X++)de+=D.transparency[X]+" "+D.transparency[X]+" ";fe.push({key:"Mask",value:"["+de+"]"})}D.sMask!==void 0&&fe.push({key:"SMask",value:D.objectId+1+" 0 R"});var ve=D.filter!==void 0?["/"+D.filter]:void 0;if(j({data:D.data,additionalKeyValues:fe,alreadyAppliedFilters:ve,objectId:D.objectId}),Y("endobj"),"sMask"in D&&D.sMask!==void 0){var me,I=(me=D.sMaskBitsPerComponent)!==null&&me!==void 0?me:D.bitsPerComponent,V={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:D.sMask};"filter"in D&&(V.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(D.width),V.filter=D.filter),P.call(this,V)}if(D.colorSpace===_.INDEXED){var $=this.internal.newObject();j({data:G(new Uint8Array(D.palette)),objectId:$}),Y("endobj")}},s=function(){var P=this.internal.collections[e+"images"];for(var D in P)o.call(this,P[D])},a=function(){var P,D=this.internal.collections[e+"images"],Y=this.internal.write;for(var j in D)Y("/I"+(P=D[j]).index,P.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var P=this.internal.collections[e+"images"];return l.call(this),P},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(P){return typeof t["process"+P.toUpperCase()]=="function"},v=function(P){return Lt(P)==="object"&&P.nodeType===1},m=function(P,D){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var Y=""+P.getAttribute("src");if(Y.indexOf("data:image/")===0)return zc(unescape(Y).split("base64,").pop());var j=t.loadFile(Y,!0);if(j!==void 0)return j}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ce;switch(D){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return zc(P.toDataURL(ce,1).split("base64,").pop())}},S=function(P){var D=this.internal.collections[e+"images"];if(D){for(var Y in D)if(P===D[Y].alias)return D[Y]}},N=function(P,D,Y){return P||D||(P=-96,D=-96),P<0&&(P=-1*Y.width*72/P/this.internal.scaleFactor),D<0&&(D=-1*Y.height*72/D/this.internal.scaleFactor),P===0&&(P=D*Y.width/Y.height),D===0&&(D=P*Y.height/Y.width),[P,D]},R=function(P,D,Y,j,ce,fe){var de=N.call(this,Y,j,ce),X=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,ve=u.call(this);if(Y=de[0],j=de[1],ve[ce.index]=ce,fe){fe*=Math.PI/180;var me=Math.cos(fe),I=Math.sin(fe),V=function(ee){return ee.toFixed(4)},$=[V(me),V(I),V(-1*I),V(me),0,0,"cm"]}this.internal.write("q"),fe?(this.internal.write([1,"0","0",1,X(P),se(D+j),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([X(Y),"0","0",X(j),"0","0","cm"].join(" "))):this.internal.write([X(Y),"0","0",X(j),X(P),se(D+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(P){var D,Y,j=0;if(typeof P=="string")for(Y=P.length,D=0;D<Y;D++)j=(j<<5)-j+P.charCodeAt(D),j|=0;else if(Q(P))for(Y=P.byteLength/2,D=0;D<Y;D++)j=(j<<5)-j+P[D],j|=0;return j},k=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var D=!0;return P.length===0&&(D=!1),P.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(D=!1),D},W=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var D=P.indexOf(",");return D<0?null:P.substring(0,D).trim().endsWith("base64")?P.substring(D+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},J=t.__addimage__.binaryStringToUint8Array=function(P){for(var D=P.length,Y=new Uint8Array(D),j=0;j<D;j++)Y[j]=P.charCodeAt(j);return Y},G=t.__addimage__.arrayBufferToBinaryString=function(P){for(var D="",Y=Q(P)?P:new Uint8Array(P),j=0;j<Y.length;j+=8192)D+=String.fromCharCode.apply(null,Y.subarray(j,j+8192));return D};t.addImage=function(){var P,D,Y,j,ce,fe,de,X,se;if(typeof arguments[1]=="number"?(D=n,Y=arguments[1],j=arguments[2],ce=arguments[3],fe=arguments[4],de=arguments[5],X=arguments[6],se=arguments[7]):(D=arguments[1],Y=arguments[2],j=arguments[3],ce=arguments[4],fe=arguments[5],de=arguments[6],X=arguments[7],se=arguments[8]),Lt(P=arguments[0])==="object"&&!v(P)&&"imageData"in P){var ve=P;P=ve.imageData,D=ve.format||D||n,Y=ve.x||Y||0,j=ve.y||j||0,ce=ve.w||ve.width||ce,fe=ve.h||ve.height||fe,de=ve.alias||de,X=ve.compression||X,se=ve.rotation||ve.angle||se}var me=this.internal.getFilters();if(X===void 0&&me.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(Y)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=B.call(this,P,D,de,X);return R.call(this,Y,j,ce,fe,I,se),this};var B=function(P,D,Y,j){var ce,fe,de;if(typeof P=="string"&&i(P)===n){P=unescape(P);var X=K(P,!1);(X!==""||(X=t.loadFile(P,!0))!==void 0)&&(P=X)}if(v(P)&&(P=m(P,D)),D=i(P,D),!g(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((de=Y)==null||de.length===0)&&(Y=function(se){return typeof se=="string"||Q(se)?C(se):Q(se.data)?C(se.data):null}(P)),(ce=S.call(this,Y))||(P instanceof Uint8Array||D==="RGBA"||(fe=P,P=J(P)),ce=this["process"+D.toUpperCase()](P,h.call(this),Y,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:A.NONE}(j),fe)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},K=t.__addimage__.convertBase64ToBinaryString=function(P,D){D=typeof D!="boolean"||D;var Y,j="";if(typeof P=="string"){var ce;Y=(ce=W(P))!==null&&ce!==void 0?ce:P;try{j=zc(Y)}catch(fe){if(D)throw k(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+fe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};t.getImageProperties=function(P){var D,Y,j="";if(v(P)&&(P=m(P)),typeof P=="string"&&i(P)===n&&((j=K(P,!1))===""&&(j=t.loadFile(P)||""),P=j),Y=i(P),!g(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(P instanceof Uint8Array||(P=J(P)),!(D=this["process"+Y.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=Y,D}})(Ve.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ve.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,h=!1,g=0;g<u.length&&!h;g++)switch((r=u[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){r=u[v];var m=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),R=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(N.objId),A=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+m(_(r.contents))+")",o+=" /Popup "+R.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+m(_(A))+") >>",N.content=o;var C=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(o+=" /Open true"),o+=" >>",R.content=o,this.internal.write(N.objId,"0 R",R.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(S(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var W=this.annotations._nameMap[r.options.name];r.options.pageNumber=W.page,r.options.top=W.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Q=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Q+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var h=this.splitTextToSize(n,a).length;s=Math.ceil(u*h)}else a=l,s=u;return this.text(n,r,i,o),i+=.2*u,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-u,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ve.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},a=t.__arabicParser__.isArabicEndLetter=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(N){return s(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return s(N)&&o(N)&&e[N.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(N){var R=0,_=n,A="",C=0;for(R=0;R<N.length;R+=1)_[N.charCodeAt(R)]!==void 0?(C++,typeof(_=_[N.charCodeAt(R)])=="number"&&(A+=String.fromCharCode(_),_=n,C=0),R===N.length-1&&(_=n,A+=N.charAt(R-(C-1)),R-=C-1,C=0)):(_=n,A+=N.charAt(R-C),R-=C,C=0);return A};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(N,R,_){return s(N)?o(N)===!1?-1:!u(N)||!s(R)&&!s(_)||!s(_)&&a(R)||a(N)&&!s(R)||a(N)&&l(R)||a(N)&&a(R)?0:h(N)&&s(R)&&!a(R)&&s(_)&&u(_)?3:a(N)||!s(_)?1:2:-1},m=function(N){var R=0,_=0,A=0,C="",k="",W="",Q=(N=N||"").split("\\s+"),J=[];for(R=0;R<Q.length;R+=1){for(J.push(""),_=0;_<Q[R].length;_+=1)C=Q[R][_],k=Q[R][_-1],W=Q[R][_+1],s(C)?(A=v(C,k,W),J[R]+=A!==-1?String.fromCharCode(e[C.charCodeAt(0)][A]):C):J[R]+=C;J[R]=g(J[R])}return J.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var N,R=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(R)){var A=0;for(_=[],A=0;A<R.length;A+=1)Array.isArray(R[A])?_.push([m(R[A][0]),R[A][1],R[A][2]]):_.push([m(R[A])]);N=_}else N=m(R);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",S])}(Ve.API),Ve.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ve.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(N){l=N}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(N){u=N}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(N){S=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),g=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,m=0,S=0,N=0,R=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(C,k){return C.concat(R.splitTextToSize(k,_))},[])):l=Array.isArray(l)?l:[l];for(var A=0;A<l.length;A++)m<(N=this.getStringUnitWidth(l[A],{font:g})*h)&&(m=N);return m!==0&&(S=l.length),{w:m/=v,h:Math.max((S*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,m&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,g,v){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,S,N,R,_=[],A=[],C=[],k={},W={},Q=[],J=[],G=(v=v||{}).autoSize||!1,B=v.printHeaders!==!1,K=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,P=v.margins||Object.assign({width:this.getPageWidth()},e),D=typeof v.padding=="number"?v.padding:3,Y=v.headerBackgroundColor||"#c8c8c8",j=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=j,this.setFontSize(K),g==null)A=_=Object.keys(h[0]),C=_.map(function(){return"left"});else if(Array.isArray(g)&&Lt(g[0])==="object")for(_=g.map(function(ve){return ve.name}),A=g.map(function(ve){return ve.prompt||ve.name||""}),C=g.map(function(ve){return ve.align||"left"}),m=0;m<g.length;m+=1)W[g[m].name]=.7499990551181103*g[m].width;else Array.isArray(g)&&typeof g[0]=="string"&&(A=_=g,C=_.map(function(){return"left"}));if(G||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<_.length;m+=1){for(k[R=_[m]]=h.map(function(ve){return ve[R]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(A[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=k[R],this.setFont(void 0,"normal"),N=0;N<S.length;N+=1)Q.push(this.getTextDimensions(S[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[R]=Math.max.apply(null,Q)+D+D,Q=[]}if(B){var ce={};for(m=0;m<_.length;m+=1)ce[_[m]]={},ce[_[m]].text=A[m],ce[_[m]].align=C[m];var fe=a.call(this,ce,W);J=_.map(function(ve){return new o(l,u,W[ve],fe,ce[ve].text,void 0,ce[ve].align)}),this.setTableHeaderRow(J),this.printHeaderRow(1,!1)}var de=g.reduce(function(ve,me){return ve[me.name]=me.align,ve},{});for(m=0;m<h.length;m+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:m,data:h[m]},this);var X=a.call(this,h[m],W);for(N=0;N<_.length;N+=1){var se=h[m][_[N]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:m,col:N,data:se},this),s.call(this,new o(l,u,W[_[N]],X,se,m+2,de[_[N]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(m){var S=l[m];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,u[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/v+h+h},this).reduce(function(m,S){return Math.max(m,S)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(S)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(Ve.API);var Cw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ew=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ep=Nw(Ew),Tw=[100,200,300,400,500,600,700,800,900],aN=Nw(Tw);function vh(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return Cw[o=o||"normal"]?o:"normal"}(t.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),i=function(o){return typeof Ep[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Lg(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var lN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Mg(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Fg(t){return t.trimLeft()}function uN(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function cN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ec,Dg,Ug,ia,Tc,Bg,qg,Og,yh=["times"];function zg(t,e,n,r,i){var o=4,s=Vg;switch(i){case Ve.API.image_compression.FAST:o=1,s=Hg;break;case Ve.API.image_compression.MEDIUM:o=6,s=Gg;break;case Ve.API.image_compression.SLOW:o=9,s=Wg}t=function(l,u,h,g){for(var v,m=l.length/u,S=new Uint8Array(l.length+m),N=[fN,Hg,Vg,Gg,Wg],R=0;R<m;R+=1){var _=R*u,A=l.subarray(_,_+u);if(g)S.set(g(A,h,v),_+R);else{for(var C=N.length,k=[],W=0;W<C;W+=1)k[W]=N[W](A,h,v);var Q=hN(k.concat());S.set(k[Q],_+R)}v=A}return S}(t,e,Math.ceil(n*r/8),s);var a=wp(t,{level:o});return Ve.API.__addimage__.arrayBufferToBinaryString(a)}function fN(t){var e=Array.apply([],t);return e.unshift(0),e}function Hg(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=t[i-e]||0;r[i+1]=t[i]-o+256&255}return r}function Vg(t,e,n){var r=t.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=t[o]-s+256&255}return i}function Gg(t,e,n){var r=t.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=t[o-e]||0,a=n&&n[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function Wg(t,e,n){var r=t.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=dN(t[o-e]||0,n&&n[o]||0,n&&n[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function dN(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n}function hN(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function wh(t,e,n){var r=e*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return bw(t,i)>>o&s}function $g(t,e,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(e&a)<<s;(function(u,h,g){if(h+1<u.byteLength)u.setUint16(h,g,!1);else{var v=g>>8&255;u.setUint8(h,v)}})(t,o,bw(t,o)&~(a<<s)&65535|l)}function bw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function pN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var u=!0,h=[],g=0,v=null,m=0,S=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];g=t[e++]|t[e++]<<8,v=t[e++],1&N||(v=null),m=N>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var R=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,k=t[e++],W=k>>6&1,Q=1<<1+(7&k),J=a,G=l,B=!1;k>>7&&(B=!0,J=e,G=Q,e+=3*Q);var K=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}h.push({x:R,y:_,width:A,height:C,has_local_palette:B,palette_offset:J,palette_size:G,data_offset:K,data_length:e-K,transparent_index:v,interlaced:!!W,delay:g,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return S},this.frameInfo=function(D){if(D<0||D>=h.length)throw new Error("Frame index out of range.");return h[D]},this.decodeAndBlitFrameBGRA=function(D,Y){var j=this.frameInfo(D),ce=j.width*j.height,fe=new Uint8Array(ce);Jg(t,j.data_offset,fe,ce);var de=j.palette_offset,X=j.transparent_index;X===null&&(X=256);var se=j.width,ve=n-se,me=se,I=4*(j.y*n+j.x),V=4*((j.y+j.height)*n+j.x),$=I,ee=4*ve;j.interlaced===!0&&(ee+=4*n*7);for(var ne=8,ae=0,he=fe.length;ae<he;++ae){var pe=fe[ae];if(me===0&&(me=se,($+=ee)>=V&&(ee=4*ve+4*n*(ne-1),$=I+(se+ve)*(ne<<1),ne>>=1)),pe===X)$+=4;else{var xe=t[de+3*pe],Te=t[de+3*pe+1],Le=t[de+3*pe+2];Y[$++]=Le,Y[$++]=Te,Y[$++]=xe,Y[$++]=255}--me}},this.decodeAndBlitFrameRGBA=function(D,Y){var j=this.frameInfo(D),ce=j.width*j.height,fe=new Uint8Array(ce);Jg(t,j.data_offset,fe,ce);var de=j.palette_offset,X=j.transparent_index;X===null&&(X=256);var se=j.width,ve=n-se,me=se,I=4*(j.y*n+j.x),V=4*((j.y+j.height)*n+j.x),$=I,ee=4*ve;j.interlaced===!0&&(ee+=4*n*7);for(var ne=8,ae=0,he=fe.length;ae<he;++ae){var pe=fe[ae];if(me===0&&(me=se,($+=ee)>=V&&(ee=4*ve+4*n*(ne-1),$=I+(se+ve)*(ne<<1),ne>>=1)),pe===X)$+=4;else{var xe=t[de+3*pe],Te=t[de+3*pe+1],Le=t[de+3*pe+2];Y[$++]=xe,Y[$++]=Te,Y[$++]=Le,Y[$++]=255}--me}}}function Jg(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,h=0,g=0,v=0,m=t[e++],S=new Int32Array(4096),N=null;;){for(;h<16&&m!==0;)g|=t[e++]<<h,h+=8,m===1?m=t[e++]:--m;if(h<l)break;var R=g&u;if(g>>=l,h-=l,R!==o){if(R===s)break;for(var _=R<a?R:N,A=0,C=_;C>o;)C=S[C]>>8,++A;var k=C;if(v+A+(_!==R?1:0)>r)return void Dt.log("Warning, gif stream longer than expected.");n[v++]=k;var W=v+=A;for(_!==R&&(n[v++]=k),C=_;A--;)C=S[C],n[--W]=255&C,C>>=8;N!==null&&a<4096&&(S[a++]=N<<8|k,a>=u+1&&l<12&&(++l,u=u<<1|1)),N=R}else a=s+1,u=(1<<(l=i+1))-1,N=null}return v!==r&&Dt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _h(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),g=new Array(65535),v=new Array(65535),m=new Array(64),S=new Array(64),N=[],R=0,_=7,A=new Array(64),C=new Array(64),k=new Array(64),W=new Array(256),Q=new Array(2048),J=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function fe(I,V){for(var $=0,ee=0,ne=new Array,ae=1;ae<=16;ae++){for(var he=1;he<=I[ae];he++)ne[V[ee]]=[],ne[V[ee]][0]=$,ne[V[ee]][1]=ae,ee++,$++;$*=2}return ne}function de(I){for(var V=I[0],$=I[1]-1;$>=0;)V&1<<$&&(R|=1<<_),$--,--_<0&&(R==255?(X(255),X(0)):X(R),_=7,R=0)}function X(I){N.push(I)}function se(I){X(I>>8&255),X(255&I)}function ve(I,V,$,ee,ne){for(var ae,he=ne[0],pe=ne[240],xe=function(Ne,je){var Fe,Ke,$e,Et,gt,it,yt,vt,Oe,at,Ge=0;for(Oe=0;Oe<8;++Oe){Fe=Ne[Ge],Ke=Ne[Ge+1],$e=Ne[Ge+2],Et=Ne[Ge+3],gt=Ne[Ge+4],it=Ne[Ge+5],yt=Ne[Ge+6];var an=Fe+(vt=Ne[Ge+7]),xt=Fe-vt,dt=Ke+yt,ht=Ke-yt,$t=$e+it,Je=$e-it,Ut=Et+gt,Qe=Et-gt,ot=an+Ut,Jt=an-Ut,pt=dt+$t,Xe=dt-$t;Ne[Ge]=ot+pt,Ne[Ge+4]=ot-pt;var Tt=.707106781*(Xe+Jt);Ne[Ge+2]=Jt+Tt,Ne[Ge+6]=Jt-Tt;var ns=.382683433*((ot=Qe+Je)-(Xe=ht+xt)),Hn=.5411961*ot+ns,Ri=1.306562965*Xe+ns,mi=.707106781*(pt=Je+ht),Ze=xt+mi,Mi=xt-mi;Ne[Ge+5]=Mi+Hn,Ne[Ge+3]=Mi-Hn,Ne[Ge+1]=Ze+Ri,Ne[Ge+7]=Ze-Ri,Ge+=8}for(Ge=0,Oe=0;Oe<8;++Oe){Fe=Ne[Ge],Ke=Ne[Ge+8],$e=Ne[Ge+16],Et=Ne[Ge+24],gt=Ne[Ge+32],it=Ne[Ge+40],yt=Ne[Ge+48];var Fi=Fe+(vt=Ne[Ge+56]),Lr=Fe-vt,Rr=Ke+yt,en=Ke-yt,In=$e+it,Rn=$e-it,rs=Et+gt,po=Et-gt,Yr=Fi+rs,gi=Fi-rs,jr=Rr+In,Xr=Rr-In;Ne[Ge]=Yr+jr,Ne[Ge+32]=Yr-jr;var Mr=.707106781*(Xr+gi);Ne[Ge+16]=gi+Mr,Ne[Ge+48]=gi-Mr;var is=.382683433*((Yr=po+Rn)-(Xr=en+Lr)),vi=.5411961*Yr+is,os=1.306562965*Xr+is,Hs=.707106781*(jr=Rn+en),Vs=Lr+Hs,Gs=Lr-Hs;Ne[Ge+40]=Gs+vi,Ne[Ge+24]=Gs-vi,Ne[Ge+8]=Vs+os,Ne[Ge+56]=Vs-os,Ge++}for(Oe=0;Oe<64;++Oe)at=Ne[Oe]*je[Oe],m[Oe]=at>0?at+.5|0:at-.5|0;return m}(I,V),Te=0;Te<64;++Te)S[J[Te]]=xe[Te];var Le=S[0]-$;$=S[0],Le==0?de(ee[0]):(de(ee[v[ae=32767+Le]]),de(g[ae]));for(var Pe=63;Pe>0&&S[Pe]==0;)Pe--;if(Pe==0)return de(he),$;for(var We,q=1;q<=Pe;){for(var Ie=q;S[q]==0&&q<=Pe;)++q;var ft=q-Ie;if(ft>=16){We=ft>>4;for(var Ye=1;Ye<=We;++Ye)de(pe);ft&=15}ae=32767+S[q],de(ne[(ft<<4)+v[ae]]),de(g[ae]),q++}return Pe!=63&&de(he),$}function me(I){I=Math.min(Math.max(I,1),100),o!=I&&(function(V){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ne=s(($[ee]*V+50)/100);ne=Math.min(Math.max(ne,1),255),a[J[ee]]=ne}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var pe=s((ae[he]*V+50)/100);pe=Math.min(Math.max(pe,1),255),l[J[he]]=pe}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Le=0;Le<8;Le++)for(var Pe=0;Pe<8;Pe++)u[Te]=1/(a[J[Te]]*xe[Le]*xe[Pe]*8),h[Te]=1/(l[J[Te]]*xe[Le]*xe[Pe]*8),Te++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),o=I)}this.encode=function(I,V){V&&me(V),N=new Array,R=0,_=7,se(65496),se(65504),se(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),se(1),se(1),X(0),X(0),function(){se(65499),se(132),X(0);for(var Ke=0;Ke<64;Ke++)X(a[Ke]);X(1);for(var $e=0;$e<64;$e++)X(l[$e])}(),function(Ke,$e){se(65472),se(17),X(8),se($e),se(Ke),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(I.width,I.height),function(){se(65476),se(418),X(0);for(var Ke=0;Ke<16;Ke++)X(G[Ke+1]);for(var $e=0;$e<=11;$e++)X(B[$e]);X(16);for(var Et=0;Et<16;Et++)X(K[Et+1]);for(var gt=0;gt<=161;gt++)X(P[gt]);X(1);for(var it=0;it<16;it++)X(D[it+1]);for(var yt=0;yt<=11;yt++)X(Y[yt]);X(17);for(var vt=0;vt<16;vt++)X(j[vt+1]);for(var Oe=0;Oe<=161;Oe++)X(ce[Oe])}(),se(65498),se(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var $=0,ee=0,ne=0;R=0,_=7,this.encode.displayName="_encode_";for(var ae,he,pe,xe,Te,Le,Pe,We,q,Ie=I.data,ft=I.width,Ye=I.height,Ne=4*ft,je=0;je<Ye;){for(ae=0;ae<Ne;){for(Te=Ne*je+ae,Pe=-1,We=0,q=0;q<64;q++)Le=Te+(We=q>>3)*Ne+(Pe=4*(7&q)),je+We>=Ye&&(Le-=Ne*(je+1+We-Ye)),ae+Pe>=Ne&&(Le-=ae+Pe-Ne+4),he=Ie[Le++],pe=Ie[Le++],xe=Ie[Le++],A[q]=(Q[he]+Q[pe+256|0]+Q[xe+512|0]>>16)-128,C[q]=(Q[he+768|0]+Q[pe+1024|0]+Q[xe+1280|0]>>16)-128,k[q]=(Q[he+1280|0]+Q[pe+1536|0]+Q[xe+1792|0]>>16)-128;$=ve(A,u,$,e,r),ee=ve(C,h,ee,n,i),ne=ve(k,h,ne,n,i),ae+=32}je+=8}if(_>=0){var Fe=[];Fe[1]=_+1,Fe[0]=(1<<_+1)-1,de(Fe)}return se(65497),new Uint8Array(N)},t=t||50,function(){for(var I=String.fromCharCode,V=0;V<256;V++)W[V]=I(V)}(),e=fe(G,B),n=fe(D,Y),r=fe(K,P),i=fe(j,ce),function(){for(var I=1,V=2,$=1;$<=15;$++){for(var ee=I;ee<V;ee++)v[32767+ee]=$,g[32767+ee]=[],g[32767+ee][1]=$,g[32767+ee][0]=ee;for(var ne=-(V-1);ne<=-I;ne++)v[32767+ne]=$,g[32767+ne]=[],g[32767+ne][1]=$,g[32767+ne][0]=V-1+ne;I<<=1,V<<=1}}(),function(){for(var I=0;I<256;I++)Q[I]=19595*I,Q[I+256|0]=38470*I,Q[I+512|0]=7471*I+32768,Q[I+768|0]=-11059*I,Q[I+1024|0]=-21709*I,Q[I+1280|0]=32768*I+8421375,Q[I+1536|0]=-27439*I,Q[I+1792|0]=-5329*I}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ii(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Kg(t){function e(B){if(!B)throw Error("assert :P")}function n(B,K,P){for(var D=0;4>D;D++)if(B[K+D]!=P.charCodeAt(D))return!0;return!1}function r(B,K,P,D,Y){for(var j=0;j<Y;j++)B[K+j]=P[D+j]}function i(B,K,P,D){for(var Y=0;Y<D;Y++)B[K+Y]=P}function o(B){return new Int32Array(B)}function s(B,K){for(var P=[],D=0;D<B;D++)P.push(new K);return P}function a(B,K){var P=[];return function D(Y,j,ce){for(var fe=ce[j],de=0;de<fe&&(Y.push(ce.length>j+1?[]:new K),!(ce.length<j+1));de++)D(Y[de],j+1,ce)}(P,0,B),P}var l=function(){var B=this;function K(f,p){for(var w=1<<p-1>>>0;f&w;)w>>>=1;return w?(f&w-1)+w:f}function P(f,p,w,x,T){e(!(x%w));do f[p+(x-=w)]=T;while(0<x)}function D(f,p,w,x,T){if(e(2328>=T),512>=T)var b=o(512);else if((b=o(T))==null)return 0;return function(L,F,U,O,te,ue){var z,re,oe=F,ge=1<<U,le=o(16),ye=o(16);for(e(te!=0),e(O!=null),e(L!=null),e(0<U),re=0;re<te;++re){if(15<O[re])return 0;++le[O[re]]}if(le[0]==te)return 0;for(ye[1]=0,z=1;15>z;++z){if(le[z]>1<<z)return 0;ye[z+1]=ye[z]+le[z]}for(re=0;re<te;++re)z=O[re],0<O[re]&&(ue[ye[z]++]=re);if(ye[15]==1)return(O=new Y).g=0,O.value=ue[0],P(L,oe,1,ge,O),ge;var _e,Ce=-1,Ae=ge-1,He=0,Me=1,ut=1,Be=1<<U;for(re=0,z=1,te=2;z<=U;++z,te<<=1){if(Me+=ut<<=1,0>(ut-=le[z]))return 0;for(;0<le[z];--le[z])(O=new Y).g=z,O.value=ue[re++],P(L,oe+He,te,Be,O),He=K(He,z)}for(z=U+1,te=2;15>=z;++z,te<<=1){if(Me+=ut<<=1,0>(ut-=le[z]))return 0;for(;0<le[z];--le[z]){if(O=new Y,(He&Ae)!=Ce){for(oe+=Be,_e=1<<(Ce=z)-U;15>Ce&&!(0>=(_e-=le[Ce]));)++Ce,_e<<=1;ge+=Be=1<<(_e=Ce-U),L[F+(Ce=He&Ae)].g=_e+U,L[F+Ce].value=oe-F-Ce}O.g=z-U,O.value=ue[re++],P(L,oe+(He>>U),te,Be,O),He=K(He,z)}}return Me!=2*ye[15]-1?0:ge}(f,p,w,x,T,b)}function Y(){this.value=this.g=0}function j(){this.value=this.g=0}function ce(){this.G=s(5,Y),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(gs,j)}function fe(f,p,w,x){e(f!=null),e(p!=null),e(2147483648>x),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=p,f.pa=w,f.Jd=p,f.Yc=w+x,f.Zc=4<=x?w+x-4+1:w,he(f)}function de(f,p){for(var w=0;0<p--;)w|=xe(f,128)<<p;return w}function X(f,p){var w=de(f,p);return pe(f)?-w:w}function se(f,p,w,x){var T,b=0;for(e(f!=null),e(p!=null),e(4294967288>x),f.Sb=x,f.Ra=0,f.u=0,f.h=0,4<x&&(x=4),T=0;T<x;++T)b+=p[w+T]<<8*T;f.Ra=b,f.bb=x,f.oa=p,f.pa=w}function ve(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<yo-8>>>0,++f.bb,f.u-=8;ee(f)&&(f.h=1,f.u=0)}function me(f,p){if(e(0<=p),!f.h&&p<=gr){var w=$(f)&mr[p];return f.u+=p,ve(f),w}return f.h=1,f.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(f){return f.Ra>>>(f.u&yo-1)>>>0}function ee(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>yo}function ne(f,p){f.u=p,f.h=ee(f)}function ae(f){f.u>=$i&&(e(f.u>=$i),ve(f))}function he(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function pe(f){return de(f,1)}function xe(f,p){var w=f.Ca;0>f.b&&he(f);var x=f.b,T=w*p>>>8,b=(f.I>>>x>T)+0;for(b?(w-=T,f.I-=T+1<<x>>>0):w=T+1,x=w,T=0;256<=x;)T+=8,x>>=8;return x=7^T+wo[x],f.b-=x,f.Ca=(w<<x)-1,b}function Te(f,p,w){f[p+0]=w>>24&255,f[p+1]=w>>16&255,f[p+2]=w>>8&255,f[p+3]=255&w}function Le(f,p){return f[p+0]|f[p+1]<<8}function Pe(f,p){return Le(f,p)|f[p+2]<<16}function We(f,p){return Le(f,p)|Le(f,p+2)<<16}function q(f,p){var w=1<<p;return e(f!=null),e(0<p),f.X=o(w),f.X==null?0:(f.Mb=32-p,f.Xa=p,1)}function Ie(f,p){e(f!=null),e(p!=null),e(f.Xa==p.Xa),r(p.X,0,f.X,0,1<<p.Xa)}function ft(){this.X=[],this.Xa=this.Mb=0}function Ye(f,p,w,x){e(w!=null),e(x!=null);var T=w[0],b=x[0];return T==0&&(T=(f*b+p/2)/p),b==0&&(b=(p*T+f/2)/f),0>=T||0>=b?0:(w[0]=T,x[0]=b,1)}function Ne(f,p){return f+(1<<p)-1>>>p}function je(f,p){return((4278255360&f)+(4278255360&p)>>>0&4278255360)+((16711935&f)+(16711935&p)>>>0&16711935)>>>0}function Fe(f,p){B[p]=function(w,x,T,b,L,F,U){var O;for(O=0;O<L;++O){var te=B[f](F[U+O-1],T,b+O);F[U+O]=je(w[x+O],te)}}}function Ke(){this.ud=this.hd=this.jd=0}function $e(f,p){return((4278124286&(f^p))>>>1)+(f&p)>>>0}function Et(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function gt(f,p){return Et(f+(f-p+.5>>1))}function it(f,p,w){return Math.abs(p-w)-Math.abs(f-w)}function yt(f,p,w,x,T,b,L){for(x=b[L-1],w=0;w<T;++w)b[L+w]=x=je(f[p+w],x)}function vt(f,p,w,x,T){var b;for(b=0;b<w;++b){var L=f[p+b],F=L>>8&255,U=16711935&(U=(U=16711935&L)+((F<<16)+F));x[T+b]=(4278255360&L)+U>>>0}}function Oe(f,p){p.jd=255&f,p.hd=f>>8&255,p.ud=f>>16&255}function at(f,p,w,x,T,b){var L;for(L=0;L<x;++L){var F=p[w+L],U=F>>>8,O=F,te=255&(te=(te=F>>>16)+((f.jd<<24>>24)*(U<<24>>24)>>>5));O=255&(O=(O+=(f.hd<<24>>24)*(U<<24>>24)>>>5)+((f.ud<<24>>24)*(te<<24>>24)>>>5)),T[b+L]=(4278255360&F)+(te<<16)+O}}function Ge(f,p,w,x,T){B[p]=function(b,L,F,U,O,te,ue,z,re){for(U=ue;U<z;++U)for(ue=0;ue<re;++ue)O[te++]=T(F[x(b[L++])])},B[f]=function(b,L,F,U,O,te,ue){var z=8>>b.b,re=b.Ea,oe=b.K[0],ge=b.w;if(8>z)for(b=(1<<b.b)-1,ge=(1<<z)-1;L<F;++L){var le,ye=0;for(le=0;le<re;++le)le&b||(ye=x(U[O++])),te[ue++]=T(oe[ye&ge]),ye>>=z}else B["VP8LMapColor"+w](U,O,oe,ge,te,ue,L,F,re)}}function an(f,p,w,x,T){for(w=p+w;p<w;){var b=f[p++];x[T++]=b>>16&255,x[T++]=b>>8&255,x[T++]=255&b}}function xt(f,p,w,x,T){for(w=p+w;p<w;){var b=f[p++];x[T++]=b>>16&255,x[T++]=b>>8&255,x[T++]=255&b,x[T++]=b>>24&255}}function dt(f,p,w,x,T){for(w=p+w;p<w;){var b=(L=f[p++])>>16&240|L>>12&15,L=240&L|L>>28&15;x[T++]=b,x[T++]=L}}function ht(f,p,w,x,T){for(w=p+w;p<w;){var b=(L=f[p++])>>16&248|L>>13&7,L=L>>5&224|L>>3&31;x[T++]=b,x[T++]=L}}function $t(f,p,w,x,T){for(w=p+w;p<w;){var b=f[p++];x[T++]=255&b,x[T++]=b>>8&255,x[T++]=b>>16&255}}function Je(f,p,w,x,T,b){if(b==0)for(w=p+w;p<w;)Te(x,((b=f[p++])[0]>>24|b[1]>>8&65280|b[2]<<8&16711680|b[3]<<24)>>>0),T+=32;else r(x,T,f,p,w)}function Ut(f,p){B[p][0]=B[f+"0"],B[p][1]=B[f+"1"],B[p][2]=B[f+"2"],B[p][3]=B[f+"3"],B[p][4]=B[f+"4"],B[p][5]=B[f+"5"],B[p][6]=B[f+"6"],B[p][7]=B[f+"7"],B[p][8]=B[f+"8"],B[p][9]=B[f+"9"],B[p][10]=B[f+"10"],B[p][11]=B[f+"11"],B[p][12]=B[f+"12"],B[p][13]=B[f+"13"],B[p][14]=B[f+"0"],B[p][15]=B[f+"0"]}function Qe(f){return f==hd||f==pd||f==Wu||f==md}function ot(){this.eb=[],this.size=this.A=this.fb=0}function Jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ot,this.f.kb=new Jt,this.sd=null}function Xe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ns(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Hn(f,p){var w=f.T,x=p.ba.f.RGBA,T=x.eb,b=x.fb+f.ka*x.A,L=Or[p.ba.S],F=f.y,U=f.O,O=f.f,te=f.N,ue=f.ea,z=f.W,re=p.cc,oe=p.dc,ge=p.Mc,le=p.Nc,ye=f.ka,_e=f.ka+f.T,Ce=f.U,Ae=Ce+1>>1;for(ye==0?L(F,U,null,null,O,te,ue,z,O,te,ue,z,T,b,null,null,Ce):(L(p.ec,p.fc,F,U,re,oe,ge,le,O,te,ue,z,T,b-x.A,T,b,Ce),++w);ye+2<_e;ye+=2)re=O,oe=te,ge=ue,le=z,te+=f.Rc,z+=f.Rc,b+=2*x.A,L(F,(U+=2*f.fa)-f.fa,F,U,re,oe,ge,le,O,te,ue,z,T,b-x.A,T,b,Ce);return U+=f.fa,f.j+_e<f.o?(r(p.ec,p.fc,F,U,Ce),r(p.cc,p.dc,O,te,Ae),r(p.Mc,p.Nc,ue,z,Ae),w--):1&_e||L(F,U,null,null,O,te,ue,z,O,te,ue,z,T,b+x.A,null,null,Ce),w}function Ri(f,p,w){var x=f.F,T=[f.J];if(x!=null){var b=f.U,L=p.ba.S,F=L==Gu||L==Wu;p=p.ba.f.RGBA;var U=[0],O=f.ka;U[0]=f.T,f.Kb&&(O==0?--U[0]:(--O,T[0]-=f.width),f.j+f.ka+f.T==f.o&&(U[0]=f.o-f.j-O));var te=p.eb;O=p.fb+O*p.A,f=jm(x,T[0],f.width,b,U,te,O+(F?0:3),p.A),e(w==U),f&&Qe(L)&&gl(te,O,F,b,U,p.A)}return 0}function mi(f){var p=f.ma,w=p.ba.S,x=11>w,T=w==Hu||w==Vu||w==Gu||w==dd||w==12||Qe(w);if(p.memory=null,p.Ib=null,p.Jb=null,p.Nd=null,!ll(p.Oa,f,T?11:12))return 0;if(T&&Qe(w)&&ol(),f.da)alert("todo:use_scaling");else{if(x){if(p.Ib=ns,f.Kb){if(w=f.U+1>>1,p.memory=o(f.U+2*w),p.memory==null)return 0;p.ec=p.memory,p.fc=0,p.cc=p.ec,p.dc=p.fc+f.U,p.Mc=p.cc,p.Nc=p.dc+w,p.Ib=Hn,ol()}}else alert("todo:EmitYUV");T&&(p.Jb=Ri,x&&Qr())}if(x&&!d0){for(f=0;256>f;++f)A_[f]=89858*(f-128)+Ju>>$u,E_[f]=-22014*(f-128)+Ju,C_[f]=-45773*(f-128),N_[f]=113618*(f-128)+Ju>>$u;for(f=yl;f<yd;++f)p=76283*(f-16)+Ju>>$u,T_[f-yl]=yi(p,255),b_[f-yl]=yi(p+8>>4,15);d0=1}return 1}function Ze(f){var p=f.ma,w=f.U,x=f.T;return e(!(1&f.ka)),0>=w||0>=x?0:(w=p.Ib(f,p),p.Jb!=null&&p.Jb(f,p,w),p.Dc+=w,1)}function Mi(f){f.ma.memory=null}function Fi(f,p,w,x){return me(f,8)!=47?0:(p[0]=me(f,14)+1,w[0]=me(f,14)+1,x[0]=me(f,1),me(f,3)!=0?0:!f.h)}function Lr(f,p){if(4>f)return f+1;var w=f-2>>1;return(2+(1&f)<<w)+me(p,w)+1}function Rr(f,p){return 120<p?p-120:1<=(w=((w=u_[p-1])>>4)*f+(8-(15&w)))?w:1;var w}function en(f,p,w){var x=$(w),T=f[p+=255&x].g-8;return 0<T&&(ne(w,w.u+8),x=$(w),p+=f[p].value,p+=x&(1<<T)-1),ne(w,w.u+f[p].g),f[p].value}function In(f,p,w){return w.g+=f.g,w.value+=f.value<<p>>>0,e(8>=w.g),f.g}function Rn(f,p,w){var x=f.xc;return e((p=x==0?0:f.vc[f.md*(w>>x)+(p>>x)])<f.Wb),f.Ya[p]}function rs(f,p,w,x){var T=f.ab,b=f.c*p,L=f.C;p=L+p;var F=w,U=x;for(x=f.Ta,w=f.Ua;0<T--;){var O=f.gc[T],te=L,ue=p,z=F,re=U,oe=(U=x,F=w,O.Ea);switch(e(te<ue),e(ue<=O.nc),O.hc){case 2:ln(z,re,(ue-te)*oe,U,F);break;case 0:var ge=te,le=ue,ye=U,_e=F,Ce=(Be=O).Ea;ge==0&&(cl(z,re,null,null,1,ye,_e),yt(z,re+1,0,0,Ce-1,ye,_e+1),re+=Ce,_e+=Ce,++ge);for(var Ae=1<<Be.b,He=Ae-1,Me=Ne(Ce,Be.b),ut=Be.K,Be=Be.w+(ge>>Be.b)*Me;ge<le;){var wt=ut,Nn=Be,ct=1;for(Zs(z,re,ye,_e-Ce,1,ye,_e);ct<Ce;){var qe=(ct&~He)+Ae;qe>Ce&&(qe=Ce),(0,dl[wt[Nn++]>>8&15])(z,re+ +ct,ye,_e+ct-Ce,qe-ct,ye,_e+ct),ct=qe}re+=Ce,_e+=Ce,++ge&He||(Be+=Me)}ue!=O.nc&&r(U,F-oe,U,F+(ue-te-1)*oe,oe);break;case 1:for(oe=z,le=re,Ce=(z=O.Ea)-(_e=z&~(ye=(re=1<<O.b)-1)),ge=Ne(z,O.b),Ae=O.K,O=O.w+(te>>O.b)*ge;te<ue;){for(He=Ae,Me=O,ut=new Ke,Be=le+_e,wt=le+z;le<Be;)Oe(He[Me++],ut),hl(ut,oe,le,re,U,F),le+=re,F+=re;le<wt&&(Oe(He[Me++],ut),hl(ut,oe,le,Ce,U,F),le+=Ce,F+=Ce),++te&ye||(O+=ge)}break;case 3:if(z==U&&re==F&&0<O.b){for(le=U,z=oe=F+(ue-te)*oe-(_e=(ue-te)*Ne(O.Ea,O.b)),re=U,ye=F,ge=[],_e=(Ce=_e)-1;0<=_e;--_e)ge[_e]=re[ye+_e];for(_e=Ce-1;0<=_e;--_e)le[z+_e]=ge[_e];Bu(O,te,ue,U,oe,U,F)}else Bu(O,te,ue,z,re,U,F)}F=x,U=w}U!=w&&r(x,w,F,U,b)}function po(f,p){var w=f.V,x=f.Ba+f.c*f.C,T=p-f.C;if(e(p<=f.l.o),e(16>=T),0<T){var b=f.l,L=f.Ta,F=f.Ua,U=b.width;if(rs(f,T,w,x),T=F=[F],e((w=f.C)<(x=p)),e(b.v<b.va),x>b.o&&(x=b.o),w<b.j){var O=b.j-w;w=b.j,T[0]+=O*U}if(w>=x?w=0:(T[0]+=4*b.v,b.ka=w-b.j,b.U=b.va-b.v,b.T=x-w,w=1),w){if(F=F[0],11>(w=f.ca).S){var te=w.f.RGBA,ue=(x=w.S,T=b.U,b=b.T,O=te.eb,te.A),z=b;for(te=te.fb+f.Ma*te.A;0<z--;){var re=L,oe=F,ge=T,le=O,ye=te;switch(x){case zu:pl(re,oe,ge,le,ye);break;case Hu:_o(re,oe,ge,le,ye);break;case hd:_o(re,oe,ge,le,ye),gl(le,ye,0,ge,1,0);break;case r0:vs(re,oe,ge,le,ye);break;case Vu:Je(re,oe,ge,le,ye,1);break;case pd:Je(re,oe,ge,le,ye,1),gl(le,ye,0,ge,1,0);break;case Gu:Je(re,oe,ge,le,ye,0);break;case Wu:Je(re,oe,ge,le,ye,0),gl(le,ye,1,ge,1,0);break;case dd:xo(re,oe,ge,le,ye);break;case md:xo(re,oe,ge,le,ye),Ym(le,ye,ge,1,0);break;case i0:So(re,oe,ge,le,ye);break;default:e(0)}F+=U,te+=ue}f.Ma+=b}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=w.height)}}f.C=p,e(f.C<=f.i)}function Yr(f){var p;if(0<f.ua)return 0;for(p=0;p<f.Wb;++p){var w=f.Ya[p].G,x=f.Ya[p].H;if(0<w[1][x[1]+0].g||0<w[2][x[2]+0].g||0<w[3][x[3]+0].g)return 0}return 1}function gi(f,p,w,x,T,b){if(f.Z!=0){var L=f.qd,F=f.rd;for(e(Co[f.Z]!=null);p<w;++p)Co[f.Z](L,F,x,T,x,T,b),L=x,F=T,T+=b;f.qd=L,f.rd=F}}function jr(f,p){var w=f.l.ma,x=w.Z==0||w.Z==1?f.l.j:f.C;if(x=f.C<x?x:f.C,e(p<=f.l.o),p>x){var T=f.l.width,b=w.ca,L=w.tb+T*x,F=f.V,U=f.Ba+f.c*x,O=f.gc;e(f.ab==1),e(O[0].hc==3),Si(O[0],x,p,F,U,b,L),gi(w,x,p,b,L,T)}f.C=f.Ma=p}function Xr(f,p,w,x,T,b,L){var F=f.$/x,U=f.$%x,O=f.m,te=f.s,ue=w+f.$,z=ue;T=w+x*T;var re=w+x*b,oe=280+te.ua,ge=f.Pb?F:16777216,le=0<te.ua?te.Wa:null,ye=te.wc,_e=ue<re?Rn(te,U,F):null;e(f.C<b),e(re<=T);var Ce=!1;e:for(;;){for(;Ce||ue<re;){var Ae=0;if(F>=ge){var He=ue-w;e((ge=f).Pb),ge.wd=ge.m,ge.xd=He,0<ge.s.ua&&Ie(ge.s.Wa,ge.s.vb),ge=F+f_}if(U&ye||(_e=Rn(te,U,F)),e(_e!=null),_e.Qb&&(p[ue]=_e.qb,Ce=!0),!Ce)if(ae(O),_e.jc){Ae=O,He=p;var Me=ue,ut=_e.pd[$(Ae)&gs-1];e(_e.jc),256>ut.g?(ne(Ae,Ae.u+ut.g),He[Me]=ut.value,Ae=0):(ne(Ae,Ae.u+ut.g-256),e(256<=ut.value),Ae=ut.value),Ae==0&&(Ce=!0)}else Ae=en(_e.G[0],_e.H[0],O);if(O.h)break;if(Ce||256>Ae){if(!Ce)if(_e.nd)p[ue]=(_e.qb|Ae<<8)>>>0;else{if(ae(O),Ce=en(_e.G[1],_e.H[1],O),ae(O),He=en(_e.G[2],_e.H[2],O),Me=en(_e.G[3],_e.H[3],O),O.h)break;p[ue]=(Me<<24|Ce<<16|Ae<<8|He)>>>0}if(Ce=!1,++ue,++U>=x&&(U=0,++F,L!=null&&F<=b&&!(F%16)&&L(f,F),le!=null))for(;z<ue;)Ae=p[z++],le.X[(506832829*Ae&4294967295)>>>le.Mb]=Ae}else if(280>Ae){if(Ae=Lr(Ae-256,O),He=en(_e.G[4],_e.H[4],O),ae(O),He=Rr(x,He=Lr(He,O)),O.h)break;if(ue-w<He||T-ue<Ae)break e;for(Me=0;Me<Ae;++Me)p[ue+Me]=p[ue+Me-He];for(ue+=Ae,U+=Ae;U>=x;)U-=x,++F,L!=null&&F<=b&&!(F%16)&&L(f,F);if(e(ue<=T),U&ye&&(_e=Rn(te,U,F)),le!=null)for(;z<ue;)Ae=p[z++],le.X[(506832829*Ae&4294967295)>>>le.Mb]=Ae}else{if(!(Ae<oe))break e;for(Ce=Ae-280,e(le!=null);z<ue;)Ae=p[z++],le.X[(506832829*Ae&4294967295)>>>le.Mb]=Ae;Ae=ue,e(!(Ce>>>(He=le).Xa)),p[Ae]=He.X[Ce],Ce=!0}Ce||e(O.h==ee(O))}if(f.Pb&&O.h&&ue<T)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ie(f.s.vb,f.s.Wa);else{if(O.h)break e;L!=null&&L(f,F>b?b:F),f.a=0,f.$=ue-w}return 1}return f.a=3,0}function Mr(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var p=f.Wa;p!=null&&(p.X=null),f.vb=null,e(f!=null)}function is(){var f=new tt;return f==null?null:(f.a=0,f.xb=a0,Ut("Predictor","VP8LPredictors"),Ut("Predictor","VP8LPredictors_C"),Ut("PredictorAdd","VP8LPredictorsAdd"),Ut("PredictorAdd","VP8LPredictorsAdd_C"),ln=vt,hl=at,pl=an,_o=xt,xo=dt,So=ht,vs=$t,B.VP8LMapColor32b=xi,B.VP8LMapColor8b=fl,f)}function vi(f,p,w,x,T){var b=1,L=[f],F=[p],U=x.m,O=x.s,te=null,ue=0;e:for(;;){if(w)for(;b&&me(U,1);){var z=L,re=F,oe=x,ge=1,le=oe.m,ye=oe.gc[oe.ab],_e=me(le,2);if(oe.Oc&1<<_e)b=0;else{switch(oe.Oc|=1<<_e,ye.hc=_e,ye.Ea=z[0],ye.nc=re[0],ye.K=[null],++oe.ab,e(4>=oe.ab),_e){case 0:case 1:ye.b=me(le,3)+2,ge=vi(Ne(ye.Ea,ye.b),Ne(ye.nc,ye.b),0,oe,ye.K),ye.K=ye.K[0];break;case 3:var Ce,Ae=me(le,8)+1,He=16<Ae?0:4<Ae?1:2<Ae?2:3;if(z[0]=Ne(ye.Ea,He),ye.b=He,Ce=ge=vi(Ae,1,0,oe,ye.K)){var Me,ut=Ae,Be=ye,wt=1<<(8>>Be.b),Nn=o(wt);if(Nn==null)Ce=0;else{var ct=Be.K[0],qe=Be.w;for(Nn[0]=Be.K[0][0],Me=1;Me<1*ut;++Me)Nn[Me]=je(ct[qe+Me],Nn[Me-1]);for(;Me<4*wt;++Me)Nn[Me]=0;Be.K[0]=null,Be.K[0]=Nn,Ce=1}}ge=Ce;break;case 2:break;default:e(0)}b=ge}}if(L=L[0],F=F[0],b&&me(U,1)&&!(b=1<=(ue=me(U,4))&&11>=ue)){x.a=3;break e}var be;if(be=b)t:{var cn,st,_t,zt=x,Dn=L,er=F,tn=ue,Vn=w,tr=zt.m,Cn=zt.s,At=[null],It=1,nn=0,kt=c_[tn];n:for(;;){if(Vn&&me(tr,1)){var Un=me(tr,3)+2,ti=Ne(Dn,Un),fn=Ne(er,Un),ar=ti*fn;if(!vi(ti,fn,0,zt,At))break n;for(At=At[0],Cn.xc=Un,cn=0;cn<ar;++cn){var Ft=At[cn]>>8&65535;At[cn]=Ft,Ft>=It&&(It=Ft+1)}}if(tr.h)break n;for(st=0;5>st;++st){var En=o0[st];!st&&0<tn&&(En+=1<<tn),nn<En&&(nn=En)}var yr=s(It*kt,Y),nr=It,wr=s(nr,ce);if(wr==null)var _r=null;else e(65536>=nr),_r=wr;var lr=o(nn);if(_r==null||lr==null||yr==null){zt.a=1;break n}var xr=yr;for(cn=_t=0;cn<It;++cn){var qt=_r[cn],Sr=qt.G,ni=qt.H,ws=0,Yi=1,Bn=0;for(st=0;5>st;++st){En=o0[st],Sr[st]=xr,ni[st]=_t,!st&&0<tn&&(En+=1<<tn);i:{var Yu,wd=En,ju=zt,wl=lr,P_=xr,L_=_t,_d=0,Eo=ju.m,R_=me(Eo,1);if(i(wl,0,0,wd),R_){var M_=me(Eo,1)+1,F_=me(Eo,1),m0=me(Eo,F_==0?1:8);wl[m0]=1,M_==2&&(wl[m0=me(Eo,8)]=1);var Xu=1}else{var g0=o(19),v0=me(Eo,4)+4;if(19<v0){ju.a=3;var Zu=0;break i}for(Yu=0;Yu<v0;++Yu)g0[l_[Yu]]=me(Eo,3);var xd=void 0,_l=void 0,y0=ju,D_=g0,Qu=wd,w0=wl,Sd=0,To=y0.m,_0=8,x0=s(128,Y);r:for(;D(x0,0,7,D_,19);){if(me(To,1)){var U_=2+2*me(To,3);if((xd=2+me(To,U_))>Qu)break r}else xd=Qu;for(_l=0;_l<Qu&&xd--;){ae(To);var S0=x0[0+(127&$(To))];ne(To,To.u+S0.g);var ea=S0.value;if(16>ea)w0[_l++]=ea,ea!=0&&(_0=ea);else{var B_=ea==16,A0=ea-16,q_=s_[A0],N0=me(To,o_[A0])+q_;if(_l+N0>Qu)break r;for(var O_=B_?_0:0;0<N0--;)w0[_l++]=O_}}Sd=1;break r}Sd||(y0.a=3),Xu=Sd}(Xu=Xu&&!Eo.h)&&(_d=D(P_,L_,8,wl,wd)),Xu&&_d!=0?Zu=_d:(ju.a=3,Zu=0)}if(Zu==0)break n;if(Yi&&a_[st]==1&&(Yi=xr[_t].g==0),ws+=xr[_t].g,_t+=Zu,3>=st){var xl,Ad=lr[0];for(xl=1;xl<En;++xl)lr[xl]>Ad&&(Ad=lr[xl]);Bn+=Ad}}if(qt.nd=Yi,qt.Qb=0,Yi&&(qt.qb=(Sr[3][ni[3]+0].value<<24|Sr[1][ni[1]+0].value<<16|Sr[2][ni[2]+0].value)>>>0,ws==0&&256>Sr[0][ni[0]+0].value&&(qt.Qb=1,qt.qb+=Sr[0][ni[0]+0].value<<8)),qt.jc=!qt.Qb&&6>Bn,qt.jc){var ec,ji=qt;for(ec=0;ec<gs;++ec){var bo=ec,Io=ji.pd[bo],tc=ji.G[0][ji.H[0]+bo];256<=tc.value?(Io.g=tc.g+256,Io.value=tc.value):(Io.g=0,Io.value=0,bo>>=In(tc,8,Io),bo>>=In(ji.G[1][ji.H[1]+bo],16,Io),bo>>=In(ji.G[2][ji.H[2]+bo],0,Io),In(ji.G[3][ji.H[3]+bo],24,Io))}}}Cn.vc=At,Cn.Wb=It,Cn.Ya=_r,Cn.yc=yr,be=1;break t}be=0}if(!(b=be)){x.a=3;break e}if(0<ue){if(O.ua=1<<ue,!q(O.Wa,ue)){x.a=1,b=0;break e}}else O.ua=0;var Nd=x,C0=L,z_=F,Cd=Nd.s,Ed=Cd.xc;if(Nd.c=C0,Nd.i=z_,Cd.md=Ne(C0,Ed),Cd.wc=Ed==0?-1:(1<<Ed)-1,w){x.xb=y_;break e}if((te=o(L*F))==null){x.a=1,b=0;break e}b=(b=Xr(x,te,0,L,F,F,null))&&!U.h;break e}return b?(T!=null?T[0]=te:(e(te==null),e(w)),x.$=0,w||Mr(O)):Mr(O),b}function os(f,p){var w=f.c*f.i,x=w+p+16*p;return e(f.c<=p),f.V=o(x),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+w+p,1)}function Hs(f,p){var w=f.C,x=p-w,T=f.V,b=f.Ba+f.c*w;for(e(p<=f.l.o);0<x;){var L=16<x?16:x,F=f.l.ma,U=f.l.width,O=U*L,te=F.ca,ue=F.tb+U*w,z=f.Ta,re=f.Ua;rs(f,L,T,b),Xm(z,re,te,ue,O),gi(F,w,w+L,te,ue,U),x-=L,T+=L*f.c,w+=L}e(w==p),f.C=f.Ma=p}function Vs(){this.ub=this.yd=this.td=this.Rb=0}function Gs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yf(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ka(){this.Yb=function(){var f=[];return function p(w,x,T){for(var b=T[x],L=0;L<b&&(w.push(T.length>x+1?[]:0),!(T.length<x+1));L++)p(w[L],x+1,T)}(f,0,[3,11]),f}()}function _u(){this.jb=o(3),this.Wc=a([4,8],Ka),this.Xc=a([4,17],Ka)}function xu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Fr(){this.ld=this.La=this.dd=this.tc=0}function Ya(){this.Na=this.la=0}function Su(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ja(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Au(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fr),this.Y=0,this.ya=Array(new ja),this.aa=0,this.l=new Ws}function Nu(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Cu(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Vs,this.Kc=new Gs,this.ed=new xu,this.Qa=new Yf,this.Ic=this.$c=this.Aa=0,this.D=new Au,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,I),this.ia=0,this.pb=s(4,Su),this.Pa=new _u,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nu),this.Hd=0,this.rb=Array(new Ya),this.sb=0,this.wa=Array(new Fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ja),this.L=this.aa=0,this.gd=a([4,2],Fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function yi(f,p){return 0>f?0:f>p?p:f}function Ws(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jf(){var f=new Cu;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,vl||(vl=$s)),f}function vn(f,p,w){return f.a==0&&(f.a=p,f.sc=w,f.cb=0),0}function Eu(f,p,w){return 3<=w&&f[p+0]==157&&f[p+1]==1&&f[p+2]==42}function wi(f,p){if(f==null)return 0;if(f.a=0,f.sc="OK",p==null)return vn(f,2,"null VP8Io passed to VP8GetHeaders()");var w=p.data,x=p.w,T=p.ha;if(4>T)return vn(f,7,"Truncated header.");var b=w[x+0]|w[x+1]<<8|w[x+2]<<16,L=f.Od;if(L.Rb=!(1&b),L.td=b>>1&7,L.yd=b>>4&1,L.ub=b>>5,3<L.td)return vn(f,3,"Incorrect keyframe parameters.");if(!L.yd)return vn(f,4,"Frame not displayable.");x+=3,T-=3;var F=f.Kc;if(L.Rb){if(7>T)return vn(f,7,"cannot parse picture header");if(!Eu(w,x,T))return vn(f,3,"Bad code word");F.c=16383&(w[x+4]<<8|w[x+3]),F.Td=w[x+4]>>6,F.i=16383&(w[x+6]<<8|w[x+5]),F.Ud=w[x+6]>>6,x+=7,T-=7,f.za=F.c+15>>4,f.Ub=F.i+15>>4,p.width=F.c,p.height=F.i,p.Da=0,p.j=0,p.v=0,p.va=p.width,p.o=p.height,p.da=0,p.ib=p.width,p.hb=p.height,p.U=p.width,p.T=p.height,i((b=f.Pa).jb,0,255,b.jb.length),e((b=f.Qa)!=null),b.Cb=0,b.Bb=0,b.Fb=1,i(b.Zb,0,0,b.Zb.length),i(b.Lb,0,0,b.Lb)}if(L.ub>T)return vn(f,7,"bad partition length");fe(b=f.m,w,x,L.ub),x+=L.ub,T-=L.ub,L.Rb&&(F.Ld=pe(b),F.Kd=pe(b)),F=f.Qa;var U,O=f.Pa;if(e(b!=null),e(F!=null),F.Cb=pe(b),F.Cb){if(F.Bb=pe(b),pe(b)){for(F.Fb=pe(b),U=0;4>U;++U)F.Zb[U]=pe(b)?X(b,7):0;for(U=0;4>U;++U)F.Lb[U]=pe(b)?X(b,6):0}if(F.Bb)for(U=0;3>U;++U)O.jb[U]=pe(b)?de(b,8):255}else F.Bb=0;if(b.Ka)return vn(f,3,"cannot parse segment header");if((F=f.ed).zd=pe(b),F.Tb=de(b,6),F.wb=de(b,3),F.Pc=pe(b),F.Pc&&pe(b)){for(O=0;4>O;++O)pe(b)&&(F.vd[O]=X(b,6));for(O=0;4>O;++O)pe(b)&&(F.od[O]=X(b,6))}if(f.L=F.Tb==0?0:F.zd?1:2,b.Ka)return vn(f,3,"cannot parse filter header");var te=T;if(T=U=x,x=U+te,F=te,f.Xb=(1<<de(f.m,2))-1,te<3*(O=f.Xb))w=7;else{for(U+=3*O,F-=3*O,te=0;te<O;++te){var ue=w[T+0]|w[T+1]<<8|w[T+2]<<16;ue>F&&(ue=F),fe(f.Jc[+te],w,U,ue),U+=ue,F-=ue,T+=3}fe(f.Jc[+O],w,U,F),w=U<x?0:5}if(w!=0)return vn(f,w,"cannot parse partitions");for(w=de(U=f.m,7),T=pe(U)?X(U,4):0,x=pe(U)?X(U,4):0,F=pe(U)?X(U,4):0,O=pe(U)?X(U,4):0,U=pe(U)?X(U,4):0,te=f.Qa,ue=0;4>ue;++ue){if(te.Cb){var z=te.Zb[ue];te.Fb||(z+=w)}else{if(0<ue){f.pb[ue]=f.pb[0];continue}z=w}var re=f.pb[ue];re.Sc[0]=gd[yi(z+T,127)],re.Sc[1]=vd[yi(z+0,127)],re.Eb[0]=2*gd[yi(z+x,127)],re.Eb[1]=101581*vd[yi(z+F,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=gd[yi(z+O,117)],re.Qc[1]=vd[yi(z+U,127)],re.lc=z+U}if(!L.Rb)return vn(f,4,"Not a key frame.");for(pe(b),L=f.Pa,w=0;4>w;++w){for(T=0;8>T;++T)for(x=0;3>x;++x)for(F=0;11>F;++F)O=xe(b,g_[w][T][x][F])?de(b,8):p_[w][T][x][F],L.Wc[w][T].Yb[x][F]=O;for(T=0;17>T;++T)L.Xc[w][T]=L.Wc[w][v_[T]]}return f.kc=pe(b),f.kc&&(f.Bd=de(b,8)),f.cb=1}function $s(f,p,w,x,T,b,L){var F=p[T].Yb[w];for(w=0;16>T;++T){if(!xe(f,F[w+0]))return T;for(;!xe(f,F[w+1]);)if(F=p[++T].Yb[0],w=0,T==16)return 16;var U=p[T+1].Yb;if(xe(f,F[w+2])){var O=f,te=0;if(xe(O,(z=F)[(ue=w)+3]))if(xe(O,z[ue+6])){for(F=0,ue=2*(te=xe(O,z[ue+8]))+(z=xe(O,z[ue+9+te])),te=0,z=d_[ue];z[F];++F)te+=te+xe(O,z[F]);te+=3+(8<<ue)}else xe(O,z[ue+7])?(te=7+2*xe(O,165),te+=xe(O,145)):te=5+xe(O,159);else te=xe(O,z[ue+4])?3+xe(O,z[ue+5]):2;F=U[2]}else te=1,F=U[1];U=L+h_[T],0>(O=f).b&&he(O);var ue,z=O.b,re=(ue=O.Ca>>1)-(O.I>>z)>>31;--O.b,O.Ca+=re,O.Ca|=1,O.I-=(ue+1&re)<<z,b[U]=((te^re)-re)*x[(0<T)+0]}return 16}function Tu(f){var p=f.rb[f.sb-1];p.la=0,p.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function Dr(f,p,w,x,T){T=f[p+w+32*x]+(T>>3),f[p+w+32*x]=-256&T?0>T?0:255:T}function xn(f,p,w,x,T,b){Dr(f,p,0,w,x+T),Dr(f,p,1,w,x+b),Dr(f,p,2,w,x-b),Dr(f,p,3,w,x-T)}function Di(f){return(20091*f>>16)+f}function bu(f,p,w,x){var T,b=0,L=o(16);for(T=0;4>T;++T){var F=f[p+0]+f[p+8],U=f[p+0]-f[p+8],O=(35468*f[p+4]>>16)-Di(f[p+12]),te=Di(f[p+4])+(35468*f[p+12]>>16);L[b+0]=F+te,L[b+1]=U+O,L[b+2]=U-O,L[b+3]=F-te,b+=4,p++}for(T=b=0;4>T;++T)F=(f=L[b+0]+4)+L[b+8],U=f-L[b+8],O=(35468*L[b+4]>>16)-Di(L[b+12]),Dr(w,x,0,0,F+(te=Di(L[b+4])+(35468*L[b+12]>>16))),Dr(w,x,1,0,U+O),Dr(w,x,2,0,U-O),Dr(w,x,3,0,F-te),b++,x+=32}function Xf(f,p,w,x){var T=f[p+0]+4,b=35468*f[p+4]>>16,L=Di(f[p+4]),F=35468*f[p+1]>>16;xn(w,x,0,T+L,f=Di(f[p+1]),F),xn(w,x,1,T+b,f,F),xn(w,x,2,T-b,f,F),xn(w,x,3,T-L,f,F)}function Zf(f,p,w,x,T){bu(f,p,w,x),T&&bu(f,p+16,w,x+4)}function _i(f,p,w,x){ys(f,p+0,w,x,1),ys(f,p+32,w,x+128,1)}function Iu(f,p,w,x){var T;for(f=f[p+0]+4,T=0;4>T;++T)for(p=0;4>p;++p)Dr(w,x,p,T,f)}function ku(f,p,w,x){f[p+0]&&bt(f,p+0,w,x),f[p+16]&&bt(f,p+16,w,x+4),f[p+32]&&bt(f,p+32,w,x+128),f[p+48]&&bt(f,p+48,w,x+128+4)}function Js(f,p,w,x){var T,b=o(16);for(T=0;4>T;++T){var L=f[p+0+T]+f[p+12+T],F=f[p+4+T]+f[p+8+T],U=f[p+4+T]-f[p+8+T],O=f[p+0+T]-f[p+12+T];b[0+T]=L+F,b[8+T]=L-F,b[4+T]=O+U,b[12+T]=O-U}for(T=0;4>T;++T)L=(f=b[0+4*T]+3)+b[3+4*T],F=b[1+4*T]+b[2+4*T],U=b[1+4*T]-b[2+4*T],O=f-b[3+4*T],w[x+0]=L+F>>3,w[x+16]=O+U>>3,w[x+32]=L-F>>3,w[x+48]=O-U>>3,x+=64}function ss(f,p,w){var x,T=p-32,b=vr,L=255-f[T-1];for(x=0;x<w;++x){var F,U=b,O=L+f[p-1];for(F=0;F<w;++F)f[p+F]=U[O+f[T+F]];p+=32}}function Qf(f,p){ss(f,p,4)}function ed(f,p){ss(f,p,8)}function td(f,p){ss(f,p,16)}function Xa(f,p){var w;for(w=0;16>w;++w)r(f,p+32*w,f,p-32,16)}function Pu(f,p){var w;for(w=16;0<w;--w)i(f,p,f[p-1],16),p+=32}function Zr(f,p,w){var x;for(x=0;16>x;++x)i(p,w+32*x,f,16)}function nd(f,p){var w,x=16;for(w=0;16>w;++w)x+=f[p-1+32*w]+f[p+w-32];Zr(x>>5,f,p)}function as(f,p){var w,x=8;for(w=0;16>w;++w)x+=f[p-1+32*w];Zr(x>>4,f,p)}function Za(f,p){var w,x=8;for(w=0;16>w;++w)x+=f[p+w-32];Zr(x>>4,f,p)}function rd(f,p){Zr(128,f,p)}function nt(f,p,w){return f+2*p+w+2>>2}function id(f,p){var w,x=p-32;for(x=new Uint8Array([nt(f[x-1],f[x+0],f[x+1]),nt(f[x+0],f[x+1],f[x+2]),nt(f[x+1],f[x+2],f[x+3]),nt(f[x+2],f[x+3],f[x+4])]),w=0;4>w;++w)r(f,p+32*w,x,0,x.length)}function od(f,p){var w=f[p-1],x=f[p-1+32],T=f[p-1+64],b=f[p-1+96];Te(f,p+0,16843009*nt(f[p-1-32],w,x)),Te(f,p+32,16843009*nt(w,x,T)),Te(f,p+64,16843009*nt(x,T,b)),Te(f,p+96,16843009*nt(T,b,b))}function sd(f,p){var w,x=4;for(w=0;4>w;++w)x+=f[p+w-32]+f[p-1+32*w];for(x>>=3,w=0;4>w;++w)i(f,p+32*w,x,4)}function Ui(f,p){var w=f[p-1+0],x=f[p-1+32],T=f[p-1+64],b=f[p-1-32],L=f[p+0-32],F=f[p+1-32],U=f[p+2-32],O=f[p+3-32];f[p+0+96]=nt(x,T,f[p-1+96]),f[p+1+96]=f[p+0+64]=nt(w,x,T),f[p+2+96]=f[p+1+64]=f[p+0+32]=nt(b,w,x),f[p+3+96]=f[p+2+64]=f[p+1+32]=f[p+0+0]=nt(L,b,w),f[p+3+64]=f[p+2+32]=f[p+1+0]=nt(F,L,b),f[p+3+32]=f[p+2+0]=nt(U,F,L),f[p+3+0]=nt(O,U,F)}function Bi(f,p){var w=f[p+1-32],x=f[p+2-32],T=f[p+3-32],b=f[p+4-32],L=f[p+5-32],F=f[p+6-32],U=f[p+7-32];f[p+0+0]=nt(f[p+0-32],w,x),f[p+1+0]=f[p+0+32]=nt(w,x,T),f[p+2+0]=f[p+1+32]=f[p+0+64]=nt(x,T,b),f[p+3+0]=f[p+2+32]=f[p+1+64]=f[p+0+96]=nt(T,b,L),f[p+3+32]=f[p+2+64]=f[p+1+96]=nt(b,L,F),f[p+3+64]=f[p+2+96]=nt(L,F,U),f[p+3+96]=nt(F,U,U)}function ad(f,p){var w=f[p-1+0],x=f[p-1+32],T=f[p-1+64],b=f[p-1-32],L=f[p+0-32],F=f[p+1-32],U=f[p+2-32],O=f[p+3-32];f[p+0+0]=f[p+1+64]=b+L+1>>1,f[p+1+0]=f[p+2+64]=L+F+1>>1,f[p+2+0]=f[p+3+64]=F+U+1>>1,f[p+3+0]=U+O+1>>1,f[p+0+96]=nt(T,x,w),f[p+0+64]=nt(x,w,b),f[p+0+32]=f[p+1+96]=nt(w,b,L),f[p+1+32]=f[p+2+96]=nt(b,L,F),f[p+2+32]=f[p+3+96]=nt(L,F,U),f[p+3+32]=nt(F,U,O)}function ld(f,p){var w=f[p+0-32],x=f[p+1-32],T=f[p+2-32],b=f[p+3-32],L=f[p+4-32],F=f[p+5-32],U=f[p+6-32],O=f[p+7-32];f[p+0+0]=w+x+1>>1,f[p+1+0]=f[p+0+64]=x+T+1>>1,f[p+2+0]=f[p+1+64]=T+b+1>>1,f[p+3+0]=f[p+2+64]=b+L+1>>1,f[p+0+32]=nt(w,x,T),f[p+1+32]=f[p+0+96]=nt(x,T,b),f[p+2+32]=f[p+1+96]=nt(T,b,L),f[p+3+32]=f[p+2+96]=nt(b,L,F),f[p+3+64]=nt(L,F,U),f[p+3+96]=nt(F,U,O)}function Ks(f,p){var w=f[p-1+0],x=f[p-1+32],T=f[p-1+64],b=f[p-1+96];f[p+0+0]=w+x+1>>1,f[p+2+0]=f[p+0+32]=x+T+1>>1,f[p+2+32]=f[p+0+64]=T+b+1>>1,f[p+1+0]=nt(w,x,T),f[p+3+0]=f[p+1+32]=nt(x,T,b),f[p+3+32]=f[p+1+64]=nt(T,b,b),f[p+3+64]=f[p+2+64]=f[p+0+96]=f[p+1+96]=f[p+2+96]=f[p+3+96]=b}function Qa(f,p){var w=f[p-1+0],x=f[p-1+32],T=f[p-1+64],b=f[p-1+96],L=f[p-1-32],F=f[p+0-32],U=f[p+1-32],O=f[p+2-32];f[p+0+0]=f[p+2+32]=w+L+1>>1,f[p+0+32]=f[p+2+64]=x+w+1>>1,f[p+0+64]=f[p+2+96]=T+x+1>>1,f[p+0+96]=b+T+1>>1,f[p+3+0]=nt(F,U,O),f[p+2+0]=nt(L,F,U),f[p+1+0]=f[p+3+32]=nt(w,L,F),f[p+1+32]=f[p+3+64]=nt(x,w,L),f[p+1+64]=f[p+3+96]=nt(T,x,w),f[p+1+96]=nt(b,T,x)}function ls(f,p){var w;for(w=0;8>w;++w)r(f,p+32*w,f,p-32,8)}function ud(f,p){var w;for(w=0;8>w;++w)i(f,p,f[p-1],8),p+=32}function qi(f,p,w){var x;for(x=0;8>x;++x)i(p,w+32*x,f,8)}function cd(f,p){var w,x=8;for(w=0;8>w;++w)x+=f[p+w-32]+f[p-1+32*w];qi(x>>4,f,p)}function el(f,p){var w,x=4;for(w=0;8>w;++w)x+=f[p+w-32];qi(x>>3,f,p)}function tl(f,p){var w,x=4;for(w=0;8>w;++w)x+=f[p-1+32*w];qi(x>>3,f,p)}function Lu(f,p){qi(128,f,p)}function Oi(f,p,w){var x=f[p-w],T=f[p+0],b=3*(T-x)+fd[1020+f[p-2*w]-f[p+w]],L=Ou[112+(b+4>>3)];f[p-w]=vr[255+x+Ou[112+(b+3>>3)]],f[p+0]=vr[255+T-L]}function nl(f,p,w,x){var T=f[p+0],b=f[p+w];return qr[255+f[p-2*w]-f[p-w]]>x||qr[255+b-T]>x}function Ys(f,p,w,x){return 4*qr[255+f[p-w]-f[p+0]]+qr[255+f[p-2*w]-f[p+w]]<=x}function rl(f,p,w,x,T){var b=f[p-3*w],L=f[p-2*w],F=f[p-w],U=f[p+0],O=f[p+w],te=f[p+2*w],ue=f[p+3*w];return 4*qr[255+F-U]+qr[255+L-O]>x?0:qr[255+f[p-4*w]-b]<=T&&qr[255+b-L]<=T&&qr[255+L-F]<=T&&qr[255+ue-te]<=T&&qr[255+te-O]<=T&&qr[255+O-U]<=T}function us(f,p,w,x){var T=2*x+1;for(x=0;16>x;++x)Ys(f,p+x,w,T)&&Oi(f,p+x,w)}function il(f,p,w,x){var T=2*x+1;for(x=0;16>x;++x)Ys(f,p+x*w,1,T)&&Oi(f,p+x*w,1)}function Ru(f,p,w,x){var T;for(T=3;0<T;--T)us(f,p+=4*w,w,x)}function Mu(f,p,w,x){var T;for(T=3;0<T;--T)il(f,p+=4,w,x)}function zi(f,p,w,x,T,b,L,F){for(b=2*b+1;0<T--;){if(rl(f,p,w,b,L))if(nl(f,p,w,F))Oi(f,p,w);else{var U=f,O=p,te=w,ue=U[O-2*te],z=U[O-te],re=U[O+0],oe=U[O+te],ge=U[O+2*te],le=27*(_e=fd[1020+3*(re-z)+fd[1020+ue-oe]])+63>>7,ye=18*_e+63>>7,_e=9*_e+63>>7;U[O-3*te]=vr[255+U[O-3*te]+_e],U[O-2*te]=vr[255+ue+ye],U[O-te]=vr[255+z+le],U[O+0]=vr[255+re-le],U[O+te]=vr[255+oe-ye],U[O+2*te]=vr[255+ge-_e]}p+=x}}function Hi(f,p,w,x,T,b,L,F){for(b=2*b+1;0<T--;){if(rl(f,p,w,b,L))if(nl(f,p,w,F))Oi(f,p,w);else{var U=f,O=p,te=w,ue=U[O-te],z=U[O+0],re=U[O+te],oe=Ou[112+(4+(ge=3*(z-ue))>>3)],ge=Ou[112+(ge+3>>3)],le=oe+1>>1;U[O-2*te]=vr[255+U[O-2*te]+le],U[O-te]=vr[255+ue+ge],U[O+0]=vr[255+z-oe],U[O+te]=vr[255+re-le]}p+=x}}function Fu(f,p,w,x,T,b){zi(f,p,w,1,16,x,T,b)}function cs(f,p,w,x,T,b){zi(f,p,1,w,16,x,T,b)}function Du(f,p,w,x,T,b){var L;for(L=3;0<L;--L)Hi(f,p+=4*w,w,1,16,x,T,b)}function y(f,p,w,x,T,b){var L;for(L=3;0<L;--L)Hi(f,p+=4,1,w,16,x,T,b)}function E(f,p,w,x,T,b,L,F){zi(f,p,T,1,8,b,L,F),zi(w,x,T,1,8,b,L,F)}function H(f,p,w,x,T,b,L,F){zi(f,p,1,T,8,b,L,F),zi(w,x,1,T,8,b,L,F)}function Z(f,p,w,x,T,b,L,F){Hi(f,p+4*T,T,1,8,b,L,F),Hi(w,x+4*T,T,1,8,b,L,F)}function ie(f,p,w,x,T,b,L,F){Hi(f,p+4,1,T,8,b,L,F),Hi(w,x+4,1,T,8,b,L,F)}function we(){this.ba=new pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Se(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ue(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ze(){this.ua=0,this.Wa=new ft,this.vb=new ft,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new Y}function tt(){this.xb=this.a=0,this.l=new Ws,this.ca=new pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ze,this.ab=0,this.gc=s(4,Ue),this.Oc=0}function lt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ws,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function St(f,p,w,x,T,b,L){for(f=f==null?0:f[p+0],p=0;p<L;++p)T[b+p]=f+w[x+p]&255,f=T[b+p]}function jt(f,p,w,x,T,b,L){var F;if(f==null)St(null,null,w,x,T,b,L);else for(F=0;F<L;++F)T[b+F]=f[p+F]+w[x+F]&255}function yn(f,p,w,x,T,b,L){if(f==null)St(null,null,w,x,T,b,L);else{var F,U=f[p+0],O=U,te=U;for(F=0;F<L;++F)O=te+(U=f[p+F])-O,te=w[x+F]+(-256&O?0>O?0:255:O)&255,O=U,T[b+F]=te}}function Bt(f,p,w,x){var T=p.width,b=p.o;if(e(f!=null&&p!=null),0>w||0>=x||w+x>b)return null;if(!f.Cc){if(f.ga==null){var L;if(f.ga=new lt,(L=f.ga==null)||(L=p.width*p.o,e(f.Gb.length==0),f.Gb=o(L),f.Uc=0,f.Gb==null?L=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,L=1),L=!L),!L){L=f.ga;var F=f.Fa,U=f.P,O=f.qc,te=f.mb,ue=f.nb,z=U+1,re=O-1,oe=L.l;if(e(F!=null&&te!=null&&p!=null),Co[0]=null,Co[1]=St,Co[2]=jt,Co[3]=yn,L.ca=te,L.tb=ue,L.c=p.width,L.i=p.height,e(0<L.c&&0<L.i),1>=O)p=0;else if(L.$a=3&F[U+0],L.Z=F[U+0]>>2&3,L.Lc=F[U+0]>>4&3,U=F[U+0]>>6&3,0>L.$a||1<L.$a||4<=L.Z||1<L.Lc||U)p=0;else if(oe.put=Ze,oe.ac=mi,oe.bc=Mi,oe.ma=L,oe.width=p.width,oe.height=p.height,oe.Da=p.Da,oe.v=p.v,oe.va=p.va,oe.j=p.j,oe.o=p.o,L.$a)e:{e(L.$a==1),p=is();t:for(;;){if(p==null){p=0;break e}if(e(L!=null),L.mc=p,p.c=L.c,p.i=L.i,p.l=L.l,p.l.ma=L,p.l.width=L.c,p.l.height=L.i,p.a=0,se(p.m,F,z,re),!vi(L.c,L.i,1,p,null)||(p.ab==1&&p.gc[0].hc==3&&Yr(p.s)?(L.ic=1,F=p.c*p.i,p.Ta=null,p.Ua=0,p.V=o(F),p.Ba=0,p.V==null?(p.a=1,p=0):p=1):(L.ic=0,p=os(p,L.c)),!p))break t;p=1;break e}L.mc=null,p=0}else p=re>=L.c*L.i;L=!p}if(L)return null;f.ga.Lc!=1?f.Ga=0:x=b-w}e(f.ga!=null),e(w+x<=b);e:{if(p=(F=f.ga).c,b=F.l.o,F.$a==0){if(z=f.rc,re=f.Vc,oe=f.Fa,U=f.P+1+w*p,O=f.mb,te=f.nb+w*p,e(U<=f.P+f.qc),F.Z!=0)for(e(Co[F.Z]!=null),L=0;L<x;++L)Co[F.Z](z,re,oe,U,O,te,p),z=O,re=te,te+=p,U+=p;else for(L=0;L<x;++L)r(O,te,oe,U,p),z=O,re=te,te+=p,U+=p;f.rc=z,f.Vc=re}else{if(e(F.mc!=null),p=w+x,e((L=F.mc)!=null),e(p<=L.i),L.C>=p)p=1;else if(F.ic||Qr(),F.ic){F=L.V,z=L.Ba,re=L.c;var ge=L.i,le=(oe=1,U=L.$/re,O=L.$%re,te=L.m,ue=L.s,L.$),ye=re*ge,_e=re*p,Ce=ue.wc,Ae=le<_e?Rn(ue,O,U):null;e(le<=ye),e(p<=ge),e(Yr(ue));t:for(;;){for(;!te.h&&le<_e;){if(O&Ce||(Ae=Rn(ue,O,U)),e(Ae!=null),ae(te),256>(ge=en(Ae.G[0],Ae.H[0],te)))F[z+le]=ge,++le,++O>=re&&(O=0,++U<=p&&!(U%16)&&jr(L,U));else{if(!(280>ge)){oe=0;break t}ge=Lr(ge-256,te);var He,Me=en(Ae.G[4],Ae.H[4],te);if(ae(te),!(le>=(Me=Rr(re,Me=Lr(Me,te)))&&ye-le>=ge)){oe=0;break t}for(He=0;He<ge;++He)F[z+le+He]=F[z+le+He-Me];for(le+=ge,O+=ge;O>=re;)O-=re,++U<=p&&!(U%16)&&jr(L,U);le<_e&&O&Ce&&(Ae=Rn(ue,O,U))}e(te.h==ee(te))}jr(L,U>p?p:U);break t}!oe||te.h&&le<ye?(oe=0,L.a=te.h?5:3):L.$=le,p=oe}else p=Xr(L,L.V,L.Ba,L.c,L.i,p,Hs);if(!p){x=0;break e}}w+x>=b&&(f.Cc=1),x=1}if(!x)return null;if(f.Cc&&((x=f.ga)!=null&&(x.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+w*T}function Sn(f,p,w,x,T,b){for(;0<T--;){var L,F=f,U=p+(w?1:0),O=f,te=p+(w?0:3);for(L=0;L<x;++L){var ue=O[te+4*L];ue!=255&&(ue*=32897,F[U+4*L+0]=F[U+4*L+0]*ue>>23,F[U+4*L+1]=F[U+4*L+1]*ue>>23,F[U+4*L+2]=F[U+4*L+2]*ue>>23)}p+=b}}function wn(f,p,w,x,T){for(;0<x--;){var b;for(b=0;b<w;++b){var L=f[p+2*b+0],F=15&(O=f[p+2*b+1]),U=4369*F,O=(240&O|O>>4)*U>>16;f[p+2*b+0]=(240&L|L>>4)*U>>16&240|(15&L|L<<4)*U>>16>>4&15,f[p+2*b+1]=240&O|F}p+=T}}function Mn(f,p,w,x,T,b,L,F){var U,O,te=255;for(O=0;O<T;++O){for(U=0;U<x;++U){var ue=f[p+U];b[L+4*U]=ue,te&=ue}p+=w,L+=F}return te!=255}function Vi(f,p,w,x,T){var b;for(b=0;b<T;++b)w[x+b]=f[p+b]>>8}function Qr(){gl=Sn,Ym=wn,jm=Mn,Xm=Vi}function Gi(f,p,w){B[f]=function(x,T,b,L,F,U,O,te,ue,z,re,oe,ge,le,ye,_e,Ce){var Ae,He=Ce-1>>1,Me=F[U+0]|O[te+0]<<16,ut=ue[z+0]|re[oe+0]<<16;e(x!=null);var Be=3*Me+ut+131074>>2;for(p(x[T+0],255&Be,Be>>16,ge,le),b!=null&&(Be=3*ut+Me+131074>>2,p(b[L+0],255&Be,Be>>16,ye,_e)),Ae=1;Ae<=He;++Ae){var wt=F[U+Ae]|O[te+Ae]<<16,Nn=ue[z+Ae]|re[oe+Ae]<<16,ct=Me+wt+ut+Nn+524296,qe=ct+2*(wt+ut)>>3;Be=qe+Me>>1,Me=(ct=ct+2*(Me+Nn)>>3)+wt>>1,p(x[T+2*Ae-1],255&Be,Be>>16,ge,le+(2*Ae-1)*w),p(x[T+2*Ae-0],255&Me,Me>>16,ge,le+(2*Ae-0)*w),b!=null&&(Be=ct+ut>>1,Me=qe+Nn>>1,p(b[L+2*Ae-1],255&Be,Be>>16,ye,_e+(2*Ae-1)*w),p(b[L+2*Ae+0],255&Me,Me>>16,ye,_e+(2*Ae+0)*w)),Me=wt,ut=Nn}1&Ce||(Be=3*Me+ut+131074>>2,p(x[T+Ce-1],255&Be,Be>>16,ge,le+(Ce-1)*w),b!=null&&(Be=3*ut+Me+131074>>2,p(b[L+Ce-1],255&Be,Be>>16,ye,_e+(Ce-1)*w)))}}function ol(){Or[zu]=w_,Or[Hu]=l0,Or[r0]=__,Or[Vu]=u0,Or[Gu]=c0,Or[dd]=f0,Or[i0]=x_,Or[hd]=l0,Or[pd]=u0,Or[Wu]=c0,Or[md]=f0}function js(f){return f&-16384?0>f?0:255:f>>S_}function mo(f,p){return js((19077*f>>8)+(26149*p>>8)-14234)}function fs(f,p,w){return js((19077*f>>8)-(6419*p>>8)-(13320*w>>8)+8708)}function ds(f,p){return js((19077*f>>8)+(33050*p>>8)-17685)}function go(f,p,w,x,T){x[T+0]=mo(f,w),x[T+1]=fs(f,p,w),x[T+2]=ds(f,p)}function Fn(f,p,w,x,T){x[T+0]=ds(f,p),x[T+1]=fs(f,p,w),x[T+2]=mo(f,w)}function hs(f,p,w,x,T){var b=fs(f,p,w);p=b<<3&224|ds(f,p)>>3,x[T+0]=248&mo(f,w)|b>>5,x[T+1]=p}function ps(f,p,w,x,T){var b=240&ds(f,p)|15;x[T+0]=240&mo(f,w)|fs(f,p,w)>>4,x[T+1]=b}function sl(f,p,w,x,T){x[T+0]=255,go(f,p,w,x,T+1)}function al(f,p,w,x,T){Fn(f,p,w,x,T),x[T+3]=255}function Qn(f,p,w,x,T){go(f,p,w,x,T),x[T+3]=255}function Wi(f,p,w){B[f]=function(x,T,b,L,F,U,O,te,ue){for(var z=te+(-2&ue)*w;te!=z;)p(x[T+0],b[L+0],F[U+0],O,te),p(x[T+1],b[L+0],F[U+0],O,te+w),T+=2,++L,++U,te+=2*w;1&ue&&p(x[T+0],b[L+0],F[U+0],O,te)}}function Xs(f,p,w){return w==0?f==0?p==0?6:5:p==0?4:0:w}function Uu(f,p,w,x,T){switch(f>>>30){case 3:ys(p,w,x,T,0);break;case 2:Br(p,w,x,T);break;case 1:bt(p,w,x,T)}}function Ur(f,p){var w,x,T=p.M,b=p.Nb,L=f.oc,F=f.pc+40,U=f.oc,O=f.pc+584,te=f.oc,ue=f.pc+600;for(w=0;16>w;++w)L[F+32*w-1]=129;for(w=0;8>w;++w)U[O+32*w-1]=129,te[ue+32*w-1]=129;for(0<T?L[F-1-32]=U[O-1-32]=te[ue-1-32]=129:(i(L,F-32-1,127,21),i(U,O-32-1,127,9),i(te,ue-32-1,127,9)),x=0;x<f.za;++x){var z=p.ya[p.aa+x];if(0<x){for(w=-1;16>w;++w)r(L,F+32*w-4,L,F+32*w+12,4);for(w=-1;8>w;++w)r(U,O+32*w-4,U,O+32*w+4,4),r(te,ue+32*w-4,te,ue+32*w+4,4)}var re=f.Gd,oe=f.Hd+x,ge=z.ad,le=z.Hc;if(0<T&&(r(L,F-32,re[oe].y,0,16),r(U,O-32,re[oe].f,0,8),r(te,ue-32,re[oe].ea,0,8)),z.Za){var ye=L,_e=F-32+16;for(0<T&&(x>=f.za-1?i(ye,_e,re[oe].y[15],4):r(ye,_e,re[oe+1].y,0,4)),w=0;4>w;w++)ye[_e+128+w]=ye[_e+256+w]=ye[_e+384+w]=ye[_e+0+w];for(w=0;16>w;++w,le<<=2)ye=L,_e=F+h0[w],ei[z.Ob[w]](ye,_e),Uu(le,ge,16*+w,ye,_e)}else if(ye=Xs(x,T,z.Ob[0]),No[ye](L,F),le!=0)for(w=0;16>w;++w,le<<=2)Uu(le,ge,16*+w,L,F+h0[w]);for(w=z.Gc,ye=Xs(x,T,z.Dd),Ki[ye](U,O),Ki[ye](te,ue),le=ge,ye=U,_e=O,255&(z=0|w)&&(170&z?Ai(le,256,ye,_e):Mt(le,256,ye,_e)),z=te,le=ue,255&(w>>=8)&&(170&w?Ai(ge,320,z,le):Mt(ge,320,z,le)),T<f.Ub-1&&(r(re[oe].y,0,L,F+480,16),r(re[oe].f,0,U,O+224,8),r(re[oe].ea,0,te,ue+224,8)),w=8*b*f.B,re=f.sa,oe=f.ta+16*x+16*b*f.R,ge=f.qa,z=f.ra+8*x+w,le=f.Ha,ye=f.Ia+8*x+w,w=0;16>w;++w)r(re,oe+w*f.R,L,F+32*w,16);for(w=0;8>w;++w)r(ge,z+w*f.B,U,O+32*w,8),r(le,ye+w*f.B,te,ue+32*w,8)}}function ms(f,p,w,x,T,b,L,F,U){var O=[0],te=[0],ue=0,z=U!=null?U.kd:0,re=U??new Se;if(f==null||12>w)return 7;re.data=f,re.w=p,re.ha=w,p=[p],w=[w],re.gb=[re.gb];e:{var oe=p,ge=w,le=re.gb;if(e(f!=null),e(ge!=null),e(le!=null),le[0]=0,12<=ge[0]&&!n(f,oe[0],"RIFF")){if(n(f,oe[0]+8,"WEBP")){le=3;break e}var ye=We(f,oe[0]+4);if(12>ye||4294967286<ye){le=3;break e}if(z&&ye>ge[0]-8){le=7;break e}le[0]=ye,oe[0]+=12,ge[0]-=12}le=0}if(le!=0)return le;for(ye=0<re.gb[0],w=w[0];;){e:{var _e=f;ge=p,le=w;var Ce=O,Ae=te,He=oe=[0];if((Be=ue=[ue])[0]=0,8>le[0])le=7;else{if(!n(_e,ge[0],"VP8X")){if(We(_e,ge[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var Me=We(_e,ge[0]+8),ut=1+Pe(_e,ge[0]+12);if(2147483648<=ut*(_e=1+Pe(_e,ge[0]+15))){le=3;break e}He!=null&&(He[0]=Me),Ce!=null&&(Ce[0]=ut),Ae!=null&&(Ae[0]=_e),ge[0]+=18,le[0]-=18,Be[0]=1}le=0}}if(ue=ue[0],oe=oe[0],le!=0)return le;if(ge=!!(2&oe),!ye&&ue)return 3;if(b!=null&&(b[0]=!!(16&oe)),L!=null&&(L[0]=ge),F!=null&&(F[0]=0),L=O[0],oe=te[0],ue&&ge&&U==null){le=0;break}if(4>w){le=7;break}if(ye&&ue||!ye&&!ue&&!n(f,p[0],"ALPH")){w=[w],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{Me=f,le=p,ye=w;var Be=re.gb;Ce=re.na,Ae=re.P,He=re.Sa,ut=22,e(Me!=null),e(ye!=null),_e=le[0];var wt=ye[0];for(e(Ce!=null),e(He!=null),Ce[0]=null,Ae[0]=null,He[0]=0;;){if(le[0]=_e,ye[0]=wt,8>wt){le=7;break e}var Nn=We(Me,_e+4);if(4294967286<Nn){le=3;break e}var ct=8+Nn+1&-2;if(ut+=ct,0<Be&&ut>Be){le=3;break e}if(!n(Me,_e,"VP8 ")||!n(Me,_e,"VP8L")){le=0;break e}if(wt[0]<ct){le=7;break e}n(Me,_e,"ALPH")||(Ce[0]=Me,Ae[0]=_e+8,He[0]=Nn),_e+=ct,wt-=ct}}if(w=w[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],le!=0)break}w=[w],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Be=f,le=p,ye=w,Ce=re.gb[0],Ae=re.Ja,He=re.xa,Me=le[0],_e=!n(Be,Me,"VP8 "),ut=!n(Be,Me,"VP8L"),e(Be!=null),e(ye!=null),e(Ae!=null),e(He!=null),8>ye[0])le=7;else{if(_e||ut){if(Be=We(Be,Me+4),12<=Ce&&Be>Ce-12){le=3;break e}if(z&&Be>ye[0]-8){le=7;break e}Ae[0]=Be,le[0]+=8,ye[0]-=8,He[0]=ut}else He[0]=5<=ye[0]&&Be[Me+0]==47&&!(Be[Me+4]>>5),Ae[0]=ye[0];le=0}if(w=w[0],re.Ja=re.Ja[0],re.xa=re.xa[0],p=p[0],le!=0)break;if(4294967286<re.Ja)return 3;if(F==null||ge||(F[0]=re.xa?2:1),L=[L],oe=[oe],re.xa){if(5>w){le=7;break}F=L,z=oe,ge=b,f==null||5>w?f=0:5<=w&&f[p+0]==47&&!(f[p+4]>>5)?(ye=[0],Be=[0],Ce=[0],se(Ae=new V,f,p,w),Fi(Ae,ye,Be,Ce)?(F!=null&&(F[0]=ye[0]),z!=null&&(z[0]=Be[0]),ge!=null&&(ge[0]=Ce[0]),f=1):f=0):f=0}else{if(10>w){le=7;break}F=oe,f==null||10>w||!Eu(f,p+3,w-3)?f=0:(z=f[p+0]|f[p+1]<<8|f[p+2]<<16,ge=16383&(f[p+7]<<8|f[p+6]),f=16383&(f[p+9]<<8|f[p+8]),1&z||3<(z>>1&7)||!(z>>4&1)||z>>5>=re.Ja||!ge||!f?f=0:(L&&(L[0]=ge),F&&(F[0]=f),f=1))}if(!f||(L=L[0],oe=oe[0],ue&&(O[0]!=L||te[0]!=oe)))return 3;U!=null&&(U[0]=re,U.offset=p-U.w,e(4294967286>p-U.w),e(U.offset==U.ha-w));break}return le==0||le==7&&ue&&U==null?(b!=null&&(b[0]|=re.na!=null&&0<re.na.length),x!=null&&(x[0]=L),T!=null&&(T[0]=oe),0):le}function ll(f,p,w){var x=p.width,T=p.height,b=0,L=0,F=x,U=T;if(p.Da=f!=null&&0<f.Da,p.Da&&(F=f.cd,U=f.bd,b=f.v,L=f.j,11>w||(b&=-2,L&=-2),0>b||0>L||0>=F||0>=U||b+F>x||L+U>T))return 0;if(p.v=b,p.j=L,p.va=b+F,p.o=L+U,p.U=F,p.T=U,p.da=f!=null&&0<f.da,p.da){if(!Ye(F,U,w=[f.ib],b=[f.hb]))return 0;p.ib=w[0],p.hb=b[0]}return p.ob=f!=null&&f.ob,p.Kb=f==null||!f.Sd,p.da&&(p.ob=p.ib<3*x/4&&p.hb<3*T/4,p.Kb=0),1}function ul(f){if(f==null)return 2;if(11>f.S){var p=f.f.RGBA;p.fb+=(f.height-1)*p.A,p.A=-p.A}else p=f.f.kb,f=f.height,p.O+=(f-1)*p.fa,p.fa=-p.fa,p.N+=(f-1>>1)*p.Ab,p.Ab=-p.Ab,p.W+=(f-1>>1)*p.Db,p.Db=-p.Db,p.F!=null&&(p.J+=(f-1)*p.lb,p.lb=-p.lb);return 0}function vo(f,p,w,x){if(x==null||0>=f||0>=p)return 2;if(w!=null){if(w.Da){var T=w.cd,b=w.bd,L=-2&w.v,F=-2&w.j;if(0>L||0>F||0>=T||0>=b||L+T>f||F+b>p)return 2;f=T,p=b}if(w.da){if(!Ye(f,p,T=[w.ib],b=[w.hb]))return 2;f=T[0],p=b[0]}}x.width=f,x.height=p;e:{var U=x.width,O=x.height;if(f=x.S,0>=U||0>=O||!(f>=zu&&13>f))f=2;else{if(0>=x.Rd&&x.sd==null){L=b=T=p=0;var te=(F=U*p0[f])*O;if(11>f||(b=(O+1)/2*(p=(U+1)/2),f==12&&(L=(T=U)*O)),(O=o(te+2*b+L))==null){f=1;break e}x.sd=O,11>f?((U=x.f.RGBA).eb=O,U.fb=0,U.A=F,U.size=te):((U=x.f.kb).y=O,U.O=0,U.fa=F,U.Fd=te,U.f=O,U.N=0+te,U.Ab=p,U.Cd=b,U.ea=O,U.W=0+te+b,U.Db=p,U.Ed=b,f==12&&(U.F=O,U.J=0+te+2*b),U.Tc=L,U.lb=T)}if(p=1,T=x.S,b=x.width,L=x.height,T>=zu&&13>T)if(11>T)f=x.f.RGBA,p&=(F=Math.abs(f.A))*(L-1)+b<=f.size,p&=F>=b*p0[T],p&=f.eb!=null;else{f=x.f.kb,F=(b+1)/2,te=(L+1)/2,U=Math.abs(f.fa),O=Math.abs(f.Ab);var ue=Math.abs(f.Db),z=Math.abs(f.lb),re=z*(L-1)+b;p&=U*(L-1)+b<=f.Fd,p&=O*(te-1)+F<=f.Cd,p=(p&=ue*(te-1)+F<=f.Ed)&U>=b&O>=F&ue>=F,p&=f.y!=null,p&=f.f!=null,p&=f.ea!=null,T==12&&(p&=z>=b,p&=re<=f.Tc,p&=f.F!=null)}else p=0;f=p?0:2}}return f!=0||w!=null&&w.fd&&(f=ul(x)),f}var gs=64,mr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gr=24,yo=32,$i=8,wo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(f){return f},B.Predictor2=function(f,p,w){return p[w+0]},B.Predictor3=function(f,p,w){return p[w+1]},B.Predictor4=function(f,p,w){return p[w-1]},B.Predictor5=function(f,p,w){return $e($e(f,p[w+1]),p[w+0])},B.Predictor6=function(f,p,w){return $e(f,p[w-1])},B.Predictor7=function(f,p,w){return $e(f,p[w+0])},B.Predictor8=function(f,p,w){return $e(p[w-1],p[w+0])},B.Predictor9=function(f,p,w){return $e(p[w+0],p[w+1])},B.Predictor10=function(f,p,w){return $e($e(f,p[w-1]),$e(p[w+0],p[w+1]))},B.Predictor11=function(f,p,w){var x=p[w+0];return 0>=it(x>>24&255,f>>24&255,(p=p[w-1])>>24&255)+it(x>>16&255,f>>16&255,p>>16&255)+it(x>>8&255,f>>8&255,p>>8&255)+it(255&x,255&f,255&p)?x:f},B.Predictor12=function(f,p,w){var x=p[w+0];return(Et((f>>24&255)+(x>>24&255)-((p=p[w-1])>>24&255))<<24|Et((f>>16&255)+(x>>16&255)-(p>>16&255))<<16|Et((f>>8&255)+(x>>8&255)-(p>>8&255))<<8|Et((255&f)+(255&x)-(255&p)))>>>0},B.Predictor13=function(f,p,w){var x=p[w-1];return(gt((f=$e(f,p[w+0]))>>24&255,x>>24&255)<<24|gt(f>>16&255,x>>16&255)<<16|gt(f>>8&255,x>>8&255)<<8|gt(255&f,255&x))>>>0};var cl=B.PredictorAdd0;B.PredictorAdd1=yt,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var Zs=B.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var ln,Bu=B.ColorIndexInverseTransform,xi=B.MapARGB,Si=B.VP8LColorIndexInverseTransformAlpha,fl=B.MapAlpha,dl=B.VP8LPredictorsAdd=[];dl.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var hl,pl,_o,xo,So,vs,Ao,ys,Br,Ai,bt,Mt,un,An,Ji,ml,Qs,qu,Vm,Gm,Wm,$m,Jm,Km,gl,Ym,jm,Xm,Zm=o(511),Qm=o(2041),e0=o(225),t0=o(767),n0=0,fd=Qm,Ou=e0,vr=t0,qr=Zm,zu=0,Hu=1,r0=2,Vu=3,Gu=4,dd=5,i0=6,hd=7,pd=8,Wu=9,md=10,o_=[2,3,7],s_=[3,3,11],o0=[280,256,256,256,40],a_=[0,1,1,1,0],l_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],u_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],c_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],f_=8,gd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vl=null,d_=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],h_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],s0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],p_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],m_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],g_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],v_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],No=[],ei=[],Ki=[],y_=1,a0=2,Co=[],Or=[];Gi("UpsampleRgbLinePair",go,3),Gi("UpsampleBgrLinePair",Fn,3),Gi("UpsampleRgbaLinePair",Qn,4),Gi("UpsampleBgraLinePair",al,4),Gi("UpsampleArgbLinePair",sl,4),Gi("UpsampleRgba4444LinePair",ps,2),Gi("UpsampleRgb565LinePair",hs,2);var w_=B.UpsampleRgbLinePair,__=B.UpsampleBgrLinePair,l0=B.UpsampleRgbaLinePair,u0=B.UpsampleBgraLinePair,c0=B.UpsampleArgbLinePair,f0=B.UpsampleRgba4444LinePair,x_=B.UpsampleRgb565LinePair,$u=16,Ju=1<<$u-1,yl=-227,yd=482,S_=6,d0=0,A_=o(256),N_=o(256),C_=o(256),E_=o(256),T_=o(yd-yl),b_=o(yd-yl);Wi("YuvToRgbRow",go,3),Wi("YuvToBgrRow",Fn,3),Wi("YuvToRgbaRow",Qn,4),Wi("YuvToBgraRow",al,4),Wi("YuvToArgbRow",sl,4),Wi("YuvToRgba4444Row",ps,2),Wi("YuvToRgb565Row",hs,2);var h0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ku=[0,2,8],I_=[8,7,6,4,4,2,2,2,1,1,1,1],k_=1;this.WebPDecodeRGBA=function(f,p,w,x,T){var b=Hu,L=new we,F=new pt;L.ba=F,F.S=b,F.width=[F.width],F.height=[F.height];var U=F.width,O=F.height,te=new Xe;if(te==null||f==null)var ue=2;else e(te!=null),ue=ms(f,p,w,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ue!=0?U=0:(U!=null&&(U[0]=te.width[0]),O!=null&&(O[0]=te.height[0]),U=1),U){F.width=F.width[0],F.height=F.height[0],x!=null&&(x[0]=F.width),T!=null&&(T[0]=F.height);e:{if(x=new Ws,(T=new Se).data=f,T.w=p,T.ha=w,T.kd=1,p=[0],e(T!=null),((f=ms(T.data,T.w,T.ha,null,null,null,p,null,T))==0||f==7)&&p[0]&&(f=4),(p=f)==0){if(e(L!=null),x.data=T.data,x.w=T.w+T.offset,x.ha=T.ha-T.offset,x.put=Ze,x.ac=mi,x.bc=Mi,x.ma=L,T.xa){if((f=is())==null){L=1;break e}if(function(z,re){var oe=[0],ge=[0],le=[0];t:for(;;){if(z==null)return 0;if(re==null)return z.a=2,0;if(z.l=re,z.a=0,se(z.m,re.data,re.w,re.ha),!Fi(z.m,oe,ge,le)){z.a=3;break t}if(z.xb=a0,re.width=oe[0],re.height=ge[0],!vi(oe[0],ge[0],1,z,null))break t;return 1}return e(z.a!=0),0}(f,x)){if(x=(p=vo(x.width,x.height,L.Oa,L.ba))==0){t:{x=f;n:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((w=x.l)!=null),e((T=w.ma)!=null),x.xb!=0){if(x.ca=T.ba,x.tb=T.tb,e(x.ca!=null),!ll(T.Oa,w,Vu)){x.a=2;break n}if(!os(x,w.width)||w.da)break n;if((w.da||Qe(x.ca.S))&&Qr(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&Qr()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!q(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!Xr(x,x.V,x.Ba,x.c,x.i,w.o,po))break n;T.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(p=f.a)}else p=f.a}else{if((f=new jf)==null){L=1;break e}if(f.Fa=T.na,f.P=T.P,f.qc=T.Sa,wi(f,x)){if((p=vo(x.width,x.height,L.Oa,L.ba))==0){if(f.Aa=0,w=L.Oa,e((T=f)!=null),w!=null){if(0<(U=0>(U=w.Md)?0:100<U?255:255*U/100)){for(O=te=0;4>O;++O)12>(ue=T.pb[O]).lc&&(ue.ia=U*I_[0>ue.lc?0:ue.lc]>>3),te|=ue.ia;te&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=w.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}(function(z,re){if(z==null)return 0;if(re==null)return vn(z,2,"NULL VP8Io parameter in VP8Decode().");if(!z.cb&&!wi(z,re))return 0;if(e(z.cb),re.ac==null||re.ac(re)){re.ob&&(z.L=0);var oe=Ku[z.L];if(z.L==2?(z.yb=0,z.zb=0):(z.yb=re.v-oe>>4,z.zb=re.j-oe>>4,0>z.yb&&(z.yb=0),0>z.zb&&(z.zb=0)),z.Va=re.o+15+oe>>4,z.Hb=re.va+15+oe>>4,z.Hb>z.za&&(z.Hb=z.za),z.Va>z.Ub&&(z.Va=z.Ub),0<z.L){var ge=z.ed;for(oe=0;4>oe;++oe){var le;if(z.Qa.Cb){var ye=z.Qa.Lb[oe];z.Qa.Fb||(ye+=ge.Tb)}else ye=ge.Tb;for(le=0;1>=le;++le){var _e=z.gd[oe][le],Ce=ye;if(ge.Pc&&(Ce+=ge.vd[0],le&&(Ce+=ge.od[0])),0<(Ce=0>Ce?0:63<Ce?63:Ce)){var Ae=Ce;0<ge.wb&&(Ae=4<ge.wb?Ae>>2:Ae>>1)>9-ge.wb&&(Ae=9-ge.wb),1>Ae&&(Ae=1),_e.dd=Ae,_e.tc=2*Ce+Ae,_e.ld=40<=Ce?2:15<=Ce?1:0}else _e.tc=0;_e.La=le}}}oe=0}else vn(z,6,"Frame setup failed"),oe=z.a;if(oe=oe==0){if(oe){z.$c=0,0<z.Aa||(z.Ic=k_);t:{oe=z.Ic,ge=4*(Ae=z.za);var He=32*Ae,Me=Ae+1,ut=0<z.L?Ae*(0<z.Aa?2:1):0,Be=(z.Aa==2?2:1)*Ae;if((_e=ge+832+(le=3*(16*oe+Ku[z.L])/2*He)+(ye=z.Fa!=null&&0<z.Fa.length?z.Kc.c*z.Kc.i:0))!=_e)oe=0;else{if(_e>z.Vb){if(z.Vb=0,z.Ec=o(_e),z.Fc=0,z.Ec==null){oe=vn(z,1,"no memory during frame initialization.");break t}z.Vb=_e}_e=z.Ec,Ce=z.Fc,z.Ac=_e,z.Bc=Ce,Ce+=ge,z.Gd=s(He,Nu),z.Hd=0,z.rb=s(Me+1,Ya),z.sb=1,z.wa=ut?s(ut,Fr):null,z.Y=0,z.D.Nb=0,z.D.wa=z.wa,z.D.Y=z.Y,0<z.Aa&&(z.D.Y+=Ae),e(!0),z.oc=_e,z.pc=Ce,Ce+=832,z.ya=s(Be,ja),z.aa=0,z.D.ya=z.ya,z.D.aa=z.aa,z.Aa==2&&(z.D.aa+=Ae),z.R=16*Ae,z.B=8*Ae,Ae=(He=Ku[z.L])*z.R,He=He/2*z.B,z.sa=_e,z.ta=Ce+Ae,z.qa=z.sa,z.ra=z.ta+16*oe*z.R+He,z.Ha=z.qa,z.Ia=z.ra+8*oe*z.B+He,z.$c=0,Ce+=le,z.mb=ye?_e:null,z.nb=ye?Ce:null,e(Ce+ye<=z.Fc+z.Vb),Tu(z),i(z.Ac,z.Bc,0,ge),oe=1}}if(oe){if(re.ka=0,re.y=z.sa,re.O=z.ta,re.f=z.qa,re.N=z.ra,re.ea=z.Ha,re.Vd=z.Ia,re.fa=z.R,re.Rc=z.B,re.F=null,re.J=0,!n0){for(oe=-255;255>=oe;++oe)Zm[255+oe]=0>oe?-oe:oe;for(oe=-1020;1020>=oe;++oe)Qm[1020+oe]=-128>oe?-128:127<oe?127:oe;for(oe=-112;112>=oe;++oe)e0[112+oe]=-16>oe?-16:15<oe?15:oe;for(oe=-255;510>=oe;++oe)t0[255+oe]=0>oe?0:255<oe?255:oe;n0=1}Ao=Js,ys=Zf,Ai=_i,bt=Iu,Mt=ku,Br=Xf,un=Fu,An=cs,Ji=E,ml=H,Qs=Du,qu=y,Vm=Z,Gm=ie,Wm=us,$m=il,Jm=Ru,Km=Mu,ei[0]=sd,ei[1]=Qf,ei[2]=id,ei[3]=od,ei[4]=Ui,ei[5]=ad,ei[6]=Bi,ei[7]=ld,ei[8]=Qa,ei[9]=Ks,No[0]=nd,No[1]=td,No[2]=Xa,No[3]=Pu,No[4]=as,No[5]=Za,No[6]=rd,Ki[0]=cd,Ki[1]=ed,Ki[2]=ls,Ki[3]=ud,Ki[4]=tl,Ki[5]=el,Ki[6]=Lu,oe=1}else oe=0}oe&&(oe=function(wt,Nn){for(wt.M=0;wt.M<wt.Va;++wt.M){var ct,qe=wt.Jc[wt.M&wt.Xb],be=wt.m,cn=wt;for(ct=0;ct<cn.za;++ct){var st=be,_t=cn,zt=_t.Ac,Dn=_t.Bc+4*ct,er=_t.zc,tn=_t.ya[_t.aa+ct];if(_t.Qa.Bb?tn.$b=xe(st,_t.Pa.jb[0])?2+xe(st,_t.Pa.jb[2]):xe(st,_t.Pa.jb[1]):tn.$b=0,_t.kc&&(tn.Ad=xe(st,_t.Bd)),tn.Za=!xe(st,145)+0,tn.Za){var Vn=tn.Ob,tr=0;for(_t=0;4>_t;++_t){var Cn,At=er[0+_t];for(Cn=0;4>Cn;++Cn){At=m_[zt[Dn+Cn]][At];for(var It=s0[xe(st,At[0])];0<It;)It=s0[2*It+xe(st,At[It])];At=-It,zt[Dn+Cn]=At}r(Vn,tr,zt,Dn,4),tr+=4,er[0+_t]=At}}else At=xe(st,156)?xe(st,128)?1:3:xe(st,163)?2:0,tn.Ob[0]=At,i(zt,Dn,At,4),i(er,0,At,4);tn.Dd=xe(st,142)?xe(st,114)?xe(st,183)?1:3:2:0}if(cn.m.Ka)return vn(wt,7,"Premature end-of-partition0 encountered.");for(;wt.ja<wt.za;++wt.ja){if(cn=qe,st=(be=wt).rb[be.sb-1],zt=be.rb[be.sb+be.ja],ct=be.ya[be.aa+be.ja],Dn=be.kc?ct.Ad:0)st.la=zt.la=0,ct.Za||(st.Na=zt.Na=0),ct.Hc=0,ct.Gc=0,ct.ia=0;else{var nn,kt;if(st=zt,zt=cn,Dn=be.Pa.Xc,er=be.ya[be.aa+be.ja],tn=be.pb[er.$b],_t=er.ad,Vn=0,tr=be.rb[be.sb-1],At=Cn=0,i(_t,Vn,0,384),er.Za)var Un=0,ti=Dn[3];else{It=o(16);var fn=st.Na+tr.Na;if(fn=vl(zt,Dn[1],fn,tn.Eb,0,It,0),st.Na=tr.Na=(0<fn)+0,1<fn)Ao(It,0,_t,Vn);else{var ar=It[0]+3>>3;for(It=0;256>It;It+=16)_t[Vn+It]=ar}Un=1,ti=Dn[0]}var Ft=15&st.la,En=15&tr.la;for(It=0;4>It;++It){var yr=1&En;for(ar=kt=0;4>ar;++ar)Ft=Ft>>1|(yr=(fn=vl(zt,ti,fn=yr+(1&Ft),tn.Sc,Un,_t,Vn))>Un)<<7,kt=kt<<2|(3<fn?3:1<fn?2:_t[Vn+0]!=0),Vn+=16;Ft>>=4,En=En>>1|yr<<7,Cn=(Cn<<8|kt)>>>0}for(ti=Ft,Un=En>>4,nn=0;4>nn;nn+=2){for(kt=0,Ft=st.la>>4+nn,En=tr.la>>4+nn,It=0;2>It;++It){for(yr=1&En,ar=0;2>ar;++ar)fn=yr+(1&Ft),Ft=Ft>>1|(yr=0<(fn=vl(zt,Dn[2],fn,tn.Qc,0,_t,Vn)))<<3,kt=kt<<2|(3<fn?3:1<fn?2:_t[Vn+0]!=0),Vn+=16;Ft>>=2,En=En>>1|yr<<5}At|=kt<<4*nn,ti|=Ft<<4<<nn,Un|=(240&En)<<nn}st.la=ti,tr.la=Un,er.Hc=Cn,er.Gc=At,er.ia=43690&At?0:tn.ia,Dn=!(Cn|At)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[ct.$b][ct.Za],be.wa[be.Y+be.ja].La|=!Dn),cn.Ka)return vn(wt,7,"Premature end-of-file encountered.")}if(Tu(wt),be=Nn,cn=1,ct=(qe=wt).D,st=0<qe.L&&qe.M>=qe.zb&&qe.M<=qe.Va,qe.Aa==0)t:{if(ct.M=qe.M,ct.uc=st,Ur(qe,ct),cn=1,ct=(kt=qe.D).Nb,st=(At=Ku[qe.L])*qe.R,zt=At/2*qe.B,It=16*ct*qe.R,ar=8*ct*qe.B,Dn=qe.sa,er=qe.ta-st+It,tn=qe.qa,_t=qe.ra-zt+ar,Vn=qe.Ha,tr=qe.Ia-zt+ar,En=(Ft=kt.M)==0,Cn=Ft>=qe.Va-1,qe.Aa==2&&Ur(qe,kt),kt.uc)for(yr=(fn=qe).D.M,e(fn.D.uc),kt=fn.yb;kt<fn.Hb;++kt){Un=kt,ti=yr;var nr=(wr=(Bn=fn).D).Nb;nn=Bn.R;var wr=wr.wa[wr.Y+Un],_r=Bn.sa,lr=Bn.ta+16*nr*nn+16*Un,xr=wr.dd,qt=wr.tc;if(qt!=0)if(e(3<=qt),Bn.L==1)0<Un&&$m(_r,lr,nn,qt+4),wr.La&&Km(_r,lr,nn,qt),0<ti&&Wm(_r,lr,nn,qt+4),wr.La&&Jm(_r,lr,nn,qt);else{var Sr=Bn.B,ni=Bn.qa,ws=Bn.ra+8*nr*Sr+8*Un,Yi=Bn.Ha,Bn=Bn.Ia+8*nr*Sr+8*Un;nr=wr.ld,0<Un&&(An(_r,lr,nn,qt+4,xr,nr),ml(ni,ws,Yi,Bn,Sr,qt+4,xr,nr)),wr.La&&(qu(_r,lr,nn,qt,xr,nr),Gm(ni,ws,Yi,Bn,Sr,qt,xr,nr)),0<ti&&(un(_r,lr,nn,qt+4,xr,nr),Ji(ni,ws,Yi,Bn,Sr,qt+4,xr,nr)),wr.La&&(Qs(_r,lr,nn,qt,xr,nr),Vm(ni,ws,Yi,Bn,Sr,qt,xr,nr))}}if(qe.ia&&alert("todo:DitherRow"),be.put!=null){if(kt=16*Ft,Ft=16*(Ft+1),En?(be.y=qe.sa,be.O=qe.ta+It,be.f=qe.qa,be.N=qe.ra+ar,be.ea=qe.Ha,be.W=qe.Ia+ar):(kt-=At,be.y=Dn,be.O=er,be.f=tn,be.N=_t,be.ea=Vn,be.W=tr),Cn||(Ft-=At),Ft>be.o&&(Ft=be.o),be.F=null,be.J=null,qe.Fa!=null&&0<qe.Fa.length&&kt<Ft&&(be.J=Bt(qe,be,kt,Ft-kt),be.F=qe.mb,be.F==null&&be.F.length==0)){cn=vn(qe,3,"Could not decode alpha data.");break t}kt<be.j&&(At=be.j-kt,kt=be.j,e(!(1&At)),be.O+=qe.R*At,be.N+=qe.B*(At>>1),be.W+=qe.B*(At>>1),be.F!=null&&(be.J+=be.width*At)),kt<Ft&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=kt-be.j,be.U=be.va-be.v,be.T=Ft-kt,cn=be.put(be))}ct+1!=qe.Ic||Cn||(r(qe.sa,qe.ta-st,Dn,er+16*qe.R,st),r(qe.qa,qe.ra-zt,tn,_t+8*qe.B,zt),r(qe.Ha,qe.Ia-zt,Vn,tr+8*qe.B,zt))}if(!cn)return vn(wt,6,"Output aborted.")}return 1}(z,re)),re.bc!=null&&re.bc(re),oe&=1}return oe?(z.cb=0,oe):0})(f,x)||(p=f.a)}}else p=f.a}p==0&&L.Oa!=null&&L.Oa.fd&&(p=ul(L.ba))}L=p}b=L!=0?null:11>b?F.f.RGBA.eb:F.f.kb.y}else b=null;return b};var p0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,K){for(var P="",D=0;D<4;D++)P+=String.fromCharCode(B[K++]);return P}function h(B,K){return B[K+0]|B[K+1]<<8}function g(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16)>>>0}function v(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16|B[K+3]<<24)>>>0}new l;var m=[0],S=[0],N=[],R=new l,_=t,A=function(B,K){var P={},D=0,Y=!1,j=0,ce=0;if(P.frames=[],!function(I,V){for(var $=0;$<4;$++)if(I[V+$]!="RIFF".charCodeAt($))return!0;return!1}(B,K)){for(v(B,K+=4),K+=8;K<B.length;){var fe=u(B,K),de=v(B,K+=4);K+=4;var X=de+(1&de);switch(fe){case"VP8 ":case"VP8L":P.frames[D]===void 0&&(P.frames[D]={}),(me=P.frames[D]).src_off=Y?ce:K-8,me.src_size=j+de+8,D++,Y&&(Y=!1,j=0,ce=0);break;case"VP8X":(me=P.header={}).feature_flags=B[K];var se=K+4;me.canvas_width=1+g(B,se),se+=3,me.canvas_height=1+g(B,se),se+=3;break;case"ALPH":Y=!0,j=X+8,ce=K-8;break;case"ANIM":(me=P.header).bgcolor=v(B,K),se=K+4,me.loop_count=h(B,se),se+=2;break;case"ANMF":var ve,me;(me=P.frames[D]={}).offset_x=2*g(B,K),K+=3,me.offset_y=2*g(B,K),K+=3,me.width=1+g(B,K),K+=3,me.height=1+g(B,K),K+=3,me.duration=g(B,K),K+=3,ve=B[K++],me.dispose=1&ve,me.blend=ve>>1&1}fe!="ANMF"&&(K+=X)}return P}}(_,0);A.response=_,A.rgbaoutput=!0,A.dataurl=!1;var C=A.header?A.header:null,k=A.frames?A.frames:null;if(C){C.loop_counter=C.loop_count,m=[C.canvas_height],S=[C.canvas_width];for(var W=0;W<k.length&&k[W].blend!=0;W++);}var Q=k[0],J=R.WebPDecodeRGBA(_,Q.src_off,Q.src_size,S,m);Q.rgba=J,Q.imgwidth=S[0],Q.imgheight=m[0];for(var G=0;G<S[0]*m[0]*4;G++)N[G]=J[G];return this.width=S,this.height=m,this.data=N,this}(function(t){var e,n,r,i,o,s,a,l,u,h=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var g=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=I;Object.defineProperty(this,"pdf",{get:function(){return V}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(q){$=!!q}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(q){ee=!!q}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(q){isNaN(q)||(ne=q)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(q){isNaN(q)||(ae=q)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(q){var Ie;typeof q=="number"?Ie=[q,q,q,q]:((Ie=new Array(4))[0]=q[0],Ie[1]=q.length>=2?q[1]:Ie[0],Ie[2]=q.length>=3?q[2]:Ie[0],Ie[3]=q.length>=4?q[3]:Ie[1]),u.margin=Ie}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(q){he=q}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(q){pe=q}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(q){xe=q}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(q){q instanceof h&&(u=q)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(q){u.path=q}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(q){Te=q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(q){var Ie;Ie=v(q),this.ctx.fillStyle=Ie.style,this.ctx.isFillTransparent=Ie.a===0,this.ctx.fillOpacity=Ie.a,this.pdf.setFillColor(Ie.r,Ie.g,Ie.b,{a:Ie.a}),this.pdf.setTextColor(Ie.r,Ie.g,Ie.b,{a:Ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(q){var Ie=v(q);this.ctx.strokeStyle=Ie.style,this.ctx.isStrokeTransparent=Ie.a===0,this.ctx.strokeOpacity=Ie.a,Ie.a===0?this.pdf.setDrawColor(255,255,255):(Ie.a,this.pdf.setDrawColor(Ie.r,Ie.g,Ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(q){["butt","round","square"].indexOf(q)!==-1&&(this.ctx.lineCap=q,this.pdf.setLineCap(q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(q){isNaN(q)||(this.ctx.lineWidth=q,this.pdf.setLineWidth(q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(q){["bevel","round","miter"].indexOf(q)!==-1&&(this.ctx.lineJoin=q,this.pdf.setLineJoin(q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(q){isNaN(q)||(this.ctx.miterLimit=q,this.pdf.setMiterLimit(q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(q){this.ctx.textBaseline=q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(q){["right","end","center","left","start"].indexOf(q)!==-1&&(this.ctx.textAlign=q)}});var Le=null,Pe=null,We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(q){Le=null,Pe=null,We=q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(q){var Ie;if(this.ctx.font=q,(Ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(q))!==null){var ft=Ie[1];Ie[2];var Ye=Ie[3],Ne=Ie[4];Ie[5];var je=Ie[6],Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(Fe==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Ke=function(Ge){var an,xt,dt=[],ht=Ge.trim();if(ht==="")return yh;if(ht in Rg)return[Rg[ht]];for(;ht!=="";){switch(xt=null,an=(ht=Fg(ht)).charAt(0)){case'"':case"'":xt=uN(ht.substring(1),an);break;default:xt=cN(ht)}if(xt===null||(dt.push(xt[0]),(ht=Fg(xt[1]))!==""&&ht.charAt(0)!==","))return yh;ht=ht.replace(/^,/,"")}return dt}(je);if(this.fontFaces){var $e=function(Ge,an){var xt=Ge.getFontList(),dt=JSON.stringify(xt);if(Le===null||Pe!==dt){var ht=function($t){var Je=[];return Object.keys($t).forEach(function(Ut){$t[Ut].forEach(function(Qe){var ot=null;switch(Qe){case"bold":ot={family:Ut,weight:"bold"};break;case"italic":ot={family:Ut,style:"italic"};break;case"bolditalic":ot={family:Ut,weight:"bold",style:"italic"};break;case"":case"normal":ot={family:Ut}}ot!==null&&(ot.ref={name:Ut,style:Qe},Je.push(ot))})}),Je}(xt);Le=function($t){for(var Je={},Ut=0;Ut<$t.length;++Ut){var Qe=vh($t[Ut]),ot=Qe.family,Jt=Qe.stretch,pt=Qe.style,Xe=Qe.weight;Je[ot]=Je[ot]||{},Je[ot][Jt]=Je[ot][Jt]||{},Je[ot][Jt][pt]=Je[ot][Jt][pt]||{},Je[ot][Jt][pt][Xe]=Qe}return Je}(ht.concat(an)),Pe=dt}return Le}(this.pdf,this.fontFaces),Et=Ke.map(function(Ge){return{family:Ge,stretch:"normal",weight:Ye,style:ft}}),gt=function(Ge,an,xt){for(var dt=(xt=xt||{}).defaultFontFamily||"times",ht=Object.assign({},lN,xt.genericFontFamilies||{}),$t=null,Je=null,Ut=0;Ut<an.length;++Ut)if(ht[($t=vh(an[Ut])).family]&&($t.family=ht[$t.family]),Ge.hasOwnProperty($t.family)){Je=Ge[$t.family];break}if(!(Je=Je||Ge[dt]))throw new Error("Could not find a font-family for the rule '"+Mg($t)+"' and default family '"+dt+"'.");if(Je=function(Qe,ot){if(ot[Qe])return ot[Qe];var Jt=Ep[Qe],pt=Jt<=Ep.normal?-1:1,Xe=Lg(ot,Ew,Jt,pt);if(!Xe)throw new Error("Could not find a matching font-stretch value for "+Qe);return Xe}($t.stretch,Je),Je=function(Qe,ot){if(ot[Qe])return ot[Qe];for(var Jt=Cw[Qe],pt=0;pt<Jt.length;++pt)if(ot[Jt[pt]])return ot[Jt[pt]];throw new Error("Could not find a matching font-style for "+Qe)}($t.style,Je),!(Je=function(Qe,ot){if(ot[Qe])return ot[Qe];if(Qe===400&&ot[500])return ot[500];if(Qe===500&&ot[400])return ot[400];var Jt=aN[Qe],pt=Lg(ot,Tw,Jt,Qe<400?-1:1);if(!pt)throw new Error("Could not find a matching font-weight for value "+Qe);return pt}($t.weight,Je)))throw new Error("Failed to resolve a font for the rule '"+Mg($t)+"'.");return Je}($e,Et);this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var it="";(Ye==="bold"||parseInt(Ye,10)>=700||ft==="bold")&&(it="bold"),ft==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var yt="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Oe=0;Oe<Ke.length;Oe++){if(this.pdf.internal.getFont(Ke[Oe],it,{noFallback:!0,disableWarning:!0})!==void 0){yt=Ke[Oe];break}if(it==="bolditalic"&&this.pdf.internal.getFont(Ke[Oe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=Ke[Oe],it="bold";else if(this.pdf.internal.getFont(Ke[Oe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=Ke[Oe],it="normal";break}}if(yt===""){for(var at=0;at<Ke.length;at++)if(vt[Ke[at]]){yt=vt[Ke[at]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(q){this.ctx.globalCompositeOperation=q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(q){this.ctx.globalAlpha=q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(q){this.ctx.lineDashOffset=q,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(q){this.ctx.lineDash=q,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(q){this.ctx.ignoreClearRect=!!q}})};g.prototype.setLineDash=function(I){this.lineDash=I},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){k.call(this,"fill",!1)},g.prototype.stroke=function(){k.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(I,V){if(isNaN(I)||isNaN(V))throw Dt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new s(I,V));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new s(I,V)},g.prototype.closePath=function(){var I=new s(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Lt(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){I=new s(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},g.prototype.lineTo=function(I,V){if(isNaN(I)||isNaN(V))throw Dt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new s(I,V));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new s($.x,$.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},g.prototype.quadraticCurveTo=function(I,V,$,ee){if(isNaN($)||isNaN(ee)||isNaN(I)||isNaN(V))throw Dt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s($,ee)),ae=this.ctx.transform.applyToPoint(new s(I,V));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},g.prototype.bezierCurveTo=function(I,V,$,ee,ne,ae){if(isNaN(ne)||isNaN(ae)||isNaN(I)||isNaN(V)||isNaN($)||isNaN(ee))throw Dt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(ne,ae)),pe=this.ctx.transform.applyToPoint(new s(I,V)),xe=this.ctx.transform.applyToPoint(new s($,ee));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:xe.x,y2:xe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},g.prototype.arc=function(I,V,$,ee,ne,ae){if(isNaN(I)||isNaN(V)||isNaN($)||isNaN(ee)||isNaN(ne))throw Dt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(I,V));I=he.x,V=he.y;var pe=this.ctx.transform.applyToPoint(new s(0,$)),xe=this.ctx.transform.applyToPoint(new s(0,0));$=Math.sqrt(Math.pow(pe.x-xe.x,2)+Math.pow(pe.y-xe.y,2))}Math.abs(ne-ee)>=2*Math.PI&&(ee=0,ne=2*Math.PI),this.path.push({type:"arc",x:I,y:V,radius:$,startAngle:ee,endAngle:ne,counterclockwise:ae})},g.prototype.arcTo=function(I,V,$,ee,ne){throw new Error("arcTo not implemented.")},g.prototype.rect=function(I,V,$,ee){if(isNaN(I)||isNaN(V)||isNaN($)||isNaN(ee))throw Dt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,V),this.lineTo(I+$,V),this.lineTo(I+$,V+ee),this.lineTo(I,V+ee),this.lineTo(I,V),this.lineTo(I+$,V),this.lineTo(I,V)},g.prototype.fillRect=function(I,V,$,ee){if(isNaN(I)||isNaN(V)||isNaN($)||isNaN(ee))throw Dt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,V,$,ee),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},g.prototype.strokeRect=function(I,V,$,ee){if(isNaN(I)||isNaN(V)||isNaN($)||isNaN(ee))throw Dt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(I,V,$,ee),this.stroke())},g.prototype.clearRect=function(I,V,$,ee){if(isNaN(I)||isNaN(V)||isNaN($)||isNaN(ee))throw Dt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,V,$,ee))},g.prototype.save=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},g.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(V),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(I){var V,$,ee,ne;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))V=0,$=0,ee=0,ne=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ae!==null)V=parseInt(ae[1]),$=parseInt(ae[2]),ee=parseInt(ae[3]),ne=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)V=parseInt(ae[1]),$=parseInt(ae[2]),ee=parseInt(ae[3]),ne=parseFloat(ae[4]);else{if(ne=1,typeof I=="string"&&I.charAt(0)!=="#"){var he=new yw(I);I=he.ok?he.toHex():"#000000"}I.length===4?(V=I.substring(1,2),V+=V,$=I.substring(2,3),$+=$,ee=I.substring(3,4),ee+=ee):(V=I.substring(1,3),$=I.substring(3,5),ee=I.substring(5,7)),V=parseInt(V,16),$=parseInt($,16),ee=parseInt(ee,16)}}return{r:V,g:$,b:ee,a:ne,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(I,V,$,ee){if(isNaN(V)||isNaN($)||typeof I!="string")throw Dt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!m.call(this)){var ne=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;D.call(this,{text:I,x:V,y:$,scale:ae,angle:ne,align:this.textAlign,maxWidth:ee})}},g.prototype.strokeText=function(I,V,$,ee){if(isNaN(V)||isNaN($)||typeof I!="string")throw Dt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ee=isNaN(ee)?void 0:ee;var ne=X(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;D.call(this,{text:I,x:V,y:$,scale:ae,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ee})}},g.prototype.measureText=function(I){if(typeof I!="string")throw Dt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,$=this.pdf.internal.scaleFactor,ee=V.internal.getFontSize(),ne=V.getStringUnitWidth(I)*ee/V.internal.scaleFactor;return new function(ae){var he=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:ne*=Math.round(96*$/72*1e4)/1e4})},g.prototype.scale=function(I,V){if(isNaN(I)||isNaN(V))throw Dt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(I,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply($)},g.prototype.rotate=function(I){if(isNaN(I))throw Dt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.translate=function(I,V){if(isNaN(I)||isNaN(V))throw Dt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,I,V);this.ctx.transform=this.ctx.transform.multiply($)},g.prototype.transform=function(I,V,$,ee,ne,ae){if(isNaN(I)||isNaN(V)||isNaN($)||isNaN(ee)||isNaN(ne)||isNaN(ae))throw Dt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(I,V,$,ee,ne,ae);this.ctx.transform=this.ctx.transform.multiply(he)},g.prototype.setTransform=function(I,V,$,ee,ne,ae){I=isNaN(I)?1:I,V=isNaN(V)?0:V,$=isNaN($)?0:$,ee=isNaN(ee)?1:ee,ne=isNaN(ne)?0:ne,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(I,V,$,ee,ne,ae)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(I,V,$,ee,ne,ae,he,pe,xe){var Te=this.pdf.getImageProperties(I),Le=1,Pe=1,We=1,q=1;ee!==void 0&&pe!==void 0&&(We=pe/ee,q=xe/ne,Le=Te.width/ee*pe/ee,Pe=Te.height/ne*xe/ne),ae===void 0&&(ae=V,he=$,V=0,$=0),ee!==void 0&&pe===void 0&&(pe=ee,xe=ne),ee===void 0&&pe===void 0&&(pe=Te.width,xe=Te.height);var Ie=this.ctx.transform.decompose(),ft=X(Ie.rotate.shx),Ye=new l,Ne=(Ye=(Ye=(Ye=Ye.multiply(Ie.translate)).multiply(Ie.skew)).multiply(Ie.scale)).applyToRectangle(new a(ae-V*We,he-$*q,ee*Le,ne*Pe));if(this.autoPaging){for(var je,Fe=R.call(this,Ne),Ke=[],$e=0;$e<Fe.length;$e+=1)Ke.indexOf(Fe[$e])===-1&&Ke.push(Fe[$e]);C(Ke);for(var Et=Ke[0],gt=Ke[Ke.length-1],it=Et;it<gt+1;it++){this.pdf.setPage(it);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=it===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=it===1?0:Oe+(it-2)*at;if(this.ctx.clip_path.length!==0){var an=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(je,this.posX+this.margin[3],-Ge+vt+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=an}var xt=JSON.parse(JSON.stringify(Ne));xt=A([xt],this.posX+this.margin[3],-Ge+vt+this.ctx.prevPageLastElemOffset)[0];var dt=(it>Et||it<gt)&&N.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,at,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,ft),dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,ft)};var R=function(I,V,$){var ee=[];V=V||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":ee.push(Math.floor((I.y+ne)/$)+1);break;case"arc":ee.push(Math.floor((I.y+ne-I.radius)/$)+1),ee.push(Math.floor((I.y+ne+I.radius)/$)+1);break;case"qct":var ae=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);ee.push(Math.floor((ae.y+ne)/$)+1),ee.push(Math.floor((ae.y+ae.h+ne)/$)+1);break;case"bct":var he=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);ee.push(Math.floor((he.y+ne)/$)+1),ee.push(Math.floor((he.y+he.h+ne)/$)+1);break;case"rect":ee.push(Math.floor((I.y+ne)/$)+1),ee.push(Math.floor((I.y+I.h+ne)/$)+1)}for(var pe=0;pe<ee.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<ee[pe];)_.call(this);return ee},_=function(){var I=this.fillStyle,V=this.strokeStyle,$=this.font,ee=this.lineCap,ne=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=V,this.font=$,this.lineCap=ee,this.lineWidth=ne,this.lineJoin=ae},A=function(I,V,$){for(var ee=0;ee<I.length;ee++)switch(I[ee].type){case"bct":I[ee].x2+=V,I[ee].y2+=$;case"qct":I[ee].x1+=V,I[ee].y1+=$;default:I[ee].x+=V,I[ee].y+=$}return I},C=function(I){return I.sort(function(V,$){return V-$})},k=function(I,V){var $=this.fillStyle,ee=this.strokeStyle,ne=this.lineCap,ae=this.lineWidth,he=Math.abs(ae*this.ctx.transform.scaleX),pe=this.lineJoin;if(this.autoPaging){for(var xe,Te,Le=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),We=[],q=0;q<Pe.length;q++)if(Pe[q].x!==void 0)for(var Ie=R.call(this,Pe[q]),ft=0;ft<Ie.length;ft+=1)We.indexOf(Ie[ft])===-1&&We.push(Ie[ft]);for(var Ye=0;Ye<We.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<We[Ye];)_.call(this);C(We);for(var Ne=We[0],je=We[We.length-1],Fe=Ne;Fe<je+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=$,this.strokeStyle=ee,this.lineCap=ne,this.lineWidth=he,this.lineJoin=pe;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=Fe===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Fe===1?0:Et+(Fe-2)*gt;if(this.ctx.clip_path.length!==0){var yt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A(xe,this.posX+this.margin[3],-it+$e+this.ctx.prevPageLastElemOffset),W.call(this,I,!0),this.path=yt}if(Te=JSON.parse(JSON.stringify(Le)),this.path=A(Te,this.posX+this.margin[3],-it+$e+this.ctx.prevPageLastElemOffset),V===!1||Fe===0){var vt=(Fe>Ne||Fe<je)&&N.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,gt,null).clip().discardPath()),W.call(this,I,V),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=Le}else this.lineWidth=he,W.call(this,I,V),this.lineWidth=ae},W=function(I,V){if((I!=="stroke"||V||!S.call(this))&&(I==="stroke"||V||!m.call(this))){for(var $,ee,ne=[],ae=this.path,he=0;he<ae.length;he++){var pe=ae[he];switch(pe.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:pe,deltas:[],abs:[]});break;case"lt":var xe=ne.length;if(ae[he-1]&&!isNaN(ae[he-1].x)&&($=[pe.x-ae[he-1].x,pe.y-ae[he-1].y],xe>0)){for(;xe>=0;xe--)if(ne[xe-1].close!==!0&&ne[xe-1].begin!==!0){ne[xe-1].deltas.push($),ne[xe-1].abs.push(pe);break}}break;case"bct":$=[pe.x1-ae[he-1].x,pe.y1-ae[he-1].y,pe.x2-ae[he-1].x,pe.y2-ae[he-1].y,pe.x-ae[he-1].x,pe.y-ae[he-1].y],ne[ne.length-1].deltas.push($);break;case"qct":var Te=ae[he-1].x+2/3*(pe.x1-ae[he-1].x),Le=ae[he-1].y+2/3*(pe.y1-ae[he-1].y),Pe=pe.x+2/3*(pe.x1-pe.x),We=pe.y+2/3*(pe.y1-pe.y),q=pe.x,Ie=pe.y;$=[Te-ae[he-1].x,Le-ae[he-1].y,Pe-ae[he-1].x,We-ae[he-1].y,q-ae[he-1].x,Ie-ae[he-1].y],ne[ne.length-1].deltas.push($);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(pe)}}ee=V?null:I==="stroke"?"stroke":"fill";for(var ft=!1,Ye=0;Ye<ne.length;Ye++)if(ne[Ye].arc)for(var Ne=ne[Ye].abs,je=0;je<Ne.length;je++){var Fe=Ne[je];Fe.type==="arc"?G.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,V,!ft):Y.call(this,Fe.x,Fe.y),ft=!0}else if(ne[Ye].close===!0)this.pdf.internal.out("h"),ft=!1;else if(ne[Ye].begin!==!0){var Ke=ne[Ye].start.x,$e=ne[Ye].start.y;j.call(this,ne[Ye].deltas,Ke,$e),ft=!0}ee&&B.call(this,ee),V&&K.call(this)}},Q=function(I){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-$;case"top":return I+V-$;case"hanging":return I+V-2*$;case"middle":return I+V/2-$;default:return I}},J=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(V,$){this.colorStops.push([V,$])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(I,V,$,ee,ne,ae,he,pe,xe){for(var Te=fe.call(this,$,ee,ne,ae),Le=0;Le<Te.length;Le++){var Pe=Te[Le];Le===0&&(xe?P.call(this,Pe.x1+I,Pe.y1+V):Y.call(this,Pe.x1+I,Pe.y1+V)),ce.call(this,I,V,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}pe?K.call(this):B.call(this,he)},B=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(I,V){this.pdf.internal.out(n(I)+" "+r(V)+" m")},D=function(I){var V;switch(I.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var $,ee,ne,ae=this.pdf.getTextDimensions(I.text),he=Q.call(this,I.y),pe=J.call(this,he)-ae.h,xe=this.ctx.transform.applyToPoint(new s(I.x,he));if(this.autoPaging){var Te=this.ctx.transform.decompose(),Le=new l;Le=(Le=(Le=Le.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale);for(var Pe=this.ctx.transform.applyToRectangle(new a(I.x,he,ae.w,ae.h)),We=Le.applyToRectangle(new a(I.x,pe,ae.w,ae.h)),q=R.call(this,We),Ie=[],ft=0;ft<q.length;ft+=1)Ie.indexOf(q[ft])===-1&&Ie.push(q[ft]);C(Ie);for(var Ye=Ie[0],Ne=Ie[Ie.length-1],je=Ye;je<Ne+1;je++){this.pdf.setPage(je);var Fe=je===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],Et=$e-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],it=gt-this.margin[3],yt=je===1?0:Ke+(je-2)*Et;if(this.ctx.clip_path.length!==0){var vt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=A($,this.posX+this.margin[3],-1*yt+Fe),W.call(this,"fill",!0),this.path=vt}var Oe=A([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-yt+Fe+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*I.scale),ne=this.lineWidth,this.lineWidth=ne*I.scale);var at=this.autoPaging!=="text";if(at||Oe.y+Oe.h<=$e){if(at||Oe.y>=Fe&&Oe.x<=gt){var Ge=at?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||gt-Oe.x)[0],an=A([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-yt+Fe+this.ctx.prevPageLastElemOffset)[0],xt=at&&(je>Ye||je<Ne)&&N.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Et,null).clip().discardPath()),this.pdf.text(Ge,an.x,an.y,{angle:I.angle,align:V,renderingMode:I.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else Oe.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-Oe.y);I.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ne)}}else I.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*I.scale),ne=this.lineWidth,this.lineWidth=ne*I.scale),this.pdf.text(I.text,xe.x+this.posX,xe.y+this.posY,{angle:I.angle,align:V,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=ne)},Y=function(I,V,$,ee){$=$||0,ee=ee||0,this.pdf.internal.out(n(I+$)+" "+r(V+ee)+" l")},j=function(I,V,$){return this.pdf.lines(I,V,$,null,null)},ce=function(I,V,$,ee,ne,ae,he,pe){this.pdf.internal.out([e(i($+I)),e(o(ee+V)),e(i(ne+I)),e(o(ae+V)),e(i(he+I)),e(o(pe+V)),"c"].join(" "))},fe=function(I,V,$,ee){for(var ne=2*Math.PI,ae=Math.PI/2;V>$;)V-=ne;var he=Math.abs($-V);he<ne&&ee&&(he=ne-he);for(var pe=[],xe=ee?-1:1,Te=V;he>1e-5;){var Le=Te+xe*Math.min(he,ae);pe.push(de.call(this,I,Te,Le)),he-=Math.abs(Le-Te),Te=Le}return pe},de=function(I,V,$){var ee=($-V)/2,ne=I*Math.cos(ee),ae=I*Math.sin(ee),he=ne,pe=-ae,xe=he*he+pe*pe,Te=xe+he*ne+pe*ae,Le=4/3*(Math.sqrt(2*xe*Te)-Te)/(he*ae-pe*ne),Pe=he-Le*pe,We=pe+Le*he,q=Pe,Ie=-We,ft=ee+V,Ye=Math.cos(ft),Ne=Math.sin(ft);return{x1:I*Math.cos(V),y1:I*Math.sin(V),x2:Pe*Ye-We*Ne,y2:Pe*Ne+We*Ye,x3:q*Ye-Ie*Ne,y3:q*Ne+Ie*Ye,x4:I*Math.cos($),y4:I*Math.sin($)}},X=function(I){return 180*I/Math.PI},se=function(I,V,$,ee,ne,ae){var he=I+.5*($-I),pe=V+.5*(ee-V),xe=ne+.5*($-ne),Te=ae+.5*(ee-ae),Le=Math.min(I,ne,he,xe),Pe=Math.max(I,ne,he,xe),We=Math.min(V,ae,pe,Te),q=Math.max(V,ae,pe,Te);return new a(Le,We,Pe-Le,q-We)},ve=function(I,V,$,ee,ne,ae,he,pe){var xe,Te,Le,Pe,We,q,Ie,ft,Ye,Ne,je,Fe,Ke,$e,Et=$-I,gt=ee-V,it=ne-$,yt=ae-ee,vt=he-ne,Oe=pe-ae;for(Te=0;Te<41;Te++)Ye=(Ie=(Le=I+(xe=Te/40)*Et)+xe*((We=$+xe*it)-Le))+xe*(We+xe*(ne+xe*vt-We)-Ie),Ne=(ft=(Pe=V+xe*gt)+xe*((q=ee+xe*yt)-Pe))+xe*(q+xe*(ae+xe*Oe-q)-ft),Te==0?(je=Ye,Fe=Ne,Ke=Ye,$e=Ne):(je=Math.min(je,Ye),Fe=Math.min(Fe,Ne),Ke=Math.max(Ke,Ye),$e=Math.max($e,Ne));return new a(Math.round(je),Math.round(Fe),Math.round(Ke-je),Math.round($e-Fe))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,V,$=(I=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:V}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Ve.API),function(t){var e=function(s){var a,l,u,h,g,v,m,S,N,R;for(l=[],u=0,h=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;h>u;u+=4)(g=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(v=(g=((g=((g=((g=(g-(R=g%85))/85)-(N=g%85))/85)-(S=g%85))/85)-(m=g%85))/85)%85,l.push(v+33,m+33,S+33,N+33,R+33)):l.push(122);return function(_,A){for(var C=A;C>0;C--)_.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,u,h,g,v=String,m="length",S=255,N="charCodeAt",R="slice",_="replace";for(s[R](-2),s=s[R](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),u=[],h=0,g=(s+=a="uuuuu"[R](s[m]%5||5))[m];g>h;h+=5)l=52200625*(s[N](h)-33)+614125*(s[N](h+1)-33)+7225*(s[N](h+2)-33)+85*(s[N](h+3)-33)+(s[N](h+4)-33),u.push(S&l>>24,S&l>>16,S&l>>8,S&l);return function(A,C){for(var k=C;k>0;k--)A.pop()}(u,a[m]),v.fromCharCode.apply(v,u)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=wp(a)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,a){var l=0,u=s||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=o(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Ve.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,u,h){var g=new XMLHttpRequest,v=0,m=function(S){var N=S.length,R=[],_=String.fromCharCode;for(v=0;v<N;v+=1)R.push(_(255&S.charCodeAt(v)));return R.join("")};if(g.open("GET",l,!u),g.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(g.onload=function(){g.status===200?h(m(this.responseText)):h(void 0)}),g.send(null),u&&g.status===200)return m(g.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Ve.API),function(t){function e(){return(et.html2canvas?Promise.resolve(et.html2canvas):Qd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):Qd(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Lt(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var h in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[h]=l.style[h];return u},o=function a(l,u){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(a(g,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),u);return(h=h.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,h=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var m=0;m<h.length;++m){var S=h[m],N=S.src.find(function(R){return R.format==="truetype"});N&&u.addFont(N.url,S.ref.name,S.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(a=a||Ve.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,h){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(h,g){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,h),v}).then(h,g).then(function(v){return u.updateProgress(1),v})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then;var h=this;a&&(a=a.bind(h)),l&&(l=l.bind(h));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:s.convert(Object.assign({},h),Promise.prototype),v=u.call(g,a,l);return s.convert(v,h.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ve.getPageSize=function(a,l,u){if(Lt(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,u=h.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var g,v=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var S,N=0,R=0;if(m.hasOwnProperty(v))N=m[v][1]/g,R=m[v][0]/g;else try{N=u[1],R=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",R>N&&(S=R,R=N,N=S);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",N>R&&(S=R,R=N,N=S)}return{width:R,height:N,unit:l,k:g,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(vh):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(Ve.API),Ve.API.addJS=function(t){return Ug=t,this.internal.events.subscribe("postPutResources",function(){Ec=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ec+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ug+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ec!==void 0&&Dg!==void 0&&this.internal.out("/Names <</JavaScript "+Ec+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(o=0;o<u;o++){var g=n.internal.newObject();h.push(g);var v=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<h.length;o++)n.internal.write("(page_"+(o+1)+")"+h[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Ve.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,u=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(g){for(var v,m=256*g.charCodeAt(4)+g.charCodeAt(5),S=g.length,N={width:0,height:0,numcomponents:1},R=4;R<S;R+=2){if(R+=m,e.indexOf(g.charCodeAt(R+1))!==-1){v=256*g.charCodeAt(R+5)+g.charCodeAt(R+6),N={width:256*g.charCodeAt(R+7)+g.charCodeAt(R+8),height:v,numcomponents:g.charCodeAt(R+9)};break}m=256*g.charCodeAt(R+2)+g.charCodeAt(R+3)}return N}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return h}}(Ve.API),Ve.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=JA(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,u=o.palette,h=o.depth;i=u&&l===1?function(G){for(var B=G.width,K=G.height,P=G.data,D=G.palette,Y=G.depth,j=!1,ce=[],fe=[],de=void 0,X=!1,se=0,ve=0;ve<D.length;ve++){var me=z1(D[ve],4),I=me[0],V=me[1],$=me[2],ee=me[3];ce.push(I,V,$),ee!=null&&(ee===0?(se++,fe.length<1&&fe.push(ve)):ee<255&&(X=!0))}if(X||se>1){j=!0,fe=void 0;var ne=B*K;de=new Uint8Array(ne);for(var ae=new DataView(P.buffer),he=0;he<ne;he++){var pe=wh(ae,he,Y),xe=z1(D[pe],4)[3];de[he]=xe}}else se===0&&(fe=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:j?8:void 0,colorBytes:P,alphaBytes:de,needSMask:j,palette:ce,mask:fe}}(o):l===2||l===4?function(G){for(var B=G.data,K=G.width,P=G.height,D=G.channels,Y=G.depth,j=D===2?"DeviceGray":"DeviceRGB",ce=D-1,fe=K*P,de=ce,X=fe*de,se=1*fe,ve=Math.ceil(X*Y/8),me=Math.ceil(se*Y/8),I=new Uint8Array(ve),V=new Uint8Array(me),$=new DataView(B.buffer),ee=new DataView(I.buffer),ne=new DataView(V.buffer),ae=!1,he=0;he<fe;he++){for(var pe=he*D,xe=0;xe<de;xe++)$g(ee,wh($,pe+xe,Y),he*de+xe,Y);var Te=wh($,pe+de,Y);Te<(1<<Y)-1&&(ae=!0),$g(ne,Te,1*he,Y)}return{colorSpace:j,colorsPerPixel:ce,sMaskBitsPerComponent:ae?Y:void 0,colorBytes:I,alphaBytes:V,needSMask:ae}}(o):function(G){var B=G.data,K=G.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?function(P){for(var D=P.length,Y=new Uint8Array(2*D),j=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),ce=0;ce<D;ce++)j.setUint16(2*ce,P[ce],!1);return Y}(B):B,needSMask:!1}}(o);var g,v,m,S=i,N=S.colorSpace,R=S.colorsPerPixel,_=S.sMaskBitsPerComponent,A=S.colorBytes,C=S.alphaBytes,k=S.needSMask,W=S.palette,Q=S.mask,J=null;return r!==Ve.API.image_compression.NONE&&typeof wp=="function"?(J=function(G){var B;switch(G){case Ve.API.image_compression.FAST:B=11;break;case Ve.API.image_compression.MEDIUM:B=13;break;case Ve.API.image_compression.SLOW:B=14;break;default:B=12}return B}(r),g=this.decode.FLATE_DECODE,v="/Predictor ".concat(J," /Colors ").concat(R," /BitsPerComponent ").concat(h," /Columns ").concat(s),t=zg(A,Math.ceil(s*R*h/8),R,h,r),k&&(m=zg(C,Math.ceil(s*_/8),1,_,r))):(g=void 0,v=void 0,t=A,k&&(m=C)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:t,index:e,filter:g,decodeParameters:v,transparency:Q,palette:W,sMask:m,predictor:J,width:s,height:a,bitsPerComponent:h,sMaskBitsPerComponent:_,colorSpace:N}}},function(t){t.processGIF89A=function(e,n,r,i){var o=new pN(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},h=new _h(100).encode(u,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A}(Ve.API),ii.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ii.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Dt.log("bit decode error:"+n)}},ii.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ii.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},ii.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},ii.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,u=o>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=s,this.data[h+3]=u}this.pos+=t}},ii.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,h=i*this.width*4+4*o;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},ii.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ii.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},ii.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new ii(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new _h(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Ve.API),Kg.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new Kg(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new _h(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(Ve.API),Ve.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var h=r[u],g=r[u+1],v=r[u+2],m=r[u+3];o[a++]=h,o[a++]=g,o[a++]=v,s[l++]=m}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:S,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ve.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ia=Ve.API,Tc=ia.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,g=e.doKerning!==!1,v=0,m=t.length,S=0,N=a[0]||l,R=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?R.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(v=g&&Lt(u[r])==="object"&&!isNaN(parseInt(u[r][S],10))?u[r][S]/h:0,R.push((a[r]||N)/l+v)),S=r;return R},Bg=ia.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ia.processArabic&&(t=ia.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Tc.apply(this,arguments).reduce(function(o,s){return o+s},0)},qg=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},Og=function(t,e,n){n||(n={});var r,i,o,s,a,l,u,h=[],g=[h],v=n.textIndent||0,m=0,S=0,N=t.split(" "),R=Tc.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var _=Array(l).join(" "),A=[];N.map(function(k){(k=k.split(/\s*\n/)).length>1?A=A.concat(k.map(function(W,Q){return(Q&&W.length?`
`:"")+W})):A.push(k[0])}),N=A,l=Bg.apply(this,[_,n])}for(o=0,s=N.length;o<s;o++){var C=0;if(r=N[o],l&&r[0]==`
`&&(r=r.substr(1),C=1),v+m+(S=(i=Tc.apply(this,[r,n])).reduce(function(k,W){return k+W},0))>e||C){if(S>e){for(a=qg.apply(this,[r,i,e-(v+m),e]),h.push(a.shift()),h=[a.pop()];a.length;)g.push([a.shift()]);S=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(k,W){return k+W},0)}else h=[r];g.push(h),v=S+l,m=R}else h.push(r),v+=m+S,m=R}return u=l?function(k,W){return(W?_:"")+k.join(" ")}:function(k){return k.join(" ")},g.map(u)},ia.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle),v="Unicode";return g.metadata[v]?{widths:g.metadata[v].widths||{0:1},kerning:g.metadata[v].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(Og.apply(this,[r[a],s,o]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=e[o],i[e[o]]=n[o];var s=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var m,S,N,R,_=["{"];for(var A in v){if(m=v[A],isNaN(parseInt(A,10))?S="'"+A+"'":(A=parseInt(A,10),S=(S=s(A).slice(2)).slice(0,-1)+i[S.slice(-1)]),typeof m=="number")m<0?(N=s(m).slice(3),R="-"):(N=s(m).slice(2),R=""),N=R+N.slice(0,-1)+i[N.slice(-1)];else{if(Lt(m)!=="object")throw new Error("Don't know what to do with value type "+Lt(m)+".");N=a(m)}_.push(S+N)}return _.push("}"),_.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,S,N,R,_={},A=1,C=_,k=[],W="",Q="",J=v.length-1,G=1;G<J;G+=1)(R=v[G])=="'"?m?(N=m.join(""),m=void 0):m=[]:m?m.push(R):R=="{"?(k.push([C,N]),C={},N=void 0):R=="}"?((S=k.pop())[0][S[1]]=C,N=void 0,C=S[0]):R=="-"?A=-1:N===void 0?r.hasOwnProperty(R)?(W+=r[R],N=parseInt(W,16)*A,A=1,W=""):W+=R:r.hasOwnProperty(R)?(Q+=r[R],C[N]=parseInt(Q,16)*A,A=1,N=void 0,Q=""):Q+=R;return _},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var m=v.font,S=g.Unicode[m.postScriptName];S&&(m.metadata.Unicode={},m.metadata.Unicode.widths=S.widths,m.metadata.Unicode.kerning=S.kerning);var N=h.Unicode[m.postScriptName];N&&(m.metadata.Unicode.encoding=N,m.encoding=N.codePages[0])}])}(Ve.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(zc(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ve),Ve.API.addSvgAsImage=function(t,e,n,r,i,o,s,a){if(isNaN(e)||isNaN(n))throw Dt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Dt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(et.canvg?Promise.resolve(et.canvg):Qd(()=>import("./index.es--116tQeh.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,s,a)})},Ve.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ve.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],u=0,h=0,g=0;function v(S,N){var R,_=!1;for(R=0;R<S.length;R+=1)S[R]===N&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=a.length;for(g=0;g<m;g+=1)n[a[g]].value=n[a[g]].defaultValue,n[a[g]].explicitSet=!1}if(Lt(t)==="object"){for(i in t)if(o=t[i],v(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&v(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(u=0;u<o.length;u+=1)if(r=!0,o[u].length===1&&typeof o[u][0]=="number")l.push(String(o[u]-1));else if(o[u].length>1){for(h=0;h<o[u].length;h+=1)typeof o[u][h]!="number"&&(r=!1);r===!0&&l.push([o[u][0]-1,o[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,N=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?N.push("/"+S+" /"+n[S].value):N.push("/"+S+" "+n[S].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ve.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],g=0,v=o.length;g<v;++g){if(a=s.metadata.characterToGlyph(o.charCodeAt(g)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(u[4-a.length],a)}return h.join("")},r=function(o){var s,a,l,u,h,g,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,v=(a=Object.keys(o).sort(function(m,S){return m-S})).length;g<v;g++)s=a[g],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(u=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,h=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),m="",S=0;S<v.length;S++)m+=String.fromCharCode(v[S]);var N=u();h({data:m,addLength1:!0,objectId:N}),l("endobj");var R=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:R}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+sa(a.fontName)),l("/FontFile2 "+N+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var A=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+sa(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+R+" 0 R"),l("/BaseFont /"+sa(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+A+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,u=s.newObject,h=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,v="",m=0;m<g.length;m++)v+=String.fromCharCode(g[m]);var S=u();h({data:v,addLength1:!0,objectId:S}),l("endobj");var N=u();h({data:r(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var R=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+sa(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+sa(a.fontName)+"/FontDescriptor "+R+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,u=o.y,h=o.options||{},g=o.mutex||{},v=g.pdfEscape,m=g.activeFontKey,S=g.fonts,N=m,R="",_=0,A="",C=S[N].encoding;if(S[N].encoding!=="Identity-H")return{text:a,x:l,y:u,options:h,mutex:g};for(A=a,N=m,Array.isArray(a)&&(A=a[0]),_=0;_<A.length;_+=1)S[N].metadata.hasOwnProperty("cmap")&&(s=S[N].metadata.cmap.unicode.codeMap[A[_].charCodeAt(0)]),s||A[_].charCodeAt(0)<256&&S[N].metadata.hasOwnProperty("Unicode")?R+=A[_]:R+="";var k="";return parseInt(N.slice(1))<14||C==="WinAnsiEncoding"?k=v(R,N).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(k=n(R,S[N])),g.isHex=!0,{text:k,x:l,y:u,options:h,mutex:g}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?a.push([i(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):a.push(i(Object.assign({},l,{text:s[u]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(Ve),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ve.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,u,h,g=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},R=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),A=!1,C=0;this.__bidiEngine__={};var k=function(P){var D=P.charCodeAt(),Y=D>>8,j=N[Y];return j!==void 0?g[256*j+(255&D)]:Y===252||Y===253?"AL":_.test(Y)?"L":Y===8?"R":"N"},W=function(P){for(var D,Y=0;Y<P.length;Y++){if((D=k(P.charAt(Y)))==="L")return!1;if(D==="R")return!0}return!1},Q=function(P,D,Y,j){var ce,fe,de,X,se=D[j];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":A=!1;break;case"N":case"AN":break;case"EN":A&&(se="AN");break;case"AL":A=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":j<1||j+1>=D.length||(ce=Y[j-1])!=="EN"&&ce!=="AN"||(fe=D[j+1])!=="EN"&&fe!=="AN"?se="N":A&&(fe="AN"),se=fe===ce?fe:"N";break;case"ES":se=(ce=j>0?Y[j-1]:"B")==="EN"&&j+1<D.length&&D[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&Y[j-1]==="EN"){se="EN";break}if(A){se="N";break}for(de=j+1,X=D.length;de<X&&D[de]==="ET";)de++;se=de<X&&D[de]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(X=D.length,de=j+1;de<X&&D[de]==="NSM";)de++;if(de<X){var ve=P[j],me=ve>=1425&&ve<=2303||ve===64286;if(ce=D[de],me&&(ce==="R"||ce==="AL")){se="R";break}}}se=j<1||(ce=D[j-1])==="B"?"N":Y[j-1];break;case"B":A=!1,i=!0,se=C;break;case"S":o=!0,se="N"}return se},J=function(P,D,Y){var j=P.split("");return Y&&G(j,Y,{hiLevel:C}),j.reverse(),D&&D.reverse(),j.join("")},G=function(P,D,Y){var j,ce,fe,de,X,se=-1,ve=P.length,me=0,I=[],V=C?m:v,$=[];for(A=!1,i=!1,o=!1,ce=0;ce<ve;ce++)$[ce]=k(P[ce]);for(fe=0;fe<ve;fe++){if(X=me,I[fe]=Q(P,$,I,fe),j=240&(me=V[X][S[I[fe]]]),me&=15,D[fe]=de=V[me][5],j>0)if(j===16){for(ce=se;ce<fe;ce++)D[ce]=1;se=-1}else se=-1;if(V[me][6])se===-1&&(se=fe);else if(se>-1){for(ce=se;ce<fe;ce++)D[ce]=de;se=-1}$[fe]==="B"&&(D[fe]=0),Y.hiLevel|=de}o&&function(ee,ne,ae){for(var he=0;he<ae;he++)if(ee[he]==="S"){ne[he]=C;for(var pe=he-1;pe>=0&&ee[pe]==="WS";pe--)ne[pe]=C}}($,D,ve)},B=function(P,D,Y,j,ce){if(!(ce.hiLevel<P)){if(P===1&&C===1&&!i)return D.reverse(),void(Y&&Y.reverse());for(var fe,de,X,se,ve=D.length,me=0;me<ve;){if(j[me]>=P){for(X=me+1;X<ve&&j[X]>=P;)X++;for(se=me,de=X-1;se<de;se++,de--)fe=D[se],D[se]=D[de],D[de]=fe,Y&&(fe=Y[se],Y[se]=Y[de],Y[de]=fe);me=X}me++}}},K=function(P,D,Y){var j=P.split(""),ce={hiLevel:C};return Y||(Y=[]),G(j,Y,ce),function(fe,de,X){if(X.hiLevel!==0&&h)for(var se,ve=0;ve<fe.length;ve++)de[ve]===1&&(se=R.indexOf(fe[ve]))>=0&&(fe[ve]=R[se+1])}(j,Y,ce),B(2,j,D,Y,ce),B(1,j,D,Y,ce),j.join("")};return this.__bidiEngine__.doBidiReorder=function(P,D,Y){if(function(ce,fe){if(fe)for(var de=0;de<ce.length;de++)fe[de]=de;a===void 0&&(a=W(ce)),u===void 0&&(u=W(ce))}(P,D),s||!l||u)if(s&&l&&a^u)C=a?1:0,P=J(P,D,Y);else if(!s&&l&&u)C=a?1:0,P=K(P,D,Y),P=J(P,D);else if(!s||a||l||u){if(s&&!l&&a^u)P=J(P,D),a?(C=0,P=K(P,D,Y)):(C=1,P=K(P,D,Y),P=J(P,D));else if(s&&a&&!l&&u)C=1,P=K(P,D,Y),P=J(P,D);else if(!s&&!l&&a^u){var j=h;a?(C=1,P=K(P,D,Y),C=0,h=!1,P=K(P,D,Y),h=j):(C=0,P=K(P,D,Y),P=J(P,D),C=1,h=!1,P=K(P,D,Y),h=j,P=J(P,D))}}else C=0,P=K(P,D,Y);else C=a?1:0,P=K(P,D,Y);return P},this.__bidiEngine__.setOptions=function(P){P&&(s=P.isInputVisual,l=P.isOutputVisual,a=P.isInputRtl,u=P.isOutputRtl,h=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ve),Ve.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Xo(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new IN(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mN(this.contents),this.head=new vN(this),this.name=new SN(this),this.cmap=new Iw(this),this.toUnicode={},this.hhea=new yN(this),this.maxp=new AN(this),this.hmtx=new NN(this),this.post=new _N(this),this.os2=new wN(this),this.loca=new bN(this),this.glyf=new CN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,u;for(u=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var hi,Xo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),mN=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,u,h,g,v,m,S,N;for(N in m=Object.keys(n).length,l=Math.log(2),g=16*Math.floor(Math.log(m)/l),s=Math.floor(g/l),h=16*m-g,(i=new Xo).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(s),i.writeShort(h),o=16*m,u=i.pos+o,a=null,S=[],n)for(v=n[N],i.writeString(N),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),S=S.concat(v),N==="head"&&(a=u),u+=v.length;u%4;)S.push(0),u++;return i.write(S),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=kw.call(n);n.length%4;)n.push(0);for(o=new Xo(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),gN={}.hasOwnProperty,Li=function(t,e){for(var n in e)gN.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};hi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Xo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),Yg=function(){function t(e,n){var r,i,o,s,a,l,u,h,g,v,m,S,N,R,_,A,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),v=m/2,e.pos+=6,o=function(){var k,W;for(W=[],l=k=0;0<=v?k<v:k>v;l=0<=v?++k:--k)W.push(e.readUInt16());return W}(),e.pos+=2,N=function(){var k,W;for(W=[],l=k=0;0<=v?k<v:k>v;l=0<=v?++k:--k)W.push(e.readUInt16());return W}(),u=function(){var k,W;for(W=[],l=k=0;0<=v?k<v:k>v;l=0<=v?++k:--k)W.push(e.readUInt16());return W}(),h=function(){var k,W;for(W=[],l=k=0;0<=v?k<v:k>v;l=0<=v?++k:--k)W.push(e.readUInt16());return W}(),i=(this.length-e.pos+this.offset)/2,a=function(){var k,W;for(W=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)W.push(e.readUInt16());return W}(),l=_=0,C=o.length;_<C;l=++_)for(R=o[l],r=A=S=N[l];S<=R?A<=R:A>=R;r=S<=R?++A:--A)h[l]===0?s=r+u[l]:(s=a[h[l]/2+(r-S)-(v-l)]||0)!==0&&(s+=u[l]),this.codeMap[r]=65535&s}e.pos=g}return t.encode=function(e,n){var r,i,o,s,a,l,u,h,g,v,m,S,N,R,_,A,C,k,W,Q,J,G,B,K,P,D,Y,j,ce,fe,de,X,se,ve,me,I,V,$,ee,ne,ae,he,pe,xe,Te,Le;switch(j=new Xo,s=Object.keys(e).sort(function(Pe,We){return Pe-We}),n){case"macroman":for(N=0,R=function(){var Pe=[];for(S=0;S<256;++S)Pe.push(0);return Pe}(),A={0:0},o={},ce=0,se=s.length;ce<se;ce++)A[pe=e[i=s[ce]]]==null&&(A[pe]=++N),o[i]={old:e[i],new:A[e[i]]},R[i]=A[e[i]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(R),{charMap:o,subtable:j.data,maxGlyphID:N+1};case"unicode":for(D=[],g=[],C=0,A={},r={},_=u=null,fe=0,ve=s.length;fe<ve;fe++)A[W=e[i=s[fe]]]==null&&(A[W]=++C),r[i]={old:W,new:A[W]},a=A[W]-i,_!=null&&a===u||(_&&g.push(_),D.push(i),u=a),_=i;for(_&&g.push(_),g.push(65535),D.push(65535),K=2*(B=D.length),G=2*Math.pow(Math.log(B)/Math.LN2,2),v=Math.log(G/2)/Math.LN2,J=2*B-G,l=[],Q=[],m=[],S=de=0,me=D.length;de<me;S=++de){if(P=D[S],h=g[S],P===65535){l.push(0),Q.push(0);break}if(P-(Y=r[P].new)>=32768)for(l.push(0),Q.push(2*(m.length+B-S)),i=X=P;P<=h?X<=h:X>=h;i=P<=h?++X:--X)m.push(r[i].new);else l.push(Y-P),Q.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*B+2*m.length),j.writeUInt16(0),j.writeUInt16(K),j.writeUInt16(G),j.writeUInt16(v),j.writeUInt16(J),ae=0,I=g.length;ae<I;ae++)i=g[ae],j.writeUInt16(i);for(j.writeUInt16(0),he=0,V=D.length;he<V;he++)i=D[he],j.writeUInt16(i);for(xe=0,$=l.length;xe<$;xe++)a=l[xe],j.writeUInt16(a);for(Te=0,ee=Q.length;Te<ee;Te++)k=Q[Te],j.writeUInt16(k);for(Le=0,ne=m.length;Le<ne;Le++)N=m[Le],j.writeUInt16(N);return{charMap:r,subtable:j.data,maxGlyphID:C+1}}},t}(),Iw=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new Yg(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=Yg.encode(e,n),(i=new Xo).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),yN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),wN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),_N=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t}(),xN=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},SN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,o,s,a,l,u,h,g,v;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=h=0,g=r.length;h<g;o=++h)i=r[o],e.pos=i.offset,u=e.readString(i.length),s=new xN(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),AN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),NN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(e.readInt16());return h}(),this.widths=(function(){var u,h,g,v;for(v=[],u=0,h=(g=this.metrics).length;u<h;u++)o=g[u],v.push(o.advance);return v}).call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),kw=[].slice,CN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,o,s,a,l,u,h,g;return e in this.cache?this.cache[e]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,s=(a=new Xo(n.read(i))).readShort(),u=a.readShort(),g=a.readShort(),l=a.readShort(),h=a.readShort(),this.cache[e]=s===-1?new TN(a,u,g,l,h):new EN(a,s,u,g,l,h),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=n.length;a<l;a++)i=e[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},t}(),EN=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),TN=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Xo(kw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),bN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Li(t,hi),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var u=new Array(4*r.length),h=0;h<r.length;++h)u[4*h+3]=255&r[h],u[4*h+2]=(65280&r[h])>>8,u[4*h+1]=(16711680&r[h])>>16,u[4*h]=(4278190080&r[h])>>24;return u},t}(),IN=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,u,h,g,v,m,S,N,R,_;for(i in r=Iw.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),m={0:0},_=r.charMap)m[(l=_[i]).old]=l.new;for(S in v=r.maxGlyphID,s)S in m||(m[S]=v++);return h=function(A){var C,k;for(C in k={},A)k[A[C]]=C;return k}(m),g=Object.keys(h).sort(function(A,C){return A-C}),N=function(){var A,C,k;for(k=[],A=0,C=g.length;A<C;A++)a=g[A],k.push(h[a]);return k}(),o=this.font.glyf.encode(s,N,m),u=this.font.loca.encode(o.offsets,N),R={cmap:this.font.cmap.raw(),glyf:o.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(R["OS/2"]=this.font.os2.raw()),this.font.directory.encode(R)},t}();Ve.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();const kN=async(t,e)=>{const n=new Ve("p","mm","a4"),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),o=15,s=r-2*o;let a=o;const l=S=>a+S>i-o?(n.addPage(),a=o,!0):!1,u=(S,N,R=!1,_=[0,0,0])=>{n.setFontSize(N),n.setFont("helvetica",R?"bold":"normal"),n.setTextColor(_[0],_[1],_[2]);const A=n.splitTextToSize(S,s),C=A.length*N*.35;l(C+5),n.text(A,o,a),a+=C+3};n.setFillColor(45,45,45),n.rect(0,0,r,40,"F"),n.setTextColor(255,255,255),n.setFontSize(24),n.setFont("helvetica","bold"),n.text("Was bin ich?",o,20),n.setFontSize(12),n.setFont("helvetica","normal"),n.text(t.identity.name,o,30),a=50;const h=(s-10)/2,g=50;for(let S=0;S<Math.min(e.length,4);S++){const N=e[S],R=new FileReader;await new Promise(_=>{R.onload=A=>{var C;if((C=A.target)!=null&&C.result){const k=A.target.result,W=new Image;W.onload=()=>{const Q=W.width/W.height;let J=h,G=J/Q;G>g&&(G=g,J=G*Q);const B=o+S%2*(h+10),K=a+Math.floor(S/2)*(g+5);l(K-a+G+5);try{n.addImage(k,"JPEG",B,K,J,G,void 0,"FAST")}catch(P){console.log("Could not add image",P)}_()},W.src=k}else _()},R.readAsDataURL(N)})}if(a+=Math.ceil(e.length/2)*(g+5)+10,l(40),n.setFillColor(212,175,55),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Identitt",o+3,a+7),a+=15,u(`Name: ${t.identity.name}`,11,!0),u(`Kategorie: ${t.identity.category}`,10),u(`Zeitraum: ${t.identity.timePeriod}`,10),u(`Datierung: ${t.identity.creationDate}`,10),u(`Ursprnglicher Zweck: ${t.identity.originalPurpose}`,10),a+=5,t.story.deductions&&t.story.deductions.length>0&&(l(30),n.setFillColor(180,120,20),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Die Deduktion",o+3,a+7),a+=15,t.story.deductions.forEach((S,N)=>{u(`${N+1}. ${S}`,9)}),a+=5),t.story.detailHighlights&&t.story.detailHighlights.length>0&&(l(30),n.setFillColor(212,175,55),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Besondere Details",o+3,a+7),a+=15,t.story.detailHighlights.forEach(S=>{u(` ${S}`,9)}),a+=5),t.rarityScores&&(l(50),n.setFillColor(212,175,55),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Bewertung",o+3,a+7),a+=15,[{label:"Seltenheit",value:t.rarityScores.rarity},{label:"Erhaltung",value:t.rarityScores.condition},{label:"Historischer Wert",value:t.rarityScores.historicalValue}].forEach(N=>{n.setTextColor(0,0,0),n.setFontSize(10),n.setFont("helvetica","bold"),n.text(`${N.label}: ${N.value}/10`,o,a);const R=s-40,_=o+40;n.setDrawColor(200,200,200),n.rect(_,a-3,R,4),n.setFillColor(212,175,55),n.rect(_,a-3,R*N.value/10,4,"F"),a+=8}),n.setFontSize(12),n.setFont("helvetica","bold"),n.text(`Gesamtwert: ${t.rarityScores.overall.toFixed(1)}/10`,o,a),a+=10),t.modernComparison&&(l(40),n.setFillColor(128,90,150),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text(`Damals vs. Heute: ${t.modernComparison.modernName}`,o+3,a+7),a+=15,t.modernComparison.comparisons.forEach(S=>{l(20),n.setTextColor(0,0,0),n.setFontSize(10),n.setFont("helvetica","bold"),n.text(S.category,o,a),a+=5,n.setFont("helvetica","normal"),n.text(`Historisch: ${S.historical}`,o+5,a),a+=5,n.text(`Modern: ${S.modern}`,o+5,a),a+=7}),a+=5),t.socialContext||t.economicContext){if(l(50),n.setFillColor(45,125,115),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Soziale & Wirtschaftliche Dimension",o+3,a+7),a+=15,t.socialContext){if(t.socialContext.genderRole){n.setTextColor(0,0,0),n.setFontSize(10),n.setFont("helvetica","bold"),n.text("Geschlechterrollen:",o,a),a+=5,n.setFont("helvetica","normal");const S=n.splitTextToSize(t.socialContext.genderRole,s-5);n.text(S,o+5,a),a+=S.length*4+3}if(t.socialContext.socialClass){n.setTextColor(0,0,0),n.setFontSize(10),n.setFont("helvetica","bold"),n.text("Soziale Schicht:",o,a),a+=5,n.setFont("helvetica","normal");const S=n.splitTextToSize(t.socialContext.socialClass,s-5);n.text(S,o+5,a),a+=S.length*4+3}}t.economicContext&&(t.economicContext.historicalPrice&&(n.setTextColor(0,0,0),n.setFontSize(10),n.setFont("helvetica","bold"),n.text("Damaliger Preis:",o,a),a+=5,n.setFont("helvetica","normal"),n.text(t.economicContext.historicalPrice,o+5,a),a+=7),t.economicContext.modernEquivalent&&(n.setTextColor(0,0,0),n.setFontSize(10),n.setFont("helvetica","bold"),n.text("Heutige Kaufkraft:",o,a),a+=5,n.setFont("helvetica","normal"),n.text(t.economicContext.modernEquivalent,o+5,a),a+=7)),a+=5}t.visualAnalysis&&(l(50),n.setFillColor(125,70,150),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Bildanalyse & Kontext",o+3,a+7),a+=15,t.visualAnalysis.composition&&(u("Komposition & Technik:",10,!0),u(t.visualAnalysis.composition,9),a+=3),t.visualAnalysis.clothing&&(u("Kleidung & Status:",10,!0),u(t.visualAnalysis.clothing,9),a+=3),t.visualAnalysis.background&&(u("Hintergrund & Umgebung:",10,!0),u(t.visualAnalysis.background,9),a+=3),t.visualAnalysis.invisibleContext&&(u("Der unsichtbare Kontext:",10,!0),t.visualAnalysis.invisibleContext.missing&&u(`Was fehlt? ${t.visualAnalysis.invisibleContext.missing}`,9),t.visualAnalysis.invisibleContext.creator&&u(`Fotograf/Maler: ${t.visualAnalysis.invisibleContext.creator}`,9),t.visualAnalysis.invisibleContext.purpose&&u(`Zweck: ${t.visualAnalysis.invisibleContext.purpose}`,9)),t.visualAnalysis.representationChange&&(u("Darstellungswandel:",10,!0),u(t.visualAnalysis.representationChange,9)),a+=5),t.timeline&&t.timeline.length>0&&(l(50),n.setFillColor(50,80,150),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Zeitreise",o+3,a+7),a+=15,t.timeline.forEach(S=>{l(15),n.setTextColor(0,0,0),n.setFontSize(11),n.setFont("helvetica","bold"),n.text(`${S.year} - ${S.label}`,o,a),a+=5,n.setFontSize(9),n.setFont("helvetica","normal");const N=n.splitTextToSize(S.description,s-10);n.text(N,o+5,a),a+=N.length*3.5+3}),a+=5),l(40),n.setFillColor(80,80,80),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Wandel der Zeit",o+3,a+7),a+=15,u(`Status heute: ${t.evolution.modernStatus}`,10,!0),u("Historische Entwicklung:",10,!0),t.evolution.historicalChanges.forEach((S,N)=>{u(`${N+1}. ${S}`,9)}),u(`Kulturelle Bedeutung: ${t.evolution.culturalSignificance}`,10),a+=5,l(50),n.setFillColor(100,60,120),n.rect(o,a,s,10,"F"),n.setTextColor(255,255,255),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Meine Geschichte",o+3,a+7),a+=15,n.setTextColor(0,0,0),n.setFontSize(12),n.setFont("helvetica","italic");const v=n.splitTextToSize(`"${t.story.title}"`,s);if(n.text(v,o,a),a+=v.length*5+5,n.setFont("helvetica","normal"),n.setFontSize(9),n.splitTextToSize(t.story.narrative,s).forEach(S=>{l(5),n.text(S,o,a),a+=4}),a+=5,t.story.summary){l(20),n.setFillColor(245,245,220),n.setDrawColor(212,175,55),n.setLineWidth(.5),n.rect(o,a,s,15,"FD"),n.setTextColor(0,0,0),n.setFontSize(10),n.setFont("helvetica","bold"),n.text("Fazit:",o+2,a+5),a+=8,n.setFont("helvetica","italic"),n.setFontSize(9);const S=n.splitTextToSize(t.story.summary,s-4);n.text(S,o+2,a),a+=S.length*3.5+5}n.setFontSize(8),n.setTextColor(100,100,100),n.setFont("helvetica","italic"),n.text("Powered by Heimatverein Vorchdorf - Was bin ich?",o,i-10),n.save(`${t.identity.name.replace(/[^a-z0-9]/gi,"_")}_Analyse.pdf`)},PN=({milestones:t})=>!t||t.length===0?null:M.jsxs("div",{className:"mb-10 bg-gradient-to-br from-blue-900/10 to-indigo-900/10 rounded-2xl shadow-lg border-2 border-blue-700/30 p-8",children:[M.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-museum-charcoal mb-8 flex items-center gap-3",children:" Zeitreise"}),M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"absolute top-12 left-0 right-0 h-1 bg-gradient-to-r from-blue-700 via-indigo-600 to-purple-600 rounded-full"}),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 relative",children:t.map((e,n)=>M.jsxs("div",{className:"flex flex-col items-center",children:[M.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-blue-800 to-indigo-800 flex items-center justify-center text-4xl shadow-lg border-4 border-white relative z-10 hover:scale-110 transition-transform",children:e.icon}),M.jsxs("div",{className:"mt-4 text-center",children:[M.jsx("p",{className:"text-lg font-bold text-blue-900",children:e.year}),M.jsx("p",{className:"text-sm font-semibold text-museum-charcoal mt-1",children:e.label}),M.jsx("p",{className:"text-xs text-gray-600 mt-1 max-w-[120px]",children:e.description})]})]},n))})]}),M.jsx("div",{className:"md:hidden mt-8 space-y-6",children:t.map((e,n)=>M.jsxs("div",{className:"flex items-start gap-4 bg-white/60 p-4 rounded-lg border-l-4 border-blue-700",children:[M.jsx("div",{className:"text-4xl flex-shrink-0",children:e.icon}),M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-blue-900",children:e.year}),M.jsx("p",{className:"font-semibold text-museum-charcoal",children:e.label}),M.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]})]},n))})]}),xh=({label:t,value:e})=>{const n=r=>r>=8?"bg-green-500":r>=5?"bg-yellow-500":"bg-red-500";return M.jsxs("div",{className:"mb-4",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"text-sm font-semibold text-gray-700 uppercase",children:t}),M.jsxs("span",{className:"text-lg font-bold text-museum-charcoal",children:[e,"/10"]})]}),M.jsx("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:M.jsx("div",{className:`h-full ${n(e)} transition-all duration-1000 ease-out rounded-full`,style:{width:`${e/10*100}%`}})})]})},LN=({scores:t})=>t?M.jsxs("div",{className:"mb-10 bg-gradient-to-br from-amber-50 to-yellow-50 rounded-2xl shadow-lg border-2 border-museum-gold/30 p-8",children:[M.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-museum-charcoal mb-6 flex items-center gap-3",children:" Bewertung"}),M.jsxs("div",{className:"space-y-6",children:[M.jsx(xh,{label:"Seltenheit",value:t.rarity}),M.jsx(xh,{label:"Erhaltung",value:t.condition}),M.jsx(xh,{label:"Historischer Wert",value:t.historicalValue}),M.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-museum-gold/20 to-amber-400/20 rounded-xl border-2 border-museum-gold/50",children:M.jsxs("div",{className:"flex justify-between items-center",children:[M.jsx("span",{className:"text-lg font-bold text-museum-charcoal uppercase",children:"Gesamtwert"}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("span",{className:"text-3xl font-bold text-museum-gold",children:t.overall.toFixed(1)}),M.jsx("span",{className:"text-xl text-gray-600",children:"/10"}),M.jsx("div",{className:"flex gap-1 ml-2",children:[...Array(Math.floor(t.overall/2))].map((e,n)=>M.jsx("span",{className:"text-2xl",children:""},n))})]})]})})]})]}):null,RN=({comparison:t,historicalName:e})=>!t||!t.comparisons||t.comparisons.length===0?null:M.jsxs("div",{className:"mb-10 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl shadow-lg border-2 border-purple-300/40 overflow-hidden",children:[M.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-pink-600 text-white p-6 text-center",children:[M.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-bold mb-2",children:"Damals vs. Heute"}),M.jsx("p",{className:"text-purple-100 text-sm",children:"Wie hat sich die Welt verndert?"})]}),M.jsxs("div",{className:"p-8",children:[M.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[M.jsx("div",{className:"text-center",children:M.jsxs("div",{className:"bg-amber-100 border-2 border-amber-700 rounded-lg p-4",children:[M.jsx("p",{className:"font-bold text-amber-900 text-lg",children:e}),M.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Historisch"})]})}),M.jsx("div",{className:"flex items-center justify-center",children:M.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"VS"})}),M.jsx("div",{className:"text-center",children:M.jsxs("div",{className:"bg-blue-100 border-2 border-blue-700 rounded-lg p-4",children:[M.jsx("p",{className:"font-bold text-blue-900 text-lg",children:t.modernName}),M.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Modern"})]})})]}),M.jsx("div",{className:"space-y-4",children:t.comparisons.map((n,r)=>M.jsxs("div",{className:"bg-white/80 rounded-xl border border-purple-200 overflow-hidden",children:[M.jsx("div",{className:"bg-purple-100 px-4 py-2 border-b border-purple-200",children:M.jsxs("p",{className:"font-semibold text-purple-900 flex items-center gap-2",children:[M.jsx("span",{className:"text-xl",children:n.icon}),n.category]})}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 divide-y md:divide-y-0 md:divide-x divide-purple-200",children:[M.jsx("div",{className:"p-4 bg-amber-50/50",children:M.jsx("p",{className:"text-museum-charcoal",children:n.historical})}),M.jsx("div",{className:"p-4 bg-blue-50/50",children:M.jsx("p",{className:"text-museum-charcoal",children:n.modern})})]})]},r))})]})]}),MN=({socialContext:t,economicContext:e})=>!t&&!e?null:M.jsxs("div",{className:"mb-10 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-2xl shadow-lg border-2 border-teal-600/30 p-8",children:[M.jsxs("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-museum-charcoal mb-6 flex items-center gap-3",children:[M.jsx(mp,{className:"text-teal-600",size:32}),"Soziale & Wirtschaftliche Dimension"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t&&M.jsxs("div",{className:"bg-white/60 rounded-xl p-6 border border-teal-200",children:[M.jsxs("h3",{className:"text-lg font-bold text-teal-800 mb-4 flex items-center gap-2",children:[M.jsx(mp,{size:20}),"Soziale Aspekte"]}),t.genderRole&&M.jsxs("div",{className:"mb-4",children:[M.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Geschlechterrollen"}),M.jsx("p",{className:"text-museum-charcoal",children:t.genderRole})]}),t.socialClass&&M.jsxs("div",{children:[M.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Soziale Schicht"}),M.jsx("p",{className:"text-museum-charcoal",children:t.socialClass})]})]}),e&&M.jsxs("div",{className:"bg-white/60 rounded-xl p-6 border border-teal-200",children:[M.jsxs("h3",{className:"text-lg font-bold text-teal-800 mb-4 flex items-center gap-2",children:[M.jsx(b3,{size:20}),"Wirtschaftliche Aspekte"]}),e.historicalPrice&&M.jsxs("div",{className:"mb-4",children:[M.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Damaliger Preis"}),M.jsx("p",{className:"text-museum-charcoal font-medium",children:e.historicalPrice})]}),e.modernEquivalent&&M.jsxs("div",{className:"flex items-start gap-2",children:[M.jsx(By,{className:"text-teal-600 mt-1",size:16}),M.jsxs("div",{children:[M.jsx("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1",children:"Heutige Kaufkraft"}),M.jsx("p",{className:"text-museum-charcoal font-medium",children:e.modernEquivalent})]})]})]})]}),M.jsxs("div",{className:"mt-6 flex items-start gap-3 p-4 bg-teal-100/50 rounded-lg border border-teal-300",children:[M.jsx(Dy,{className:"text-teal-700 flex-shrink-0 mt-0.5",size:18}),M.jsx("p",{className:"text-sm text-gray-700 italic",children:"Diese Informationen basieren auf historischen Dokumenten und allgemeinem Wissen der Zeit."})]})]}),FN=({visualAnalysis:t})=>t?M.jsxs("div",{className:"mb-10 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl shadow-lg border-2 border-purple-600/30 p-8",children:[M.jsxs("h2",{className:"text-2xl md:text-3xl font-serif font-bold text-museum-charcoal mb-6 flex items-center gap-3",children:[M.jsx(I3,{className:"text-purple-600",size:32}),"Bildanalyse & Kontext"]}),M.jsxs("div",{className:"space-y-6",children:[t.composition&&M.jsxs("div",{className:"bg-white/60 rounded-xl p-6 border border-purple-200",children:[M.jsxs("h3",{className:"text-lg font-bold text-purple-800 mb-3 flex items-center gap-2",children:[M.jsx(Fy,{size:20}),"Komposition & Technik"]}),M.jsx("p",{className:"text-museum-charcoal leading-relaxed",children:t.composition})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.clothing&&M.jsxs("div",{className:"bg-white/60 rounded-xl p-6 border border-purple-200",children:[M.jsx("h3",{className:"text-lg font-bold text-purple-800 mb-3 flex items-center gap-2",children:" Kleidung & Status"}),M.jsx("p",{className:"text-museum-charcoal",children:t.clothing})]}),t.background&&M.jsxs("div",{className:"bg-white/60 rounded-xl p-6 border border-purple-200",children:[M.jsx("h3",{className:"text-lg font-bold text-purple-800 mb-3 flex items-center gap-2",children:" Hintergrund & Umgebung"}),M.jsx("p",{className:"text-museum-charcoal",children:t.background})]})]}),t.invisibleContext&&M.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl p-6 border-2 border-amber-400/50",children:[M.jsxs("h3",{className:"text-lg font-bold text-amber-900 mb-4 flex items-center gap-2",children:[M.jsx(M3,{className:"text-amber-600",size:22}),"Der unsichtbare Kontext"]}),M.jsxs("div",{className:"space-y-4",children:[t.invisibleContext.missing&&M.jsxs("div",{children:[M.jsx("p",{className:"text-xs font-semibold text-amber-700 uppercase mb-1",children:" Was fehlt im Bild?"}),M.jsx("p",{className:"text-gray-800",children:t.invisibleContext.missing})]}),t.invisibleContext.creator&&M.jsxs("div",{children:[M.jsx("p",{className:"text-xs font-semibold text-amber-700 uppercase mb-1",children:" Wer stand hinter der Kamera/dem Pinsel?"}),M.jsx("p",{className:"text-gray-800",children:t.invisibleContext.creator})]}),t.invisibleContext.purpose&&M.jsxs("div",{children:[M.jsx("p",{className:"text-xs font-semibold text-amber-700 uppercase mb-1",children:" Zweck des Bildes"}),M.jsx("p",{className:"text-gray-800",children:t.invisibleContext.purpose})]})]})]}),t.representationChange&&M.jsxs("div",{className:"bg-white/60 rounded-xl p-6 border-2 border-purple-300",children:[M.jsxs("h3",{className:"text-lg font-bold text-purple-800 mb-3 flex items-center gap-2",children:[M.jsx(S3,{className:"text-purple-600",size:20}),"Darstellungswandel im Zeitkontext"]}),M.jsx("p",{className:"text-museum-charcoal italic leading-relaxed",children:t.representationChange})]}),M.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-100/50 rounded-lg border border-purple-300",children:[M.jsx(Dy,{className:"text-purple-700 flex-shrink-0 mt-0.5",size:18}),M.jsx("p",{className:"text-sm text-gray-700 italic",children:"Diese Analyse basiert auf visuellen Elementen und historischem Kontext des Bildes."})]})]})]}):null,DN=({analysis:t,images:e,onReset:n})=>{const r=e.map(s=>URL.createObjectURL(s)),i=()=>{const s=`Was bin ich? - ${t.identity.name}`,a=encodeURIComponent(`ARTEFAKT-ANALYSE

${t.identity.name}

Meine Geschichte:
${t.story.narrative}

---
Powered by Heimatverein Vorchdorf`);window.location.href=`mailto:?subject=${encodeURIComponent(s)}&body=${a}`},o=async()=>{try{await kN(t,e)}catch(s){console.error("PDF generation failed:",s),alert("PDF konnte nicht erstellt werden. Bitte versuchen Sie es erneut.")}};return M.jsxs("div",{className:"w-full max-w-6xl mx-auto px-4 py-8",children:[M.jsxs("div",{className:"flex items-center justify-between mb-8",children:[M.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-700 hover:text-museum-charcoal",children:[M.jsx(x3,{size:20}),M.jsx("span",{className:"font-semibold",children:"Neues Artefakt"})]}),M.jsxs("div",{className:"flex gap-3",children:[M.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-museum-charcoal text-white rounded-lg hover:bg-museum-charcoal/90",children:[M.jsx(P3,{size:18}),M.jsx("span",{className:"hidden sm:inline",children:"Per E-Mail"})]}),M.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-museum-gold text-white rounded-lg hover:bg-museum-gold/90",children:[M.jsx(k3,{size:18}),M.jsx("span",{className:"hidden sm:inline",children:"Als PDF"})]})]})]}),M.jsx("div",{className:"mb-8 grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map((s,a)=>M.jsx("img",{src:s,alt:`Bild ${a+1}`,className:"w-full h-64 object-contain bg-gray-100 rounded-lg border-2 border-museum-stone/20"},a))}),M.jsxs("div",{className:"mb-10 bg-white rounded-2xl shadow-lg border-2 border-museum-gold/30 overflow-hidden",children:[M.jsx("div",{className:"bg-gradient-to-r from-museum-charcoal to-museum-stone text-white p-6",children:M.jsxs("h2",{className:"text-3xl font-serif font-bold flex items-center gap-3",children:[M.jsx(A3,{className:"text-museum-gold",size:32}),"Wer oder was bin ich?"]})}),M.jsxs("div",{className:"p-8",children:[M.jsx("div",{className:"inline-block px-4 py-2 bg-museum-gold/10 border border-museum-gold/30 rounded-full mb-4",children:M.jsx("span",{className:"text-museum-charcoal font-bold text-sm uppercase",children:t.identity.category})}),M.jsx("h3",{className:"text-4xl font-serif font-bold text-museum-charcoal mb-6",children:t.identity.name}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M.jsxs("div",{className:"flex items-start gap-3",children:[M.jsx(N3,{className:"text-museum-gold mt-1",size:20}),M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-gray-700 font-semibold uppercase",children:"Zeitraum"}),M.jsx("p",{className:"text-museum-charcoal font-medium",children:t.identity.timePeriod}),M.jsx("p",{className:"text-sm text-gray-700",children:t.identity.creationDate})]})]}),M.jsxs("div",{className:"flex items-start gap-3",children:[M.jsx(R3,{className:"text-museum-gold mt-1",size:20}),M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-gray-700 font-semibold uppercase",children:"Ursprnglicher Zweck"}),M.jsx("p",{className:"text-museum-charcoal font-medium",children:t.identity.originalPurpose})]})]})]})]})]}),t.story.deductions&&t.story.deductions.length>0&&M.jsxs("div",{className:"mb-10 bg-gradient-to-br from-amber-900/10 to-yellow-900/10 rounded-2xl shadow-lg border-2 border-amber-700/30",children:[M.jsxs("div",{className:"bg-gradient-to-r from-amber-900 to-amber-800 text-white p-6",children:[M.jsx("h2",{className:"text-2xl font-serif font-bold flex items-center gap-3",children:" Die Deduktion"}),M.jsx("p",{className:"text-amber-100 text-sm mt-1",children:"Wie ich zur Identifikation kam..."})]}),M.jsx("div",{className:"p-8",children:M.jsx("div",{className:"space-y-4",children:t.story.deductions.map((s,a)=>M.jsx("div",{className:"flex items-start gap-4 p-4 bg-white/60 rounded-lg border-l-4 border-amber-700",children:M.jsx("p",{className:"text-museum-charcoal pt-2 leading-relaxed",children:s})},a))})})]}),t.story.detailHighlights&&t.story.detailHighlights.length>0&&M.jsxs("div",{className:"mb-10 bg-white rounded-2xl shadow-lg border-2 border-museum-gold/20 p-8",children:[M.jsxs("h3",{className:"text-2xl font-serif font-bold text-museum-charcoal mb-6 flex items-center gap-3",children:[M.jsx(Uy,{className:"text-museum-gold",size:28}),"Besondere Details"]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.story.detailHighlights.map((s,a)=>M.jsxs("div",{className:"flex items-start gap-3 p-4 bg-museum-paper rounded-lg border border-museum-stone/20",children:[M.jsx("span",{className:"text-museum-gold text-2xl",children:""}),M.jsx("p",{className:"text-museum-charcoal pt-1",children:s})]},a))})]}),t.rarityScores&&M.jsx(LN,{scores:t.rarityScores}),t.modernComparison&&M.jsx(RN,{comparison:t.modernComparison,historicalName:t.identity.name}),M.jsx(MN,{socialContext:t.socialContext,economicContext:t.economicContext}),t.visualAnalysis&&M.jsx(FN,{visualAnalysis:t.visualAnalysis}),M.jsxs("div",{className:"mb-10 bg-white rounded-2xl shadow-lg border-2 border-museum-stone/20 overflow-hidden",children:[M.jsx("div",{className:"bg-museum-stone text-white p-6",children:M.jsxs("h2",{className:"text-2xl font-serif font-bold flex items-center gap-3",children:[M.jsx(T3,{size:28}),"Wandel der Zeit"]})}),M.jsxs("div",{className:"p-8",children:[M.jsx("div",{className:"mb-6",children:M.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-green-100 text-green-800 border border-green-300",children:[M.jsx(By,{size:18}),M.jsxs("span",{className:"font-bold",children:["Heute: ",t.evolution.modernStatus]})]})}),M.jsx("p",{className:"text-sm text-gray-700 font-semibold uppercase mb-4",children:"Historische Entwicklung"}),t.evolution.historicalChanges.map((s,a)=>M.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[M.jsx("div",{className:"w-8 h-8 rounded-full bg-museum-gold/20 flex items-center justify-center",children:M.jsx("span",{className:"text-museum-charcoal font-bold text-sm",children:a+1})}),M.jsx("p",{className:"text-museum-charcoal pt-1",children:s})]},a)),M.jsxs("div",{className:"mt-6 flex items-start gap-3 p-4 bg-museum-paper rounded-lg border border-museum-stone/20",children:[M.jsx(mp,{className:"text-museum-gold mt-1",size:20}),M.jsxs("div",{children:[M.jsx("p",{className:"text-sm text-gray-700 font-semibold uppercase mb-2",children:"K ulturelle Bedeutung"}),M.jsx("p",{className:"text-museum-charcoal",children:t.evolution.culturalSignificance})]})]})]})]}),t.timeline&&M.jsx(PN,{milestones:t.timeline}),M.jsxs("div",{className:"mb-10 bg-gradient-to-br from-purple-900/10 to-indigo-900/10 rounded-2xl shadow-lg border-2 border-purple-700/30 overflow-hidden",children:[M.jsx("div",{className:"bg-gradient-to-r from-purple-900 to-indigo-900 text-white p-6",children:M.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[M.jsx(L3,{className:"text-purple-300",size:32}),M.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold italic",children:"Meine Geschichte"})]})}),M.jsxs("div",{className:"p-8 md:p-12",children:[M.jsxs("h3",{className:"text-2xl md:text-3xl font-serif font-bold text-museum-charcoal mb-6 text-center",children:['"',t.story.title,'"']}),M.jsx("div",{className:"pl-6 border-l-4 border-museum-gold",children:M.jsx("p",{className:"text-museum-charcoal leading-relaxed text-lg whitespace-pre-line",children:t.story.narrative})}),t.story.summary&&M.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-br from-museum-gold/10 to-amber-100/10 rounded-xl border-2 border-museum-gold/40",children:[M.jsxs("p",{className:"text-sm text-gray-700 font-semibold uppercase mb-3 flex items-center gap-2",children:[M.jsx("span",{className:"text-museum-gold text-xl",children:""})," Fazit"]}),M.jsx("p",{className:"text-museum-charcoal leading-relaxed italic",children:t.story.summary})]})]})]}),M.jsx("div",{className:"text-center py-6 border-t border-museum-stone/20",children:M.jsxs("p",{className:"text-gray-700 text-sm",children:["Powered by ",M.jsx("span",{className:"font-semibold text-museum-charcoal",children:"Heimatverein Vorchdorf"})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let UN,BN;function qN(){return{geminiUrl:UN,vertexUrl:BN}}function ON(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=qN();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fo{}function ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function d(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const h=l[u];d(h,e.slice(o+1),n[u])}else for(const u of l)d(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];d(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function c(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>c(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function zN(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Tp(t,i,o,0,s)}}function Tp(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])Tp(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,h]of Object.entries(l)){const g=[];for(const v of n.slice(r))v==="*"?g.push(u):g.push(v);d(s,g,h)}for(const u of a)delete s[u]}}else{const s=t;o in s&&Tp(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fm(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HN(t){const e={},n=c(t,["operationName"]);n!=null&&d(e,["operationName"],n);const r=c(t,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function VN(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response","generateVideoResponse"]);return s!=null&&d(e,["response"],WN(s)),e}function GN(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response"]);return s!=null&&d(e,["response"],$N(s)),e}function WN(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>JN(s))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function $N(t){const e={},n=c(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>KN(s))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function JN(t){const e={},n=c(t,["video"]);return n!=null&&d(e,["video"],eC(n)),e}function KN(t){const e={},n=c(t,["_self"]);return n!=null&&d(e,["video"],tC(n)),e}function YN(t){const e={},n=c(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function jN(t){const e={},n=c(t,["operationName"]);return n!=null&&d(e,["_url","operationName"],n),e}function XN(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response"]);return s!=null&&d(e,["response"],ZN(s)),e}function ZN(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function Pw(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response"]);return s!=null&&d(e,["response"],QN(s)),e}function QN(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function eC(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["uri"],n);const r=c(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],Fm(r));const i=c(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function tC(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],Fm(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(jg||(jg={}));var Xg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Xg||(Xg={}));var Zg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Zg||(Zg={}));var Oo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Oo||(Oo={}));var Qg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Qg||(Qg={}));var e2;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(e2||(e2={}));var t2;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(t2||(t2={}));var n2;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(n2||(n2={}));var r2;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(r2||(r2={}));var i2;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(i2||(i2={}));var o2;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(o2||(o2={}));var s2;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(s2||(s2={}));var a2;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(a2||(a2={}));var l2;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(l2||(l2={}));var u2;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(u2||(u2={}));var c2;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(c2||(c2={}));var f2;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(f2||(f2={}));var d2;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(d2||(d2={}));var h2;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(h2||(h2={}));var Af;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Af||(Af={}));var p2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(p2||(p2={}));var m2;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(m2||(m2={}));var g2;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(g2||(g2={}));var bp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bp||(bp={}));var v2;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(v2||(v2={}));var y2;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(y2||(y2={}));var w2;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(w2||(w2={}));var _2;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(_2||(_2={}));var x2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(x2||(x2={}));var S2;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(S2||(S2={}));var A2;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(A2||(A2={}));var N2;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(N2||(N2={}));var C2;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(C2||(C2={}));var E2;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(E2||(E2={}));var T2;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(T2||(T2={}));var b2;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(b2||(b2={}));var I2;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(I2||(I2={}));var k2;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(k2||(k2={}));var P2;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(P2||(P2={}));var L2;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(L2||(L2={}));var R2;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(R2||(R2={}));var M2;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(M2||(M2={}));var F2;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(F2||(F2={}));var D2;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(D2||(D2={}));var U2;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(U2||(U2={}));var B2;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(B2||(B2={}));var q2;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(q2||(q2={}));var O2;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(O2||(O2={}));var z2;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(z2||(z2={}));var H2;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(H2||(H2={}));var V2;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(V2||(V2={}));var G2;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(G2||(G2={}));var W2;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(W2||(W2={}));var $2;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})($2||($2={}));var _a;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_a||(_a={}));class Ip{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ll{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",h=!1;const g=[];for(const v of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[m,S]of Object.entries(v))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(S!==null||S!==void 0)&&g.push(m);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,u+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const h=[];for(const g of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[v,m]of Object.entries(g))v!=="inlineData"&&(m!==null||m!==void 0)&&h.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(u+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(u=h==null?void 0:h[0])===null||u===void 0?void 0:u.output}}class J2{}class K2{}class nC{}class rC{}class iC{}class oC{}class Y2{}class j2{}class X2{}class sC{}class Nf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Nf;let i;const o=e;return n?i=GN(o):i=VN(o),Object.assign(r,i),r}}class Z2{}class Q2{}class e5{}class aC{}class lC{}class uC{}class Dm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Dm,o=XN(e);return Object.assign(r,o),r}}class cC{}class fC{}class dC{}class t5{}class hC{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class pC{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Um{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Um,o=Pw(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ct(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Lw(t,e){const n=Ct(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Rw(t){return Array.isArray(t)?t.map(e=>Cf(e)):[Cf(t)]}function Cf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Mw(t){const e=Cf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Fw(t){const e=Cf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n5(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Dw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>n5(e)):[n5(t)]}function kp(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function r5(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function i5(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Xn(t){if(t==null)throw new Error("ContentUnion is required");return kp(t)?t:{role:"user",parts:Dw(t)}}function Bm(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Xn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Xn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Xn(n)):[Xn(e)]}function Wr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(r5(t)||i5(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xn(t)]}const e=[],n=[],r=kp(t[0]);for(const i of t){const o=kp(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(r5(i)||i5(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Dw(n)}),e}function mC(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Oo).includes(n[0].toUpperCase())?n[0].toUpperCase():Oo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Oo).includes(r.toUpperCase())?r.toUpperCase():Oo.TYPE_UNSPECIFIED})}}function Pa(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&mC(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Oo).includes(a.toUpperCase())?a.toUpperCase():Oo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Pa(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(Pa(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,h]of Object.entries(a))l[u]=Pa(h);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function qm(t){return Pa(t)}function Om(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function zm(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Wa(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Pa(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Pa(e.response));return t}function $a(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function gC(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ho(t,e){if(typeof e!="string")throw new Error("name must be a string");return gC(t,e,"cachedContents")}function Uw(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ts(t){return Fm(t)}function vC(t){return t!=null&&typeof t=="object"&&"name"in t}function yC(t){return t!=null&&typeof t=="object"&&"video"in t}function wC(t){return t!=null&&typeof t=="object"&&"uri"in t}function Bw(t){var e;let n;if(vC(t)&&(n=t.name),!(wC(t)&&(n=t.uri,n===void 0))&&!(yC(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qw(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ow(t){for(const e of["models","tunedModels","publisherModels"])if(_C(t,e))return t[e];return[]}function _C(t,e){return t!==null&&typeof t=="object"&&e in t}function xC(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function SC(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=xC(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function zw(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function AC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Hw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ja(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Vw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(t){const e={},n=c(t,["responsesFile"]);n!=null&&d(e,["fileName"],n);const r=c(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>iE(s))),d(e,["inlinedResponses"],o)}const i=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["inlinedEmbedContentResponses"],o)}return e}function CC(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&d(e,["format"],n);const r=c(t,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const i=c(t,["bigqueryDestination","outputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function EC(t){const e={},n=c(t,["format"]);n!=null&&d(e,["predictionsFormat"],n);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&d(e,["bigqueryDestination","outputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function $c(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["metadata","state"]);i!=null&&d(e,["state"],Vw(i));const o=c(t,["metadata","createTime"]);o!=null&&d(e,["createTime"],o);const s=c(t,["metadata","endTime"]);s!=null&&d(e,["endTime"],s);const a=c(t,["metadata","updateTime"]);a!=null&&d(e,["updateTime"],a);const l=c(t,["metadata","model"]);l!=null&&d(e,["model"],l);const u=c(t,["metadata","output"]);return u!=null&&d(e,["dest"],NC(Hw(u))),e}function Pp(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["state"]);i!=null&&d(e,["state"],Vw(i));const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["createTime"]);s!=null&&d(e,["createTime"],s);const a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const l=c(t,["endTime"]);l!=null&&d(e,["endTime"],l);const u=c(t,["updateTime"]);u!=null&&d(e,["updateTime"],u);const h=c(t,["model"]);h!=null&&d(e,["model"],h);const g=c(t,["inputConfig"]);g!=null&&d(e,["src"],TC(g));const v=c(t,["outputConfig"]);v!=null&&d(e,["dest"],CC(Hw(v)));const m=c(t,["completionStats"]);return m!=null&&d(e,["completionStats"],m),e}function TC(t){const e={},n=c(t,["instancesFormat"]);n!=null&&d(e,["format"],n);const r=c(t,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const i=c(t,["bigquerySource","inputUri"]);return i!=null&&d(e,["bigqueryUri"],i),e}function bC(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(e,["fileName"]);r!=null&&d(n,["fileName"],r);const i=c(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>rE(t,s))),d(n,["requests","requests"],o)}return n}function IC(t){const e={},n=c(t,["format"]);n!=null&&d(e,["instancesFormat"],n);const r=c(t,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const i=c(t,["bigqueryUri"]);if(i!=null&&d(e,["bigquerySource","inputUri"],i),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function kC(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function PC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ja(t,r)),n}function LC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ja(t,r)),n}function RC(t){const e={},n=c(t,["content"]);n!=null&&d(e,["content"],n);const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],MC(r));const i=c(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const s=c(t,["avgLogprobs"]);s!=null&&d(e,["avgLogprobs"],s);const a=c(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const l=c(t,["index"]);l!=null&&d(e,["index"],l);const u=c(t,["logprobsResult"]);u!=null&&d(e,["logprobsResult"],u);const h=c(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(m=>m)),d(e,["safetyRatings"],v)}const g=c(t,["urlContextMetadata"]);return g!=null&&d(e,["urlContextMetadata"],g),e}function MC(t){const e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function Gw(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fE(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function FC(t,e){const n={},r=c(t,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function DC(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["dest"]);return e!==void 0&&i!=null&&d(e,["outputConfig"],EC(AC(i))),n}function o5(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["src"]);i!=null&&d(n,["batch","inputConfig"],bC(t,zw(t,i)));const o=c(e,["config"]);return o!=null&&FC(o,n),n}function UC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],Ct(t,r));const i=c(e,["src"]);i!=null&&d(n,["inputConfig"],IC(zw(t,i)));const o=c(e,["config"]);return o!=null&&DC(o,n),n}function BC(t,e){const n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),n}function qC(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["src"]);i!=null&&d(n,["batch","inputConfig"],$C(t,i));const o=c(e,["config"]);return o!=null&&BC(o,n),n}function OC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ja(t,r)),n}function zC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ja(t,r)),n}function HC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);return o!=null&&d(e,["error"],o),e}function VC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);return o!=null&&d(e,["error"],o),e}function GC(t,e){const n={},r=c(e,["contents"]);if(r!=null){let o=Bm(t,r);Array.isArray(o)&&(o=o.map(s=>s)),d(n,["requests[]","request","content"],o)}const i=c(e,["config"]);return i!=null&&(d(n,["_self"],WC(i,n)),zN(n,{"requests[].*":"requests[].request.*"})),n}function WC(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const o=c(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&d(e,["requests[]","outputDimensionality"],o),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function $C(t,e){const n={},r=c(e,["fileName"]);r!=null&&d(n,["file_name"],r);const i=c(e,["inlinedRequests"]);return i!=null&&d(n,["requests"],GC(t,i)),n}function JC(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function KC(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function YC(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jC(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],Gw(Xn(i)));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=c(e,["topP"]);s!=null&&d(r,["topP"],s);const a=c(e,["topK"]);a!=null&&d(r,["topK"],a);const l=c(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const u=c(e,["maxOutputTokens"]);u!=null&&d(r,["maxOutputTokens"],u);const h=c(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const g=c(e,["responseLogprobs"]);g!=null&&d(r,["responseLogprobs"],g);const v=c(e,["logprobs"]);v!=null&&d(r,["logprobs"],v);const m=c(e,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const S=c(e,["frequencyPenalty"]);S!=null&&d(r,["frequencyPenalty"],S);const N=c(e,["seed"]);N!=null&&d(r,["seed"],N);const R=c(e,["responseMimeType"]);R!=null&&d(r,["responseMimeType"],R);const _=c(e,["responseSchema"]);_!=null&&d(r,["responseSchema"],qm(_));const A=c(e,["responseJsonSchema"]);if(A!=null&&d(r,["responseJsonSchema"],A),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=c(e,["safetySettings"]);if(n!==void 0&&C!=null){let D=C;Array.isArray(D)&&(D=D.map(Y=>dE(Y))),d(n,["safetySettings"],D)}const k=c(e,["tools"]);if(n!==void 0&&k!=null){let D=$a(k);Array.isArray(D)&&(D=D.map(Y=>pE(Wa(Y)))),d(n,["tools"],D)}const W=c(e,["toolConfig"]);if(n!==void 0&&W!=null&&d(n,["toolConfig"],hE(W)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=c(e,["cachedContent"]);n!==void 0&&Q!=null&&d(n,["cachedContent"],ho(t,Q));const J=c(e,["responseModalities"]);J!=null&&d(r,["responseModalities"],J);const G=c(e,["mediaResolution"]);G!=null&&d(r,["mediaResolution"],G);const B=c(e,["speechConfig"]);if(B!=null&&d(r,["speechConfig"],Om(B)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=c(e,["thinkingConfig"]);K!=null&&d(r,["thinkingConfig"],K);const P=c(e,["imageConfig"]);return P!=null&&d(r,["imageConfig"],nE(P)),r}function XC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>RC(u))),d(e,["candidates"],l)}const i=c(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const s=c(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=c(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function ZC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ja(t,r)),n}function QC(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],Ja(t,r)),n}function eE(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function tE(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function nE(t){const e={},n=c(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=c(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function rE(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["request","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let a=Wr(i);Array.isArray(a)&&(a=a.map(l=>Gw(l))),d(n,["request","contents"],a)}const o=c(e,["metadata"]);o!=null&&d(n,["metadata"],o);const s=c(e,["config"]);return s!=null&&d(n,["request","generationConfig"],jC(t,s,c(n,["request"],{}))),n}function iE(t){const e={},n=c(t,["response"]);n!=null&&d(e,["response"],XC(n));const r=c(t,["error"]);return r!=null&&d(e,["error"],r),e}function oE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);if(e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function sE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);e!==void 0&&i!=null&&d(e,["_query","pageToken"],i);const o=c(t,["filter"]);return e!==void 0&&o!=null&&d(e,["_query","filter"],o),n}function aE(t){const e={},n=c(t,["config"]);return n!=null&&oE(n,e),e}function lE(t){const e={},n=c(t,["config"]);return n!=null&&sE(n,e),e}function uE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>$c(s))),d(e,["batchJobs"],o)}return e}function cE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Pp(s))),d(e,["batchJobs"],o)}return e}function fE(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],JC(o));const s=c(t,["functionCall"]);s!=null&&d(e,["functionCall"],KC(s));const a=c(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=c(t,["inlineData"]);l!=null&&d(e,["inlineData"],kC(l));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const h=c(t,["thought"]);h!=null&&d(e,["thought"],h);const g=c(t,["thoughtSignature"]);g!=null&&d(e,["thoughtSignature"],g);const v=c(t,["videoMetadata"]);return v!=null&&d(e,["videoMetadata"],v),e}function dE(t){const e={},n=c(t,["category"]);if(n!=null&&d(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function hE(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],YC(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function pE(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["functionDeclarations"],h)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=c(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],eE(a));const l=c(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],tE(l));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uo;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(uo||(uo={}));class zs{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mE extends fo{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new zs(uo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=o5(this.apiClient,e),r=n._url,i=ke("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const h of l){const g=Object.assign({},h);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const m=g.request;m.systemInstruction=v,g.request=m}u.push(g)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UC(this.apiClient,e);return a=ke("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Pp(h))}else{const u=o5(this.apiClient,e);return a=ke("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>$c(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qC(this.apiClient,e);return o=ke("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>$c(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=QC(this.apiClient,e);return a=ke("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Pp(h))}else{const u=ZC(this.apiClient,e);return a=ke("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>$c(h))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=LC(this.apiClient,e);s=ke("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=PC(this.apiClient,e);s=ke("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=lE(e);return a=ke("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=cE(h),v=new t5;return Object.assign(v,g),v})}else{const u=aE(e);return a=ke("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=uE(h),v=new t5;return Object.assign(v,g),v})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=zC(this.apiClient,e);return a=ke("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>VC(h))}else{const u=OC(this.apiClient,e);return a=ke("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>HC(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function s5(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qE(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function vE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const s=c(t,["contents"]);if(e!==void 0&&s!=null){let h=Wr(s);Array.isArray(h)&&(h=h.map(g=>s5(g))),d(e,["contents"],h)}const a=c(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],s5(Xn(a)));const l=c(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>zE(g))),d(e,["tools"],h)}const u=c(t,["toolConfig"]);if(e!==void 0&&u!=null&&d(e,["toolConfig"],OE(u)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function yE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);e!==void 0&&i!=null&&d(e,["expireTime"],i);const o=c(t,["displayName"]);e!==void 0&&o!=null&&d(e,["displayName"],o);const s=c(t,["contents"]);if(e!==void 0&&s!=null){let g=Wr(s);Array.isArray(g)&&(g=g.map(v=>v)),d(e,["contents"],g)}const a=c(t,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],Xn(a));const l=c(t,["tools"]);if(e!==void 0&&l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>HE(v))),d(e,["tools"],g)}const u=c(t,["toolConfig"]);e!==void 0&&u!=null&&d(e,["toolConfig"],u);const h=c(t,["kmsKeyName"]);return e!==void 0&&h!=null&&d(e,["encryption_spec","kmsKeyName"],h),n}function wE(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],Lw(t,r));const i=c(e,["config"]);return i!=null&&vE(i,n),n}function _E(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["model"],Lw(t,r));const i=c(e,["config"]);return i!=null&&yE(i,n),n}function xE(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],ho(t,r)),n}function SE(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],ho(t,r)),n}function AE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function NE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function CE(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function EE(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TE(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bE(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=c(t,["response"]);s!=null&&d(e,["response"],s);const a=c(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function IE(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],ho(t,r)),n}function kE(t,e){const n={},r=c(e,["name"]);return r!=null&&d(n,["_url","name"],ho(t,r)),n}function PE(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function LE(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function RE(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function ME(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function FE(t){const e={},n=c(t,["config"]);return n!=null&&RE(n,e),e}function DE(t){const e={},n=c(t,["config"]);return n!=null&&ME(n,e),e}function UE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["cachedContents"],o)}return e}function BE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["cachedContents"],o)}return e}function qE(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],CE(o));const s=c(t,["functionCall"]);s!=null&&d(e,["functionCall"],EE(s));const a=c(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=c(t,["inlineData"]);l!=null&&d(e,["inlineData"],gE(l));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const h=c(t,["thought"]);h!=null&&d(e,["thought"],h);const g=c(t,["thoughtSignature"]);g!=null&&d(e,["thoughtSignature"],g);const v=c(t,["videoMetadata"]);return v!=null&&d(e,["videoMetadata"],v),e}function OE(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],TE(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function zE(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["functionDeclarations"],h)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=c(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],PE(a));const l=c(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],LE(l));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}function HE(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>bE(v))),d(e,["functionDeclarations"],g)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=c(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=c(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const u=c(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],u);const h=c(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function VE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function GE(t,e){const n={},r=c(t,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const i=c(t,["expireTime"]);return e!==void 0&&i!=null&&d(e,["expireTime"],i),n}function WE(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ho(t,r));const i=c(e,["config"]);return i!=null&&VE(i,n),n}function $E(t,e){const n={},r=c(e,["name"]);r!=null&&d(n,["_url","name"],ho(t,r));const i=c(e,["config"]);return i!=null&&GE(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JE extends fo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zs(uo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_E(this.apiClient,e);return a=ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=wE(this.apiClient,e);return a=ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kE(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=IE(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=SE(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=NE(h),v=new Q2;return Object.assign(v,g),v})}else{const u=xE(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=AE(h),v=new Q2;return Object.assign(v,g),v})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$E(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const u=WE(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DE(e);return a=ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=BE(h),v=new e5;return Object.assign(v,g),v})}else{const u=FE(e);return a=ke("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=UE(h),v=new e5;return Object.assign(v,g),v})}}}function a5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(t){return this instanceof Vt?(this.v=t,this):new Vt(t)}function La(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(S){return Promise.resolve(S).then(m,g)}}function a(m,S){r[m]&&(i[m]=function(N){return new Promise(function(R,_){o.push([m,N,R,_])>1||l(m,N)})},S&&(i[m]=S(i[m])))}function l(m,S){try{u(r[m](S))}catch(N){v(o[0][3],N)}}function u(m){m.value instanceof Vt?Promise.resolve(m.value.v).then(h,g):v(o[0][2],m)}function h(m){l("next",m)}function g(m){l("throw",m)}function v(m,S){m(S),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Kl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof a5=="function"?a5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Ww(n)}function Ww(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function YE(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function l5(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!Ww(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class jE{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new XE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class XE{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),YE(o)}async sendMessage(e){var n;await this.sendPromise;const r=Xn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=l.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];h!=null&&(v=(a=h.slice(g))!==null&&a!==void 0?a:[]);const m=u?[u]:[];this.recordHistory(r,m,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Xn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?l5(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return La(this,arguments,function*(){var s,a,l,u;const h=[];try{for(var g=!0,v=Kl(e),m;m=yield Vt(v.next()),s=m.done,!s;g=!0){u=m.value,g=!1;const S=u;if(KE(S)){const N=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;N!==void 0&&h.push(N)}yield yield Vt(S)}}catch(S){a={error:S}}finally{try{!g&&!s&&(l=v.return)&&(yield Vt(l.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...l5(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Wf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZE(t){const e={},n=c(t,["file"]);return n!=null&&d(e,["file"],n),e}function QE(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function eT(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","file"],Bw(n)),e}function tT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function nT(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","file"],Bw(n)),e}function rT(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function iT(t){const e={},n=c(t,["config"]);return n!=null&&rT(n,e),e}function oT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sT extends fo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new zs(uo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=iT(e);return o=ke("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:l.headers},h})),i.then(l=>{const u=oT(l),h=new cC;return Object.assign(h,u),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ZE(e);return o=ke("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=QE(l),h=new fC;return Object.assign(h,u),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=nT(e);return o=ke("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=eT(e);return o=ke("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:l.headers},h})),i.then(l=>{const u=tT(l),h=new dC;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jc(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function aT(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>AT(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function lT(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function uT(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cT(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=c(t,["response"]);s!=null&&d(e,["response"],s);const a=c(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function fT(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=c(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=c(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const o=c(t,["candidateCount"]);o!=null&&d(e,["candidateCount"],o);const s=c(t,["enableAffectiveDialog"]);s!=null&&d(e,["enableAffectiveDialog"],s);const a=c(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const l=c(t,["logprobs"]);l!=null&&d(e,["logprobs"],l);const u=c(t,["maxOutputTokens"]);u!=null&&d(e,["maxOutputTokens"],u);const h=c(t,["mediaResolution"]);h!=null&&d(e,["mediaResolution"],h);const g=c(t,["presencePenalty"]);g!=null&&d(e,["presencePenalty"],g);const v=c(t,["responseLogprobs"]);v!=null&&d(e,["responseLogprobs"],v);const m=c(t,["responseMimeType"]);m!=null&&d(e,["responseMimeType"],m);const S=c(t,["responseModalities"]);S!=null&&d(e,["responseModalities"],S);const N=c(t,["responseSchema"]);N!=null&&d(e,["responseSchema"],N);const R=c(t,["routingConfig"]);R!=null&&d(e,["routingConfig"],R);const _=c(t,["seed"]);_!=null&&d(e,["seed"],_);const A=c(t,["speechConfig"]);A!=null&&d(e,["speechConfig"],$w(A));const C=c(t,["stopSequences"]);C!=null&&d(e,["stopSequences"],C);const k=c(t,["temperature"]);k!=null&&d(e,["temperature"],k);const W=c(t,["thinkingConfig"]);W!=null&&d(e,["thinkingConfig"],W);const Q=c(t,["topK"]);Q!=null&&d(e,["topK"],Q);const J=c(t,["topP"]);if(J!=null&&d(e,["topP"],J),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function dT(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function hT(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function pT(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=c(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=c(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=c(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","mediaResolution"],u);const h=c(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const g=c(t,["speechConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","speechConfig"],zm(g));const v=c(t,["thinkingConfig"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","thinkingConfig"],v);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],m);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&d(e,["setup","systemInstruction"],aT(Xn(S)));const N=c(t,["tools"]);if(e!==void 0&&N!=null){let Q=$a(N);Array.isArray(Q)&&(Q=Q.map(J=>CT(Wa(J)))),d(e,["setup","tools"],Q)}const R=c(t,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],NT(R));const _=c(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&d(e,["setup","inputAudioTranscription"],_);const A=c(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","outputAudioTranscription"],A);const C=c(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&d(e,["setup","realtimeInputConfig"],C);const k=c(t,["contextWindowCompression"]);e!==void 0&&k!=null&&d(e,["setup","contextWindowCompression"],k);const W=c(t,["proactivity"]);return e!==void 0&&W!=null&&d(e,["setup","proactivity"],W),n}function mT(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],fT(r));const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=c(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=c(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=c(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","mediaResolution"],u);const h=c(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const g=c(t,["speechConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","speechConfig"],$w(zm(g)));const v=c(t,["thinkingConfig"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","thinkingConfig"],v);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],m);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&d(e,["setup","systemInstruction"],Xn(S));const N=c(t,["tools"]);if(e!==void 0&&N!=null){let Q=$a(N);Array.isArray(Q)&&(Q=Q.map(J=>ET(Wa(J)))),d(e,["setup","tools"],Q)}const R=c(t,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],R);const _=c(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&d(e,["setup","inputAudioTranscription"],_);const A=c(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","outputAudioTranscription"],A);const C=c(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&d(e,["setup","realtimeInputConfig"],C);const k=c(t,["contextWindowCompression"]);e!==void 0&&k!=null&&d(e,["setup","contextWindowCompression"],k);const W=c(t,["proactivity"]);return e!==void 0&&W!=null&&d(e,["setup","proactivity"],W),n}function gT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ct(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],pT(i,n)),n}function vT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ct(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],mT(i,n)),n}function yT(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&d(e,["musicGenerationConfig"],n),e}function wT(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["weightedPrompts"],r)}return e}function _T(t){const e={},n=c(t,["media"]);if(n!=null){let u=Rw(n);Array.isArray(u)&&(u=u.map(h=>Jc(h))),d(e,["mediaChunks"],u)}const r=c(t,["audio"]);r!=null&&d(e,["audio"],Jc(Fw(r)));const i=c(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&d(e,["video"],Jc(Mw(o)));const s=c(t,["text"]);s!=null&&d(e,["text"],s);const a=c(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const l=c(t,["activityEnd"]);return l!=null&&d(e,["activityEnd"],l),e}function xT(t){const e={},n=c(t,["media"]);if(n!=null){let u=Rw(n);Array.isArray(u)&&(u=u.map(h=>h)),d(e,["mediaChunks"],u)}const r=c(t,["audio"]);r!=null&&d(e,["audio"],Fw(r));const i=c(t,["audioStreamEnd"]);i!=null&&d(e,["audioStreamEnd"],i);const o=c(t,["video"]);o!=null&&d(e,["video"],Mw(o));const s=c(t,["text"]);s!=null&&d(e,["text"],s);const a=c(t,["activityStart"]);a!=null&&d(e,["activityStart"],a);const l=c(t,["activityEnd"]);return l!=null&&d(e,["activityEnd"],l),e}function ST(t){const e={},n=c(t,["setupComplete"]);n!=null&&d(e,["setupComplete"],n);const r=c(t,["serverContent"]);r!=null&&d(e,["serverContent"],r);const i=c(t,["toolCall"]);i!=null&&d(e,["toolCall"],i);const o=c(t,["toolCallCancellation"]);o!=null&&d(e,["toolCallCancellation"],o);const s=c(t,["usageMetadata"]);s!=null&&d(e,["usageMetadata"],TT(s));const a=c(t,["goAway"]);a!=null&&d(e,["goAway"],a);const l=c(t,["sessionResumptionUpdate"]);return l!=null&&d(e,["sessionResumptionUpdate"],l),e}function AT(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],lT(o));const s=c(t,["functionCall"]);s!=null&&d(e,["functionCall"],uT(s));const a=c(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=c(t,["inlineData"]);l!=null&&d(e,["inlineData"],Jc(l));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const h=c(t,["thought"]);h!=null&&d(e,["thought"],h);const g=c(t,["thoughtSignature"]);g!=null&&d(e,["thoughtSignature"],g);const v=c(t,["videoMetadata"]);return v!=null&&d(e,["videoMetadata"],v),e}function NT(t){const e={},n=c(t,["handle"]);if(n!=null&&d(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $w(t){const e={},n=c(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=c(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function CT(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["functionDeclarations"],h)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=c(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],dT(a));const l=c(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],hT(l));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}function ET(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>cT(v))),d(e,["functionDeclarations"],g)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=c(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=c(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const u=c(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],u);const h=c(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function TT(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&d(e,["promptTokenCount"],n);const r=c(t,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const i=c(t,["candidatesTokenCount"]);i!=null&&d(e,["responseTokenCount"],i);const o=c(t,["toolUsePromptTokenCount"]);o!=null&&d(e,["toolUsePromptTokenCount"],o);const s=c(t,["thoughtsTokenCount"]);s!=null&&d(e,["thoughtsTokenCount"],s);const a=c(t,["totalTokenCount"]);a!=null&&d(e,["totalTokenCount"],a);const l=c(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(S=>S)),d(e,["promptTokensDetails"],m)}const u=c(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(S=>S)),d(e,["cacheTokensDetails"],m)}const h=c(t,["candidatesTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(S=>S)),d(e,["responseTokensDetails"],m)}const g=c(t,["toolUsePromptTokensDetails"]);if(g!=null){let m=g;Array.isArray(m)&&(m=m.map(S=>S)),d(e,["toolUsePromptTokensDetails"],m)}const v=c(t,["trafficType"]);return v!=null&&d(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bT(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function IT(t){const e={},n=c(t,["content"]);n!=null&&d(e,["content"],n);const r=c(t,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],kT(r));const i=c(t,["tokenCount"]);i!=null&&d(e,["tokenCount"],i);const o=c(t,["finishReason"]);o!=null&&d(e,["finishReason"],o);const s=c(t,["avgLogprobs"]);s!=null&&d(e,["avgLogprobs"],s);const a=c(t,["groundingMetadata"]);a!=null&&d(e,["groundingMetadata"],a);const l=c(t,["index"]);l!=null&&d(e,["index"],l);const u=c(t,["logprobsResult"]);u!=null&&d(e,["logprobsResult"],u);const h=c(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(m=>m)),d(e,["safetyRatings"],v)}const g=c(t,["urlContextMetadata"]);return g!=null&&d(e,["urlContextMetadata"],g),e}function kT(t){const e={},n=c(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),d(e,["citations"],r)}return e}function PT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let o=Wr(i);Array.isArray(o)&&(o=o.map(s=>s)),d(n,["contents"],o)}return n}function LT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["tokensInfo"],i)}return e}function RT(t){const e={},n=c(t,["values"]);n!=null&&d(e,["values"],n);const r=c(t,["statistics"]);return r!=null&&d(e,["statistics"],MT(r)),e}function MT(t){const e={},n=c(t,["truncated"]);n!=null&&d(e,["truncated"],n);const r=c(t,["token_count"]);return r!=null&&d(e,["tokenCount"],r),e}function $f(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>V6(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function FT(t){const e={},n=c(t,["controlType"]);n!=null&&d(e,["controlType"],n);const r=c(t,["enableControlImageComputation"]);return r!=null&&d(e,["computeControl"],r),e}function DT(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function UT(t,e){const n={},r=c(t,["systemInstruction"]);e!==void 0&&r!=null&&d(e,["systemInstruction"],Xn(r));const i=c(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Xw(a))),d(e,["tools"],s)}const o=c(t,["generationConfig"]);return e!==void 0&&o!=null&&d(e,["generationConfig"],b6(o)),n}function BT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let s=Wr(i);Array.isArray(s)&&(s=s.map(a=>$f(a))),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&DT(o),n}function qT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let s=Wr(i);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&UT(o,n),n}function OT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);r!=null&&d(e,["totalTokens"],r);const i=c(t,["cachedContentTokenCount"]);return i!=null&&d(e,["cachedContentTokenCount"],i),e}function zT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["totalTokens"]);return r!=null&&d(e,["totalTokens"],r),e}function HT(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ct(t,r)),n}function VT(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ct(t,r)),n}function GT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function WT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}function $T(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const s=c(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=c(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const l=c(t,["seed"]);e!==void 0&&l!=null&&d(e,["parameters","seed"],l);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const h=c(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const g=c(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const v=c(t,["includeRaiReason"]);e!==void 0&&v!=null&&d(e,["parameters","includeRaiReason"],v);const m=c(t,["language"]);e!==void 0&&m!=null&&d(e,["parameters","language"],m);const S=c(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const N=c(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const R=c(t,["addWatermark"]);e!==void 0&&R!=null&&d(e,["parameters","addWatermark"],R);const _=c(t,["labels"]);e!==void 0&&_!=null&&d(e,["labels"],_);const A=c(t,["editMode"]);e!==void 0&&A!=null&&d(e,["parameters","editMode"],A);const C=c(t,["baseSteps"]);return e!==void 0&&C!=null&&d(e,["parameters","editConfig","baseSteps"],C),n}function JT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>Y6(l))),d(n,["instances[0]","referenceImages"],a)}const s=c(e,["config"]);return s!=null&&$T(s,n),n}function KT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Jf(o))),d(e,["generatedImages"],i)}return e}function YT(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["requests[]","title"],i);const o=c(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&d(e,["requests[]","outputDimensionality"],o),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function jT(t,e){const n={},r=c(t,["taskType"]);e!==void 0&&r!=null&&d(e,["instances[]","task_type"],r);const i=c(t,["title"]);e!==void 0&&i!=null&&d(e,["instances[]","title"],i);const o=c(t,["outputDimensionality"]);e!==void 0&&o!=null&&d(e,["parameters","outputDimensionality"],o);const s=c(t,["mimeType"]);e!==void 0&&s!=null&&d(e,["instances[]","mimeType"],s);const a=c(t,["autoTruncate"]);return e!==void 0&&a!=null&&d(e,["parameters","autoTruncate"],a),n}function XT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let a=Bm(t,i);Array.isArray(a)&&(a=a.map(l=>l)),d(n,["requests[]","content"],a)}const o=c(e,["config"]);o!=null&&YT(o,n);const s=c(e,["model"]);return s!==void 0&&d(n,["requests[]","model"],Ct(t,s)),n}function ZT(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let s=Bm(t,i);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["instances[]","content"],s)}const o=c(e,["config"]);return o!=null&&jT(o,n),n}function QT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["embeddings"],o)}const i=c(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function e6(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>RT(s))),d(e,["embeddings"],o)}const i=c(t,["metadata"]);return i!=null&&d(e,["metadata"],i),e}function t6(t){const e={},n=c(t,["endpoint"]);n!=null&&d(e,["name"],n);const r=c(t,["deployedModelId"]);return r!=null&&d(e,["deployedModelId"],r),e}function n6(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function r6(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function i6(t){const e={},n=c(t,["mode"]);n!=null&&d(e,["mode"],n);const r=c(t,["allowedFunctionNames"]);if(r!=null&&d(e,["allowedFunctionNames"],r),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function o6(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=c(t,["description"]);n!=null&&d(e,["description"],n);const r=c(t,["name"]);r!=null&&d(e,["name"],r);const i=c(t,["parameters"]);i!=null&&d(e,["parameters"],i);const o=c(t,["parametersJsonSchema"]);o!=null&&d(e,["parametersJsonSchema"],o);const s=c(t,["response"]);s!=null&&d(e,["response"],s);const a=c(t,["responseJsonSchema"]);return a!=null&&d(e,["responseJsonSchema"],a),e}function s6(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],$f(Xn(i)));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=c(e,["topP"]);s!=null&&d(r,["topP"],s);const a=c(e,["topK"]);a!=null&&d(r,["topK"],a);const l=c(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const u=c(e,["maxOutputTokens"]);u!=null&&d(r,["maxOutputTokens"],u);const h=c(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const g=c(e,["responseLogprobs"]);g!=null&&d(r,["responseLogprobs"],g);const v=c(e,["logprobs"]);v!=null&&d(r,["logprobs"],v);const m=c(e,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const S=c(e,["frequencyPenalty"]);S!=null&&d(r,["frequencyPenalty"],S);const N=c(e,["seed"]);N!=null&&d(r,["seed"],N);const R=c(e,["responseMimeType"]);R!=null&&d(r,["responseMimeType"],R);const _=c(e,["responseSchema"]);_!=null&&d(r,["responseSchema"],qm(_));const A=c(e,["responseJsonSchema"]);if(A!=null&&d(r,["responseJsonSchema"],A),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=c(e,["safetySettings"]);if(n!==void 0&&C!=null){let D=C;Array.isArray(D)&&(D=D.map(Y=>j6(Y))),d(n,["safetySettings"],D)}const k=c(e,["tools"]);if(n!==void 0&&k!=null){let D=$a(k);Array.isArray(D)&&(D=D.map(Y=>rb(Wa(Y)))),d(n,["tools"],D)}const W=c(e,["toolConfig"]);if(n!==void 0&&W!=null&&d(n,["toolConfig"],nb(W)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=c(e,["cachedContent"]);n!==void 0&&Q!=null&&d(n,["cachedContent"],ho(t,Q));const J=c(e,["responseModalities"]);J!=null&&d(r,["responseModalities"],J);const G=c(e,["mediaResolution"]);G!=null&&d(r,["mediaResolution"],G);const B=c(e,["speechConfig"]);if(B!=null&&d(r,["speechConfig"],Om(B)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=c(e,["thinkingConfig"]);K!=null&&d(r,["thinkingConfig"],K);const P=c(e,["imageConfig"]);return P!=null&&d(r,["imageConfig"],R6(P)),r}function a6(t,e,n){const r={},i=c(e,["systemInstruction"]);n!==void 0&&i!=null&&d(n,["systemInstruction"],Xn(i));const o=c(e,["temperature"]);o!=null&&d(r,["temperature"],o);const s=c(e,["topP"]);s!=null&&d(r,["topP"],s);const a=c(e,["topK"]);a!=null&&d(r,["topK"],a);const l=c(e,["candidateCount"]);l!=null&&d(r,["candidateCount"],l);const u=c(e,["maxOutputTokens"]);u!=null&&d(r,["maxOutputTokens"],u);const h=c(e,["stopSequences"]);h!=null&&d(r,["stopSequences"],h);const g=c(e,["responseLogprobs"]);g!=null&&d(r,["responseLogprobs"],g);const v=c(e,["logprobs"]);v!=null&&d(r,["logprobs"],v);const m=c(e,["presencePenalty"]);m!=null&&d(r,["presencePenalty"],m);const S=c(e,["frequencyPenalty"]);S!=null&&d(r,["frequencyPenalty"],S);const N=c(e,["seed"]);N!=null&&d(r,["seed"],N);const R=c(e,["responseMimeType"]);R!=null&&d(r,["responseMimeType"],R);const _=c(e,["responseSchema"]);_!=null&&d(r,["responseSchema"],qm(_));const A=c(e,["responseJsonSchema"]);A!=null&&d(r,["responseJsonSchema"],A);const C=c(e,["routingConfig"]);C!=null&&d(r,["routingConfig"],C);const k=c(e,["modelSelectionConfig"]);k!=null&&d(r,["modelConfig"],k);const W=c(e,["safetySettings"]);if(n!==void 0&&W!=null){let fe=W;Array.isArray(fe)&&(fe=fe.map(de=>de)),d(n,["safetySettings"],fe)}const Q=c(e,["tools"]);if(n!==void 0&&Q!=null){let fe=$a(Q);Array.isArray(fe)&&(fe=fe.map(de=>Xw(Wa(de)))),d(n,["tools"],fe)}const J=c(e,["toolConfig"]);n!==void 0&&J!=null&&d(n,["toolConfig"],J);const G=c(e,["labels"]);n!==void 0&&G!=null&&d(n,["labels"],G);const B=c(e,["cachedContent"]);n!==void 0&&B!=null&&d(n,["cachedContent"],ho(t,B));const K=c(e,["responseModalities"]);K!=null&&d(r,["responseModalities"],K);const P=c(e,["mediaResolution"]);P!=null&&d(r,["mediaResolution"],P);const D=c(e,["speechConfig"]);D!=null&&d(r,["speechConfig"],jw(Om(D)));const Y=c(e,["audioTimestamp"]);Y!=null&&d(r,["audioTimestamp"],Y);const j=c(e,["thinkingConfig"]);j!=null&&d(r,["thinkingConfig"],j);const ce=c(e,["imageConfig"]);return ce!=null&&d(r,["imageConfig"],M6(ce)),r}function u5(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let s=Wr(i);Array.isArray(s)&&(s=s.map(a=>$f(a))),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["generationConfig"],s6(t,o,n)),n}function c5(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["contents"]);if(i!=null){let s=Wr(i);Array.isArray(s)&&(s=s.map(a=>a)),d(n,["contents"],s)}const o=c(e,["config"]);return o!=null&&d(n,["generationConfig"],a6(t,o,n)),n}function f5(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>IT(u))),d(e,["candidates"],l)}const i=c(t,["modelVersion"]);i!=null&&d(e,["modelVersion"],i);const o=c(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const s=c(t,["responseId"]);s!=null&&d(e,["responseId"],s);const a=c(t,["usageMetadata"]);return a!=null&&d(e,["usageMetadata"],a),e}function d5(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(h=>h)),d(e,["candidates"],u)}const i=c(t,["createTime"]);i!=null&&d(e,["createTime"],i);const o=c(t,["modelVersion"]);o!=null&&d(e,["modelVersion"],o);const s=c(t,["promptFeedback"]);s!=null&&d(e,["promptFeedback"],s);const a=c(t,["responseId"]);a!=null&&d(e,["responseId"],a);const l=c(t,["usageMetadata"]);return l!=null&&d(e,["usageMetadata"],l),e}function l6(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["aspectRatio"]);e!==void 0&&i!=null&&d(e,["parameters","aspectRatio"],i);const o=c(t,["guidanceScale"]);if(e!==void 0&&o!=null&&d(e,["parameters","guidanceScale"],o),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=c(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&d(e,["parameters","safetySetting"],s);const a=c(t,["personGeneration"]);e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a);const l=c(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&d(e,["parameters","includeSafetyAttributes"],l);const u=c(t,["includeRaiReason"]);e!==void 0&&u!=null&&d(e,["parameters","includeRaiReason"],u);const h=c(t,["language"]);e!==void 0&&h!=null&&d(e,["parameters","language"],h);const g=c(t,["outputMimeType"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","mimeType"],g);const v=c(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&d(e,["parameters","outputOptions","compressionQuality"],v),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=c(t,["imageSize"]);if(e!==void 0&&m!=null&&d(e,["parameters","sampleImageSize"],m),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function u6(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["negativePrompt"]);e!==void 0&&i!=null&&d(e,["parameters","negativePrompt"],i);const o=c(t,["numberOfImages"]);e!==void 0&&o!=null&&d(e,["parameters","sampleCount"],o);const s=c(t,["aspectRatio"]);e!==void 0&&s!=null&&d(e,["parameters","aspectRatio"],s);const a=c(t,["guidanceScale"]);e!==void 0&&a!=null&&d(e,["parameters","guidanceScale"],a);const l=c(t,["seed"]);e!==void 0&&l!=null&&d(e,["parameters","seed"],l);const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const h=c(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const g=c(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&d(e,["parameters","includeSafetyAttributes"],g);const v=c(t,["includeRaiReason"]);e!==void 0&&v!=null&&d(e,["parameters","includeRaiReason"],v);const m=c(t,["language"]);e!==void 0&&m!=null&&d(e,["parameters","language"],m);const S=c(t,["outputMimeType"]);e!==void 0&&S!=null&&d(e,["parameters","outputOptions","mimeType"],S);const N=c(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","compressionQuality"],N);const R=c(t,["addWatermark"]);e!==void 0&&R!=null&&d(e,["parameters","addWatermark"],R);const _=c(t,["labels"]);e!==void 0&&_!=null&&d(e,["labels"],_);const A=c(t,["imageSize"]);e!==void 0&&A!=null&&d(e,["parameters","sampleImageSize"],A);const C=c(t,["enhancePrompt"]);return e!==void 0&&C!=null&&d(e,["parameters","enhancePrompt"],C),n}function c6(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&l6(o,n),n}function f6(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["config"]);return o!=null&&u6(o,n),n}function d6(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>N6(s))),d(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],Kw(i)),e}function h6(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Jf(s))),d(e,["generatedImages"],o)}const i=c(t,["positivePromptSafetyAttributes"]);return i!=null&&d(e,["positivePromptSafetyAttributes"],Yw(i)),e}function p6(t,e){const n={},r=c(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=c(t,["durationSeconds"]);if(e!==void 0&&i!=null&&d(e,["parameters","durationSeconds"],i),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=c(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const s=c(t,["resolution"]);e!==void 0&&s!=null&&d(e,["parameters","resolution"],s);const a=c(t,["personGeneration"]);if(e!==void 0&&a!=null&&d(e,["parameters","personGeneration"],a),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=c(t,["negativePrompt"]);e!==void 0&&l!=null&&d(e,["parameters","negativePrompt"],l);const u=c(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&d(e,["parameters","enhancePrompt"],u),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=c(t,["lastFrame"]);e!==void 0&&h!=null&&d(e,["instances[0]","lastFrame"],Kf(h));const g=c(t,["referenceImages"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(m=>gb(m))),d(e,["instances[0]","referenceImages"],v)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function m6(t,e){const n={},r=c(t,["numberOfVideos"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&d(e,["parameters","storageUri"],i);const o=c(t,["fps"]);e!==void 0&&o!=null&&d(e,["parameters","fps"],o);const s=c(t,["durationSeconds"]);e!==void 0&&s!=null&&d(e,["parameters","durationSeconds"],s);const a=c(t,["seed"]);e!==void 0&&a!=null&&d(e,["parameters","seed"],a);const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&d(e,["parameters","aspectRatio"],l);const u=c(t,["resolution"]);e!==void 0&&u!=null&&d(e,["parameters","resolution"],u);const h=c(t,["personGeneration"]);e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h);const g=c(t,["pubsubTopic"]);e!==void 0&&g!=null&&d(e,["parameters","pubsubTopic"],g);const v=c(t,["negativePrompt"]);e!==void 0&&v!=null&&d(e,["parameters","negativePrompt"],v);const m=c(t,["enhancePrompt"]);e!==void 0&&m!=null&&d(e,["parameters","enhancePrompt"],m);const S=c(t,["generateAudio"]);e!==void 0&&S!=null&&d(e,["parameters","generateAudio"],S);const N=c(t,["lastFrame"]);e!==void 0&&N!=null&&d(e,["instances[0]","lastFrame"],pi(N));const R=c(t,["referenceImages"]);if(e!==void 0&&R!=null){let C=R;Array.isArray(C)&&(C=C.map(k=>vb(k))),d(e,["instances[0]","referenceImages"],C)}const _=c(t,["mask"]);e!==void 0&&_!=null&&d(e,["instances[0]","mask"],mb(_));const A=c(t,["compressionQuality"]);return e!==void 0&&A!=null&&d(e,["parameters","compressionQuality"],A),n}function g6(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response","generateVideoResponse"]);return s!=null&&d(e,["response"],_6(s)),e}function v6(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response"]);return s!=null&&d(e,["response"],x6(s)),e}function y6(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["image"]);o!=null&&d(n,["instances[0]","image"],Kf(o));const s=c(e,["video"]);s!=null&&d(n,["instances[0]","video"],Zw(s));const a=c(e,["source"]);a!=null&&S6(a,n);const l=c(e,["config"]);return l!=null&&p6(l,n),n}function w6(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["prompt"]);i!=null&&d(n,["instances[0]","prompt"],i);const o=c(e,["image"]);o!=null&&d(n,["instances[0]","image"],pi(o));const s=c(e,["video"]);s!=null&&d(n,["instances[0]","video"],Qw(s));const a=c(e,["source"]);a!=null&&A6(a,n);const l=c(e,["config"]);return l!=null&&m6(l,n),n}function _6(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>E6(s))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function x6(t){const e={},n=c(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>T6(s))),d(e,["generatedVideos"],o)}const r=c(t,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const i=c(t,["raiMediaFilteredReasons"]);return i!=null&&d(e,["raiMediaFilteredReasons"],i),e}function S6(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],Kf(i));const o=c(t,["video"]);return e!==void 0&&o!=null&&d(e,["instances[0]","video"],Zw(o)),n}function A6(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],pi(i));const o=c(t,["video"]);return e!==void 0&&o!=null&&d(e,["instances[0]","video"],Qw(o)),n}function N6(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["image"],F6(n));const r=c(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=c(t,["_self"]);return i!=null&&d(e,["safetyAttributes"],Kw(i)),e}function Jf(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["image"],Jw(n));const r=c(t,["raiFilteredReason"]);r!=null&&d(e,["raiFilteredReason"],r);const i=c(t,["_self"]);i!=null&&d(e,["safetyAttributes"],Yw(i));const o=c(t,["prompt"]);return o!=null&&d(e,["enhancedPrompt"],o),e}function C6(t){const e={},n=c(t,["_self"]);n!=null&&d(e,["mask"],Jw(n));const r=c(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(e,["labels"],i)}return e}function E6(t){const e={},n=c(t,["video"]);return n!=null&&d(e,["video"],hb(n)),e}function T6(t){const e={},n=c(t,["_self"]);return n!=null&&d(e,["video"],pb(n)),e}function b6(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&d(e,["modelConfig"],n);const r=c(t,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const i=c(t,["audioTimestamp"]);i!=null&&d(e,["audioTimestamp"],i);const o=c(t,["candidateCount"]);o!=null&&d(e,["candidateCount"],o);const s=c(t,["enableAffectiveDialog"]);s!=null&&d(e,["enableAffectiveDialog"],s);const a=c(t,["frequencyPenalty"]);a!=null&&d(e,["frequencyPenalty"],a);const l=c(t,["logprobs"]);l!=null&&d(e,["logprobs"],l);const u=c(t,["maxOutputTokens"]);u!=null&&d(e,["maxOutputTokens"],u);const h=c(t,["mediaResolution"]);h!=null&&d(e,["mediaResolution"],h);const g=c(t,["presencePenalty"]);g!=null&&d(e,["presencePenalty"],g);const v=c(t,["responseLogprobs"]);v!=null&&d(e,["responseLogprobs"],v);const m=c(t,["responseMimeType"]);m!=null&&d(e,["responseMimeType"],m);const S=c(t,["responseModalities"]);S!=null&&d(e,["responseModalities"],S);const N=c(t,["responseSchema"]);N!=null&&d(e,["responseSchema"],N);const R=c(t,["routingConfig"]);R!=null&&d(e,["routingConfig"],R);const _=c(t,["seed"]);_!=null&&d(e,["seed"],_);const A=c(t,["speechConfig"]);A!=null&&d(e,["speechConfig"],jw(A));const C=c(t,["stopSequences"]);C!=null&&d(e,["stopSequences"],C);const k=c(t,["temperature"]);k!=null&&d(e,["temperature"],k);const W=c(t,["thinkingConfig"]);W!=null&&d(e,["thinkingConfig"],W);const Q=c(t,["topK"]);Q!=null&&d(e,["topK"],Q);const J=c(t,["topP"]);if(J!=null&&d(e,["topP"],J),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function I6(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ct(t,r)),n}function k6(t,e){const n={},r=c(e,["model"]);return r!=null&&d(n,["_url","name"],Ct(t,r)),n}function P6(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function L6(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function R6(t){const e={},n=c(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=c(t,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function M6(t){const e={},n=c(t,["aspectRatio"]);n!=null&&d(e,["aspectRatio"],n);const r=c(t,["imageSize"]);r!=null&&d(e,["imageSize"],r);const i=c(t,["outputMimeType"]);i!=null&&d(e,["imageOutputOptions","mimeType"],i);const o=c(t,["outputCompressionQuality"]);return o!=null&&d(e,["imageOutputOptions","compressionQuality"],o),e}function F6(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&d(e,["imageBytes"],ts(n));const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Jw(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["imageBytes"],ts(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function Kf(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&d(e,["bytesBase64Encoded"],ts(n));const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function pi(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["imageBytes"]);r!=null&&d(e,["bytesBase64Encoded"],ts(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function D6(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=c(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=c(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],qw(t,a)),r}function U6(t,e,n){const r={},i=c(e,["pageSize"]);n!==void 0&&i!=null&&d(n,["_query","pageSize"],i);const o=c(e,["pageToken"]);n!==void 0&&o!=null&&d(n,["_query","pageToken"],o);const s=c(e,["filter"]);n!==void 0&&s!=null&&d(n,["_query","filter"],s);const a=c(e,["queryBase"]);return n!==void 0&&a!=null&&d(n,["_url","models_url"],qw(t,a)),r}function B6(t,e){const n={},r=c(e,["config"]);return r!=null&&D6(t,r,n),n}function q6(t,e){const n={},r=c(e,["config"]);return r!=null&&U6(t,r,n),n}function O6(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=Ow(i);Array.isArray(o)&&(o=o.map(s=>Lp(s))),d(e,["models"],o)}return e}function z6(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["_self"]);if(i!=null){let o=Ow(i);Array.isArray(o)&&(o=o.map(s=>Rp(s))),d(e,["models"],o)}return e}function H6(t){const e={},n=c(t,["maskMode"]);n!=null&&d(e,["maskMode"],n);const r=c(t,["segmentationClasses"]);r!=null&&d(e,["maskClasses"],r);const i=c(t,["maskDilation"]);return i!=null&&d(e,["dilation"],i),e}function Lp(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["version"]);o!=null&&d(e,["version"],o);const s=c(t,["_self"]);s!=null&&d(e,["tunedModelInfo"],ib(s));const a=c(t,["inputTokenLimit"]);a!=null&&d(e,["inputTokenLimit"],a);const l=c(t,["outputTokenLimit"]);l!=null&&d(e,["outputTokenLimit"],l);const u=c(t,["supportedGenerationMethods"]);u!=null&&d(e,["supportedActions"],u);const h=c(t,["temperature"]);h!=null&&d(e,["temperature"],h);const g=c(t,["maxTemperature"]);g!=null&&d(e,["maxTemperature"],g);const v=c(t,["topP"]);v!=null&&d(e,["topP"],v);const m=c(t,["topK"]);m!=null&&d(e,["topK"],m);const S=c(t,["thinking"]);return S!=null&&d(e,["thinking"],S),e}function Rp(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["displayName"]);r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);i!=null&&d(e,["description"],i);const o=c(t,["versionId"]);o!=null&&d(e,["version"],o);const s=c(t,["deployedModels"]);if(s!=null){let g=s;Array.isArray(g)&&(g=g.map(v=>t6(v))),d(e,["endpoints"],g)}const a=c(t,["labels"]);a!=null&&d(e,["labels"],a);const l=c(t,["_self"]);l!=null&&d(e,["tunedModelInfo"],ob(l));const u=c(t,["defaultCheckpointId"]);u!=null&&d(e,["defaultCheckpointId"],u);const h=c(t,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),d(e,["checkpoints"],g)}return e}function V6(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],n6(o));const s=c(t,["functionCall"]);s!=null&&d(e,["functionCall"],r6(s));const a=c(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=c(t,["inlineData"]);l!=null&&d(e,["inlineData"],bT(l));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const h=c(t,["thought"]);h!=null&&d(e,["thought"],h);const g=c(t,["thoughtSignature"]);g!=null&&d(e,["thoughtSignature"],g);const v=c(t,["videoMetadata"]);return v!=null&&d(e,["videoMetadata"],v),e}function G6(t){const e={},n=c(t,["productImage"]);return n!=null&&d(e,["image"],pi(n)),e}function W6(t,e){const n={},r=c(t,["numberOfImages"]);e!==void 0&&r!=null&&d(e,["parameters","sampleCount"],r);const i=c(t,["baseSteps"]);e!==void 0&&i!=null&&d(e,["parameters","baseSteps"],i);const o=c(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const s=c(t,["seed"]);e!==void 0&&s!=null&&d(e,["parameters","seed"],s);const a=c(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&d(e,["parameters","safetySetting"],a);const l=c(t,["personGeneration"]);e!==void 0&&l!=null&&d(e,["parameters","personGeneration"],l);const u=c(t,["addWatermark"]);e!==void 0&&u!=null&&d(e,["parameters","addWatermark"],u);const h=c(t,["outputMimeType"]);e!==void 0&&h!=null&&d(e,["parameters","outputOptions","mimeType"],h);const g=c(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","compressionQuality"],g);const v=c(t,["enhancePrompt"]);e!==void 0&&v!=null&&d(e,["parameters","enhancePrompt"],v);const m=c(t,["labels"]);return e!==void 0&&m!=null&&d(e,["labels"],m),n}function $6(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["source"]);i!=null&&K6(i,n);const o=c(e,["config"]);return o!=null&&W6(o,n),n}function J6(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Jf(i))),d(e,["generatedImages"],r)}return e}function K6(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["personImage"]);e!==void 0&&i!=null&&d(e,["instances[0]","personImage","image"],pi(i));const o=c(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>G6(a))),d(e,["instances[0]","productImages"],s)}return n}function Y6(t){const e={},n=c(t,["referenceImage"]);n!=null&&d(e,["referenceImage"],pi(n));const r=c(t,["referenceId"]);r!=null&&d(e,["referenceId"],r);const i=c(t,["referenceType"]);i!=null&&d(e,["referenceType"],i);const o=c(t,["maskImageConfig"]);o!=null&&d(e,["maskImageConfig"],H6(o));const s=c(t,["controlImageConfig"]);s!=null&&d(e,["controlImageConfig"],FT(s));const a=c(t,["styleImageConfig"]);a!=null&&d(e,["styleImageConfig"],a);const l=c(t,["subjectImageConfig"]);return l!=null&&d(e,["subjectImageConfig"],l),e}function Kw(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function Yw(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&d(e,["categories"],n);const r=c(t,["safetyAttributes","scores"]);r!=null&&d(e,["scores"],r);const i=c(t,["contentType"]);return i!=null&&d(e,["contentType"],i),e}function j6(t){const e={},n=c(t,["category"]);if(n!=null&&d(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(t,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function X6(t){const e={},n=c(t,["image"]);return n!=null&&d(e,["image"],pi(n)),e}function Z6(t,e){const n={},r=c(t,["mode"]);e!==void 0&&r!=null&&d(e,["parameters","mode"],r);const i=c(t,["maxPredictions"]);e!==void 0&&i!=null&&d(e,["parameters","maxPredictions"],i);const o=c(t,["confidenceThreshold"]);e!==void 0&&o!=null&&d(e,["parameters","confidenceThreshold"],o);const s=c(t,["maskDilation"]);e!==void 0&&s!=null&&d(e,["parameters","maskDilation"],s);const a=c(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&d(e,["parameters","binaryColorThreshold"],a);const l=c(t,["labels"]);return e!==void 0&&l!=null&&d(e,["labels"],l),n}function Q6(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["source"]);i!=null&&tb(i,n);const o=c(e,["config"]);return o!=null&&Z6(o,n),n}function eb(t){const e={},n=c(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>C6(i))),d(e,["generatedMasks"],r)}return e}function tb(t,e){const n={},r=c(t,["prompt"]);e!==void 0&&r!=null&&d(e,["instances[0]","prompt"],r);const i=c(t,["image"]);e!==void 0&&i!=null&&d(e,["instances[0]","image"],pi(i));const o=c(t,["scribbleImage"]);return e!==void 0&&o!=null&&d(e,["instances[0]","scribble"],X6(o)),n}function jw(t){const e={},n=c(t,["languageCode"]);n!=null&&d(e,["languageCode"],n);const r=c(t,["voiceConfig"]);if(r!=null&&d(e,["voiceConfig"],r),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function nb(t){const e={},n=c(t,["functionCallingConfig"]);n!=null&&d(e,["functionCallingConfig"],i6(n));const r=c(t,["retrievalConfig"]);return r!=null&&d(e,["retrievalConfig"],r),e}function rb(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["functionDeclarations"],h)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=c(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],P6(a));const l=c(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],L6(l));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}function Xw(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>o6(v))),d(e,["functionDeclarations"],g)}const r=c(t,["retrieval"]);r!=null&&d(e,["retrieval"],r);const i=c(t,["googleSearchRetrieval"]);i!=null&&d(e,["googleSearchRetrieval"],i);const o=c(t,["computerUse"]);if(o!=null&&d(e,["computerUse"],o),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(t,["codeExecution"]);s!=null&&d(e,["codeExecution"],s);const a=c(t,["enterpriseWebSearch"]);a!=null&&d(e,["enterpriseWebSearch"],a);const l=c(t,["googleMaps"]);l!=null&&d(e,["googleMaps"],l);const u=c(t,["googleSearch"]);u!=null&&d(e,["googleSearch"],u);const h=c(t,["urlContext"]);return h!=null&&d(e,["urlContext"],h),e}function ib(t){const e={},n=c(t,["baseModel"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function ob(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(e,["baseModel"],n);const r=c(t,["createTime"]);r!=null&&d(e,["createTime"],r);const i=c(t,["updateTime"]);return i!=null&&d(e,["updateTime"],i),e}function sb(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function ab(t,e){const n={},r=c(t,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const i=c(t,["description"]);e!==void 0&&i!=null&&d(e,["description"],i);const o=c(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&d(e,["defaultCheckpointId"],o),n}function lb(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","name"],Ct(t,r));const i=c(e,["config"]);return i!=null&&sb(i,n),n}function ub(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["config"]);return i!=null&&ab(i,n),n}function cb(t,e){const n={},r=c(t,["outputGcsUri"]);e!==void 0&&r!=null&&d(e,["parameters","storageUri"],r);const i=c(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&d(e,["parameters","safetySetting"],i);const o=c(t,["personGeneration"]);e!==void 0&&o!=null&&d(e,["parameters","personGeneration"],o);const s=c(t,["includeRaiReason"]);e!==void 0&&s!=null&&d(e,["parameters","includeRaiReason"],s);const a=c(t,["outputMimeType"]);e!==void 0&&a!=null&&d(e,["parameters","outputOptions","mimeType"],a);const l=c(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&d(e,["parameters","outputOptions","compressionQuality"],l);const u=c(t,["enhanceInputImage"]);e!==void 0&&u!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],u);const h=c(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const g=c(t,["labels"]);e!==void 0&&g!=null&&d(e,["labels"],g);const v=c(t,["numberOfImages"]);e!==void 0&&v!=null&&d(e,["parameters","sampleCount"],v);const m=c(t,["mode"]);return e!==void 0&&m!=null&&d(e,["parameters","mode"],m),n}function fb(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["_url","model"],Ct(t,r));const i=c(e,["image"]);i!=null&&d(n,["instances[0]","image"],pi(i));const o=c(e,["upscaleFactor"]);o!=null&&d(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=c(e,["config"]);return s!=null&&cb(s,n),n}function db(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Jf(o))),d(e,["generatedImages"],i)}return e}function hb(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["uri"],n);const r=c(t,["encodedVideo"]);r!=null&&d(e,["videoBytes"],ts(r));const i=c(t,["encoding"]);return i!=null&&d(e,["mimeType"],i),e}function pb(t){const e={},n=c(t,["gcsUri"]);n!=null&&d(e,["uri"],n);const r=c(t,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],ts(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}function mb(t){const e={},n=c(t,["image"]);n!=null&&d(e,["_self"],pi(n));const r=c(t,["maskMode"]);return r!=null&&d(e,["maskMode"],r),e}function gb(t){const e={},n=c(t,["image"]);n!=null&&d(e,["image"],Kf(n));const r=c(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function vb(t){const e={},n=c(t,["image"]);n!=null&&d(e,["image"],pi(n));const r=c(t,["referenceType"]);return r!=null&&d(e,["referenceType"],r),e}function Zw(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["uri"],n);const r=c(t,["videoBytes"]);r!=null&&d(e,["encodedVideo"],ts(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["encoding"],i),e}function Qw(t){const e={},n=c(t,["uri"]);n!=null&&d(e,["gcsUri"],n);const r=c(t,["videoBytes"]);r!=null&&d(e,["bytesBase64Encoded"],ts(r));const i=c(t,["mimeType"]);return i!=null&&d(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yb="Content-Type",wb="X-Server-Timeout",_b="User-Agent",Mp="x-goog-api-client",xb="1.30.0",Sb=`google-genai-sdk/${xb}`,Ab="v1beta1",Nb="v1beta",h5=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Cb{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Ab,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Nb,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&Eb(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await p5(i),new Ip(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await p5(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return La(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:a,value:l}=yield Vt(i.read());if(a){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=o.decode(l,{stream:!0});try{const g=JSON.parse(u);if("error"in g){const v=JSON.parse(JSON.stringify(g.error)),m=v.status,S=v.code,N=`got status: ${m}. ${JSON.stringify(g)}`;if(S>=400&&S<600)throw new Wf({message:N,status:S})}}catch(g){if(g.name==="ApiError")throw g}s+=u;let h=s.match(h5);for(;h;){const g=h[1];try{const v=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Vt(new Ip(v)),s=s.slice(h[0].length),h=s.match(h5)}catch(v){throw new Error(`exception parsing stream chunk ${g}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Sb+" "+this.clientOptions.userAgentExtra;return e[_b]=n,e[Mp]=n,e[yb]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(wb,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),h=ke("upload/v1beta/files",l._url),g=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,g,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&r.customMetadata&&(g.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(g.chunkingConfig=r.chunkingConfig);const v=await this.fetchUploadUrl(u,a,l,h,g,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function p5(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Wf({message:i,status:n}):new Error(i)}}function Eb(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],h=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&h&&typeof h=="object"&&!Array.isArray(h)?a[l]=r(h,u):(h&&u&&typeof h!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof h}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tb="mcp_used/unknown";let bb=!1;function e_(t){for(const e of t)if(Ib(e)||typeof e=="object"&&"inputSchema"in e)return!0;return bb}function t_(t){var e;const n=(e=t[Mp])!==null&&e!==void 0?e:"";t[Mp]=(n+` ${Tb}`).trimStart()}function Ib(t){return t!==null&&typeof t=="object"&&t instanceof Hm}function kb(t,e=100){return La(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Vt(t.listTools({cursor:r}));for(const s of o.tools)yield yield Vt(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class Hm{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Hm(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var a=!0,l=(n=void 0,Kl(kb(h))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const g=i;s.push(g);const v=g.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=h}}catch(g){n={error:g}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),SC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Pb(t,e,n){const r=new pC;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class Lb{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=Fb(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const h=new Promise(C=>{u=C}),g=e.callbacks,v=function(){u({})},m=this.apiClient,S={onopen:v,onmessage:C=>{Pb(m,g.onmessage,C)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(C){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(C){}},N=this.webSocketFactory.create(l,Mb(s),S);N.connect(),await h;const A={setup:{model:Ct(this.apiClient,e.model)}};return N.send(JSON.stringify(A)),new Rb(N,this.apiClient)}}class Rb{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=wT(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=yT(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_a.PLAY)}pause(){this.sendPlaybackControl(_a.PAUSE)}stop(){this.sendPlaybackControl(_a.STOP)}resetContext(){this.sendPlaybackControl(_a.RESET_CONTEXT)}close(){this.conn.close()}}function Mb(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Fb(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Db="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ub(t,e,n){const r=new hC;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=ST(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class Bb{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Lb(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&e_(e.config.tools)&&t_(g);const v=Hb(g);if(this.apiClient.isVertexAI())h=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const B=this.apiClient.getApiKey();let K="BidiGenerateContent",P="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",P="access_token"),h=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${K}?${P}=${B}`}let m=()=>{};const S=new Promise(B=>{m=B}),N=e.callbacks,R=function(){var B;(B=N==null?void 0:N.onopen)===null||B===void 0||B.call(N),m({})},_=this.apiClient,A={onopen:R,onmessage:B=>{Ub(_,N.onmessage,B)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=N==null?void 0:N.onclose)!==null&&r!==void 0?r:function(B){}},C=this.webSocketFactory.create(h,zb(v),A);C.connect(),await S;let k=Ct(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const B=this.apiClient.getProject(),K=this.apiClient.getLocation();k=`projects/${B}/locations/${K}/`+k}let W={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Af.AUDIO]}:e.config.responseModalities=[Af.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],J=[];for(const B of Q)if(this.isCallableTool(B)){const K=B;J.push(await K.tool())}else J.push(B);J.length>0&&(e.config.tools=J);const G={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?W=vT(this.apiClient,G):W=gT(this.apiClient,G),delete W.config,C.send(JSON.stringify(W)),new Ob(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qb={turnComplete:!0};class Ob{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Wr(n.turns),e.isVertexAI()||(r=r.map(i=>$f(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(Db)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},qb),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:xT(e)}:n={realtimeInput:_T(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function zb(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Hb(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m5=10;function g5(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ra(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ra(t){return"callTool"in t&&typeof t.callTool=="function"}function Vb(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ra(i)))!==null&&r!==void 0?r:!1}function v5(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ra(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function y5(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gb extends fo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Vb(n)||g5(n.config))return await this.generateContentInternal(l);const u=v5(n);if(u.length>0){const N=u.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let h,g;const v=Wr(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:m5;let S=0;for(;S<m&&(h=await this.generateContentInternal(l),!(!h.functionCalls||h.functionCalls.length===0));){const N=h.candidates[0].content,R=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Ra(_)){const C=await _.callTool(h.functionCalls);R.push(...C)}S++,g={role:"user",parts:R},l.contents=Wr(l.contents),l.contents.push(N),l.contents.push(g),y5(l.config)&&(v.push(N),v.push(g))}return y5(l.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),g5(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const l=v5(n);if(l.length>0){const g=l.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new zs(uo.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Ra(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&e_(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),t_(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ra(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:m5;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,h,g){var v,m;return La(this,arguments,function*(){for(var S,N,R,_;a<o;){s&&(a++,s=!1);const W=yield Vt(u.processParamsMaybeAddMcpUsage(g)),Q=yield Vt(u.generateContentStreamInternal(W)),J=[],G=[];try{for(var A=!0,C=(N=void 0,Kl(Q)),k;k=yield Vt(C.next()),S=k.done,!S;A=!0){_=k.value,A=!1;const B=_;if(yield yield Vt(B),B.candidates&&(!((v=B.candidates[0])===null||v===void 0)&&v.content)){G.push(B.candidates[0].content);for(const K of(m=B.candidates[0].content.parts)!==null&&m!==void 0?m:[])if(a<o&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(K.functionCall.name)){const P=yield Vt(h.get(K.functionCall.name).callTool([K.functionCall]));J.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(B){N={error:B}}finally{try{!A&&!S&&(R=C.return)&&(yield Vt(R.call(C)))}finally{if(N)throw N.error}}if(J.length>0){s=!0;const B=new Ll;B.candidates=[{content:{role:"user",parts:J}}],yield yield Vt(B);const K=[];K.push(...G),K.push({role:"user",parts:J});const P=Wr(g.contents).concat(K);g.contents=P}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=c5(this.apiClient,e);return a=ke("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=d5(h),v=new Ll;return Object.assign(v,g),v})}else{const u=u5(this.apiClient,e);return a=ke("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=f5(h),v=new Ll;return Object.assign(v,g),v})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=c5(this.apiClient,e);return a=ke("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(g){return La(this,arguments,function*(){var v,m,S,N;try{for(var R=!0,_=Kl(g),A;A=yield Vt(_.next()),v=A.done,!v;R=!0){N=A.value,R=!1;const C=N,k=d5(yield Vt(C.json()));k.sdkHttpResponse={headers:C.headers};const W=new Ll;Object.assign(W,k),yield yield Vt(W)}}catch(C){m={error:C}}finally{try{!R&&!v&&(S=_.return)&&(yield Vt(S.call(_)))}finally{if(m)throw m.error}}})})}else{const u=u5(this.apiClient,e);return a=ke("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(g){return La(this,arguments,function*(){var v,m,S,N;try{for(var R=!0,_=Kl(g),A;A=yield Vt(_.next()),v=A.done,!v;R=!0){N=A.value,R=!1;const C=N,k=f5(yield Vt(C.json()));k.sdkHttpResponse={headers:C.headers};const W=new Ll;Object.assign(W,k),yield yield Vt(W)}}catch(C){m={error:C}}finally{try{!R&&!v&&(S=_.return)&&(yield Vt(S.call(_)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ZT(this.apiClient,e);return a=ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=e6(h),v=new J2;return Object.assign(v,g),v})}else{const u=XT(this.apiClient,e);return a=ke("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=QT(h),v=new J2;return Object.assign(v,g),v})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=f6(this.apiClient,e);return a=ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=h6(h),v=new K2;return Object.assign(v,g),v})}else{const u=c6(this.apiClient,e);return a=ke("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=d6(h),v=new K2;return Object.assign(v,g),v})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=JT(this.apiClient,e);return o=ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:l.headers},h})),i.then(l=>{const u=KT(l),h=new nC;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=fb(this.apiClient,e);return o=ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:l.headers},h})),i.then(l=>{const u=db(l),h=new rC;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=$6(this.apiClient,e);return o=ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=J6(l),h=new iC;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Q6(this.apiClient,e);return o=ke("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=eb(l),h=new oC;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=k6(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Rp(h))}else{const u=I6(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Lp(h))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=q6(this.apiClient,e);return a=ke("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=z6(h),v=new Y2;return Object.assign(v,g),v})}else{const u=B6(this.apiClient,e);return a=ke("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=O6(h),v=new Y2;return Object.assign(v,g),v})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=ub(this.apiClient,e);return a=ke("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>Rp(h))}else{const u=lb(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Lp(h))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VT(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=WT(h),v=new j2;return Object.assign(v,g),v})}else{const u=HT(this.apiClient,e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=GT(h),v=new j2;return Object.assign(v,g),v})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=qT(this.apiClient,e);return a=ke("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=zT(h),v=new X2;return Object.assign(v,g),v})}else{const u=BT(this.apiClient,e);return a=ke("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=OT(h),v=new X2;return Object.assign(v,g),v})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=PT(this.apiClient,e);return o=ke("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:l.headers},h})),i.then(l=>{const u=LT(l),h=new sC;return Object.assign(h,u),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=w6(this.apiClient,e);return a=ke("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const g=v6(h),v=new Nf;return Object.assign(v,g),v})}else{const u=y6(this.apiClient,e);return a=ke("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const g=g6(h),v=new Nf;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wb extends fo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jN(e);return a=ke("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const u=YN(e);return a=ke("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=HN(e);return o=ke("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $b(t){const e={},n=c(t,["data"]);if(n!=null&&d(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Jb(t){const e={},n=c(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>nI(o))),d(e,["parts"],i)}const r=c(t,["role"]);return r!=null&&d(e,["role"],r),e}function Kb(t,e,n){const r={},i=c(e,["expireTime"]);n!==void 0&&i!=null&&d(n,["expireTime"],i);const o=c(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&d(n,["newSessionExpireTime"],o);const s=c(e,["uses"]);n!==void 0&&s!=null&&d(n,["uses"],s);const a=c(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&d(n,["bidiGenerateContentSetup"],tI(t,a));const l=c(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&d(n,["fieldMask"],l),r}function Yb(t,e){const n={},r=c(e,["config"]);return r!=null&&d(n,["config"],Kb(t,r,n)),n}function jb(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&d(e,["fileUri"],n);const r=c(t,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Xb(t){const e={},n=c(t,["id"]);n!=null&&d(e,["id"],n);const r=c(t,["args"]);r!=null&&d(e,["args"],r);const i=c(t,["name"]);if(i!=null&&d(e,["name"],i),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Zb(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&d(e,["enableWidget"],n),e}function Qb(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&d(e,["timeRangeFilter"],n),e}function eI(t,e){const n={},r=c(t,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const i=c(t,["responseModalities"]);e!==void 0&&i!=null&&d(e,["setup","generationConfig","responseModalities"],i);const o=c(t,["temperature"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","temperature"],o);const s=c(t,["topP"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig","topP"],s);const a=c(t,["topK"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","topK"],a);const l=c(t,["maxOutputTokens"]);e!==void 0&&l!=null&&d(e,["setup","generationConfig","maxOutputTokens"],l);const u=c(t,["mediaResolution"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","mediaResolution"],u);const h=c(t,["seed"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","seed"],h);const g=c(t,["speechConfig"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","speechConfig"],zm(g));const v=c(t,["thinkingConfig"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","thinkingConfig"],v);const m=c(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],m);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&d(e,["setup","systemInstruction"],Jb(Xn(S)));const N=c(t,["tools"]);if(e!==void 0&&N!=null){let Q=$a(N);Array.isArray(Q)&&(Q=Q.map(J=>iI(Wa(J)))),d(e,["setup","tools"],Q)}const R=c(t,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],rI(R));const _=c(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&d(e,["setup","inputAudioTranscription"],_);const A=c(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&d(e,["setup","outputAudioTranscription"],A);const C=c(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&d(e,["setup","realtimeInputConfig"],C);const k=c(t,["contextWindowCompression"]);e!==void 0&&k!=null&&d(e,["setup","contextWindowCompression"],k);const W=c(t,["proactivity"]);return e!==void 0&&W!=null&&d(e,["setup","proactivity"],W),n}function tI(t,e){const n={},r=c(e,["model"]);r!=null&&d(n,["setup","model"],Ct(t,r));const i=c(e,["config"]);return i!=null&&d(n,["config"],eI(i,n)),n}function nI(t){const e={},n=c(t,["mediaResolution"]);n!=null&&d(e,["mediaResolution"],n);const r=c(t,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const i=c(t,["executableCode"]);i!=null&&d(e,["executableCode"],i);const o=c(t,["fileData"]);o!=null&&d(e,["fileData"],jb(o));const s=c(t,["functionCall"]);s!=null&&d(e,["functionCall"],Xb(s));const a=c(t,["functionResponse"]);a!=null&&d(e,["functionResponse"],a);const l=c(t,["inlineData"]);l!=null&&d(e,["inlineData"],$b(l));const u=c(t,["text"]);u!=null&&d(e,["text"],u);const h=c(t,["thought"]);h!=null&&d(e,["thought"],h);const g=c(t,["thoughtSignature"]);g!=null&&d(e,["thoughtSignature"],g);const v=c(t,["videoMetadata"]);return v!=null&&d(e,["videoMetadata"],v),e}function rI(t){const e={},n=c(t,["handle"]);if(n!=null&&d(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iI(t){const e={},n=c(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["functionDeclarations"],h)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(t,["googleSearchRetrieval"]);r!=null&&d(e,["googleSearchRetrieval"],r);const i=c(t,["computerUse"]);i!=null&&d(e,["computerUse"],i);const o=c(t,["fileSearch"]);o!=null&&d(e,["fileSearch"],o);const s=c(t,["codeExecution"]);if(s!=null&&d(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=c(t,["googleMaps"]);a!=null&&d(e,["googleMaps"],Zb(a));const l=c(t,["googleSearch"]);l!=null&&d(e,["googleSearch"],Qb(l));const u=c(t,["urlContext"]);return u!=null&&d(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oI(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function sI(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=oI(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class aI extends fo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=Yb(this.apiClient,e);o=ke("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=sI(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lI(t,e){const n={},r=c(t,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),n}function uI(t){const e={},n=c(t,["config"]);return n!=null&&lI(n,e),e}function cI(t,e){const n={},r=c(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function fI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&cI(r,e),e}function dI(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function hI(t,e){const n={},r=c(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["customMetadata"],o)}const i=c(t,["chunkingConfig"]);return e!==void 0&&i!=null&&d(e,["chunkingConfig"],i),n}function pI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["name"],n);const r=c(t,["metadata"]);r!=null&&d(e,["metadata"],r);const i=c(t,["done"]);i!=null&&d(e,["done"],i);const o=c(t,["error"]);o!=null&&d(e,["error"],o);const s=c(t,["response"]);return s!=null&&d(e,["response"],gI(s)),e}function mI(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=c(t,["fileName"]);r!=null&&d(e,["fileName"],r);const i=c(t,["config"]);return i!=null&&hI(i,e),e}function gI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["parent"]);r!=null&&d(e,["parent"],r);const i=c(t,["documentName"]);return i!=null&&d(e,["documentName"],i),e}function vI(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function yI(t){const e={},n=c(t,["config"]);return n!=null&&vI(n,e),e}function wI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["fileSearchStores"],o)}return e}function _I(t,e){const n={},r=c(t,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const i=c(t,["displayName"]);e!==void 0&&i!=null&&d(e,["displayName"],i);const o=c(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),d(e,["customMetadata"],a)}const s=c(t,["chunkingConfig"]);return e!==void 0&&s!=null&&d(e,["chunkingConfig"],s),n}function xI(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&d(e,["_url","file_search_store_name"],n);const r=c(t,["config"]);return r!=null&&_I(r,e),e}function SI(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&d(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AI(t,e){const n={},r=c(t,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),n}function NI(t){const e={},n=c(t,["name"]);n!=null&&d(e,["_url","name"],n);const r=c(t,["config"]);return r!=null&&AI(r,e),e}function CI(t){const e={},n=c(t,["name"]);return n!=null&&d(e,["_url","name"],n),e}function EI(t,e){const n={},r=c(t,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const i=c(t,["pageToken"]);return e!==void 0&&i!=null&&d(e,["_query","pageToken"],i),n}function TI(t){const e={},n=c(t,["parent"]);n!=null&&d(e,["_url","parent"],n);const r=c(t,["config"]);return r!=null&&EI(r,e),e}function bI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&d(e,["sdkHttpResponse"],n);const r=c(t,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const i=c(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),d(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class II extends fo{constructor(e){super(),this.apiClient=e,this.list=async n=>new zs(uo.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CI(e);return o=ke("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=NI(e);i=ke("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=TI(e);return o=ke("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=bI(l),h=new aC;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kI extends fo{constructor(e,n=new II(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new zs(uo.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=uI(e);return o=ke("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dI(e);return o=ke("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=fI(e);i=ke("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yI(e);return o=ke("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=wI(l),h=new lC;return Object.assign(h,u),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xI(e);return o=ke("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=SI(l),h=new uC;return Object.assign(h,u),h})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mI(e);return o=ke("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=pI(l),h=new Dm;return Object.assign(h,u),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PI(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function LI(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function RI(t,e,n){const r={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=c(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&d(e,["displayName"],i),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=c(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const s=c(t,["learningRateMultiplier"]);if(s!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=c(t,["batchSize"]);e!==void 0&&a!=null&&d(e,["tuningTask","hyperparameters","batchSize"],a);const l=c(t,["learningRate"]);if(e!==void 0&&l!=null&&d(e,["tuningTask","hyperparameters","learningRate"],l),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function MI(t,e,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=c(t,["validationDataset"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec"],w5(m))}else if(i==="PREFERENCE_TUNING"){const m=c(t,["validationDataset"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec"],w5(m))}const o=c(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const s=c(t,["description"]);e!==void 0&&s!=null&&d(e,["description"],s);let a=c(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const m=c(t,["epochCount"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(a==="PREFERENCE_TUNING"){const m=c(t,["epochCount"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=c(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=c(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=c(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let h=c(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const m=c(t,["adapterSize"]);e!==void 0&&m!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(h==="PREFERENCE_TUNING"){const m=c(t,["adapterSize"]);e!==void 0&&m!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=c(t,["labels"]);e!==void 0&&g!=null&&d(e,["labels"],g);const v=c(t,["beta"]);return e!==void 0&&v!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function FI(t,e){const n={},r=c(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=c(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=c(t,["trainingDataset"]);o!=null&&$I(o);const s=c(t,["config"]);return s!=null&&RI(s,n),n}function DI(t,e){const n={},r=c(t,["baseModel"]);r!=null&&d(n,["baseModel"],r);const i=c(t,["preTunedModel"]);i!=null&&d(n,["preTunedModel"],i);const o=c(t,["trainingDataset"]);o!=null&&JI(o,n,e);const s=c(t,["config"]);return s!=null&&MI(s,n,e),n}function UI(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function BI(t,e){const n={},r=c(t,["name"]);return r!=null&&d(n,["_url","name"],r),n}function qI(t,e,n){const r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const s=c(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),r}function OI(t,e,n){const r={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&d(e,["_query","pageSize"],i);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const s=c(t,["filter"]);return e!==void 0&&s!=null&&d(e,["_query","filter"],s),r}function zI(t,e){const n={},r=c(t,["config"]);return r!=null&&qI(r,n),n}function HI(t,e){const n={},r=c(t,["config"]);return r!=null&&OI(r,n),n}function VI(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=c(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>n_(a))),d(n,["tuningJobs"],s)}return n}function GI(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["nextPageToken"]);i!=null&&d(n,["nextPageToken"],i);const o=c(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Fp(a))),d(n,["tuningJobs"],s)}return n}function WI(t,e){const n={},r=c(t,["name"]);r!=null&&d(n,["model"],r);const i=c(t,["name"]);return i!=null&&d(n,["endpoint"],i),n}function $I(t,e){const n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=c(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),d(n,["examples","examples"],i)}return n}function JI(t,e,n){const r={};let i=c(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=c(t,["gcsUri"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=c(t,["gcsUri"]);e!==void 0&&s!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=c(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=c(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=c(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function n_(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&d(n,["name"],i);const o=c(t,["state"]);o!=null&&d(n,["state"],Uw(o));const s=c(t,["createTime"]);s!=null&&d(n,["createTime"],s);const a=c(t,["tuningTask","startTime"]);a!=null&&d(n,["startTime"],a);const l=c(t,["tuningTask","completeTime"]);l!=null&&d(n,["endTime"],l);const u=c(t,["updateTime"]);u!=null&&d(n,["updateTime"],u);const h=c(t,["description"]);h!=null&&d(n,["description"],h);const g=c(t,["baseModel"]);g!=null&&d(n,["baseModel"],g);const v=c(t,["_self"]);return v!=null&&d(n,["tunedModel"],WI(v)),n}function Fp(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&d(n,["name"],i);const o=c(t,["state"]);o!=null&&d(n,["state"],Uw(o));const s=c(t,["createTime"]);s!=null&&d(n,["createTime"],s);const a=c(t,["startTime"]);a!=null&&d(n,["startTime"],a);const l=c(t,["endTime"]);l!=null&&d(n,["endTime"],l);const u=c(t,["updateTime"]);u!=null&&d(n,["updateTime"],u);const h=c(t,["error"]);h!=null&&d(n,["error"],h);const g=c(t,["description"]);g!=null&&d(n,["description"],g);const v=c(t,["baseModel"]);v!=null&&d(n,["baseModel"],v);const m=c(t,["tunedModel"]);m!=null&&d(n,["tunedModel"],m);const S=c(t,["preTunedModel"]);S!=null&&d(n,["preTunedModel"],S);const N=c(t,["supervisedTuningSpec"]);N!=null&&d(n,["supervisedTuningSpec"],N);const R=c(t,["preferenceOptimizationSpec"]);R!=null&&d(n,["preferenceOptimizationSpec"],R);const _=c(t,["tuningDataStats"]);_!=null&&d(n,["tuningDataStats"],_);const A=c(t,["encryptionSpec"]);A!=null&&d(n,["encryptionSpec"],A);const C=c(t,["partnerModelTuningSpec"]);C!=null&&d(n,["partnerModelTuningSpec"],C);const k=c(t,["customBaseModel"]);k!=null&&d(n,["customBaseModel"],k);const W=c(t,["experiment"]);W!=null&&d(n,["experiment"],W);const Q=c(t,["labels"]);Q!=null&&d(n,["labels"],Q);const J=c(t,["outputUri"]);J!=null&&d(n,["outputUri"],J);const G=c(t,["pipelineJob"]);G!=null&&d(n,["pipelineJob"],G);const B=c(t,["serviceAccount"]);B!=null&&d(n,["serviceAccount"],B);const K=c(t,["tunedModelDisplayName"]);K!=null&&d(n,["tunedModelDisplayName"],K);const P=c(t,["veoTuningSpec"]);return P!=null&&d(n,["veoTuningSpec"],P),n}function KI(t,e){const n={},r=c(t,["sdkHttpResponse"]);r!=null&&d(n,["sdkHttpResponse"],r);const i=c(t,["name"]);i!=null&&d(n,["name"],i);const o=c(t,["metadata"]);o!=null&&d(n,["metadata"],o);const s=c(t,["done"]);s!=null&&d(n,["done"],s);const a=c(t,["error"]);return a!=null&&d(n,["error"],a),n}function w5(t,e){const n={},r=c(t,["gcsUri"]);r!=null&&d(n,["validationDatasetUri"],r);const i=c(t,["vertexDatasetResource"]);return i!=null&&d(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YI extends fo{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new zs(uo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:bp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BI(e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>Fp(h))}else{const u=UI(e);return a=ke("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>n_(h))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HI(e);return a=ke("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=GI(h),v=new Z2;return Object.assign(v,g),v})}else{const u=zI(e);return a=ke("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),s.then(h=>{const g=VI(h),v=new Z2;return Object.assign(v,g),v})}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=LI(e);s=ke("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=PI(e);s=ke("{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=DI(e,e);return o=ke("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:l.headers},h})),i.then(l=>Fp(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=FI(e);return o=ke("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const h=u;return h.sdkHttpResponse={headers:l.headers},h})),i.then(l=>KI(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jI{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XI=1024*1024*8,ZI=3,QI=1e3,ek=2,Ef="x-goog-upload-status";async function tk(t,e,n){var r;const i=await r_(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ef])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function nk(t,e,n){var r;const i=await r_(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Ef])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Pw(o),a=new Um;return Object.assign(a,s),a}async function r_(t,e,n){var r,i;let o=0,s=0,a=new Ip(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(XI,o-s),h=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let g=0,v=QI;for(;g<ZI&&(a=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Ef]));)g++,await ik(v),v=v*ek;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Ef])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function rk(t){return{size:t.size,type:t.type}}function ik(t){return new Promise(e=>setTimeout(e,t))}class ok{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tk(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nk(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rk(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sk{create(e,n,r){return new ak(e,n,r)}}class ak{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _5="x-goog-api-key";class lk{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(_5)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_5,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uk="gl-node/";class ck{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=ON(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new lk(this.apiKey);this.apiClient=new Cb({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:uk+"web",uploader:new ok,downloader:new jI}),this.models=new Gb(this.apiClient),this.live=new Bb(this.apiClient,i,new sk),this.batches=new mE(this.apiClient),this.chats=new jE(this.models,this.apiClient),this.caches=new JE(this.apiClient),this.files=new sT(this.apiClient),this.operations=new Wb(this.apiClient),this.authTokens=new aI(this.apiClient),this.tunings=new YI(this.apiClient),this.fileSearchStores=new kI(this.apiClient)}}const fk="orKdUz8h5BfEiSh2TWYVMT61prODg4PWDySazIA".split("").reverse().join(""),dk=new ck({apiKey:fk}),hk=async t=>new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>{const o=r.result.split(",")[1];e({inlineData:{data:o,mimeType:t.type}})},r.onerror=n,r.readAsDataURL(t)}),pk=async(t,e,n,r,i,o)=>{const s=new Promise((l,u)=>{setTimeout(()=>u(new Error("Timeout: Die Analyse dauert zu lange.")),6e4)}),a=async()=>{try{const l=await Promise.all(t.map(hk)),u=i||o,g=`
Du bist ein Experte fr ${u?"historische Fotografien, Gemlde und visuelle Kunst":"historische Artefakte, Antiquitten und kulturgeschichtliche Objekte"}.
Du bist auerdem ein meisterhafter Geschichtenerzhler im Stil von Sherlock Holmes.

${u?`
WICHTIG: Dies ist eine ${i?"Fotografie":o?"Gemlde":"Artefakt"}! 
- Analysiere NICHT das physische Objekt (Foto/Gemlde selbst)
- Analysiere den BILDINHALT - was ist darauf zu sehen?
- Erzhle die Geschichte des DARGESTELLTEN (Personen, Orte, Szenen, Natur)
- Bei Landschaften: Geschichte der Natur/des Ortes
- Bei Personen: Geschichte der abgebildeten Person(en) oder des Moments
- Bei Ereignissen: Geschichte des Geschehens
`:`
WICHTIG: Dies ist ein physisches Artefakt/Objekt!
- Analysiere das OBJEKT selbst
- Erzhle die Geschichte des Objekts aus SEINER Perspektive
`}

DEINE AUFGABE:

1. FAKTISCHE ANALYSE (seris, przise, wissenschaftlich):
${u?`
   - Identifiziere was auf dem Bild zu sehen ist (Personen, Ort, Szene, Landschaft)
   - Datiere das Bild und die dargestellte Szene/Epoche
   - Beschreibe den historischen Kontext der dargestellten Szene
   - Erklre die Bedeutung dessen, was gezeigt wird
   - Historische Fakten der Zeitepoche einbinden!
`:`
   - Identifiziere das Objekt genau
   - Datiere es (Zeitraum, wenn mglich genaues Jahr/Jahrzehnt)
   - Bestimme die ursprngliche Verwendung/Zweck
   - Beschreibe die historische Entwicklung
   - Bewerte die heutige Bekanntheit (bekannt/vergessen/verdrngt)
   - Nenne ggf. moderne Ersatzprodukte
`}

2. SHERLOCK HOLMES GESCHICHTE (ICH-Form):
${u?`
   - Erzhle aus der Perspektive des DARGESTELLTEN (Person, Ort, Moment)
   - Bei Landschaft: "Ich bin das Trauntal und habe Jahrhunderte gesehen..."
   - Bei Person: "Ich bin ein Soldat im Jahr 1943 und stehe hier..."
   - Bei Szene: "Ich bin dieser Moment, als..."
   - Stil: Detailliert, dramatisch, spannend wie Sherlock Holmes
   - Fokus: Das Leben/die Geschichte dessen was im Bild zu sehen ist
   - WICHTIG: Historische Fakten der Epoche einbauen!
   - Authentisch bleiben - keine erfundenen Details!
`:`
   - Erzhle aus der Perspektive des Objekts
   - Stil: Detailliert, dramatisch, spannend wie Sherlock Holmes
   - Atmosphre: Viktorianisch, geheimnisvoll, eloquent
   - Fokus: Ein prgendes Erlebnis aus dem "Leben" des Objekts
   - WICHTIG: Das Objekt spricht selbst! ("Ich bin...", "Ich erinnere mich...")
`}
   - Lnge: 300-500 Wrter
   - Sprache: Gehobenes Deutsch, bildhaft

3. SHERLOCK-STYLE DEDUKTIONEN (deductions):
   - 3-5 kurze Hinweise, wie du ${u?"das Bild und seinen Inhalt":"das Objekt"} identifiziert hast
   - Format: "Die XY deutet auf Z hin..."
   - Beispiel: "Die ${u?"Uniformen deuten auf Wehrmacht 1943 hin":"Patina weist auf Messinglegierung hin"}  ${u?"Zweiter Weltkrieg":"19. Jahrhundert"}"

4. DETAIL-HIGHLIGHTS (detailHighlights):
   - 2-4 besondere Details ${u?"im Bild":"am Objekt"}
   - ${u?"Kleidung, Architektur, Vegetation, Gesichtsausdrcke":"Gravuren, Materialien, Verzierungen, Abnutzungsspuren"}
   - Beispiel: "${u?"Die Kirchturmspitze im Hintergrund deutet auf Vorchdorf hin":"Handgravierte Initialen F.M. auf der Rckseite"}"

5. ZUSAMMENFASSUNG (summary):
   - 3-4 Stze zum Abschluss der Geschichte
   - Fazit, Bedeutung heute, was wir lernen knnen
   - Einfache, klare Sprache

6. ZEITSTRAHL (timeline) - OPTIONAL:
   - 4-6 wichtige Meilensteine vom Objekt
   - Jahr (Zahl oder String), Label, Beschreibung, Emoji
   - Von Herstellung bis heute
   - Beispiel: 1850="Herstellung", 1900="Bltezeit", 2000="Verdrngt"

7. SELTENHEITSBEWERTUNG (rarityScores) - EMPFOHLEN:
   - Seltenheit (0-10): Wie selten ist es heute?
   - Erhaltung (0-10): Zustand des Objekts
   - Historischer Wert (0-10): Kulturelle Bedeutung
   - Overall: Durchschnitt der drei Werte

8. MODERNER VERGLEICH (modernComparison) - OPTIONAL:
   - Name des modernen quivalents (z.B. "Smartwatch")
   - 4-5 Vergleichspunkte mit Kategorie, historisch/modern, Icon
   - Kategorien: Herstellung, Funktion, Langlebigkeit, Preis, etc.

9. SOZIALE DIMENSION (socialContext) - EMPFOHLEN:
   - Geschlechterrollen: War dies typische Mnner-/Frauenarbeit? (NUR wenn dokumentiert!)
   - Soziale Schicht: Wer nutzte/fertigte dies? (Arbeiter, Brger, Adel)
   - WICHTIG: Nur bei sicheren historischen Fakten! Bei Unsicherheit weglassen.

10. WIRTSCHAFTLICHE DIMENSION (economicContext) - OPTIONAL:
    - Historischer Preis: Was kostete es damals? (NUR wenn dokumentiert!)
    - Moderne Kaufkraft: Heutiger Gegenwert in Euro
    - KRITISCH: Keine Spekulationen! Nur bei bekannten Preisen.

11. BILDANALYSE (visualAnalysis) - NUR bei Fotografie/Gemlde:
    - composition: Komposition, Licht, Perspektive
    - clothing: Was verrt Kleidung ber Status/Zeit?
    - background: Architektur, Umgebung im Hintergrund
    - invisibleContext.missing: Was fehlt im Bild? (z.B. "Keine Frauen sichtbar")
    - invisibleContext.creator: Wer fotografierte/malte und warum?
    - invisibleContext.purpose: Zweck des Bildes (Dokumentation, Propaganda, Kunst)
    - representationChange: Darstellungswandel ber Zeit (NUR wenn relevant!)
      * Beispiel: "Fabrikarbeiter: 1900 heroisch, 1930er Propaganda, heute dokumentarisch"

${e||r?`KONTEXT VOM BENUTZER: ${[e,r].filter(Boolean).join(" | ")}`:""}
${n?"WICHTIG: Dieses Artefakt stammt aus STERREICH. Verwende sterreichische Orte (Wien, Salzburg, Linz, Vorchdorf) und lokale Geschichte in deiner Erzhlung!":""}
${r&&r.includes("Herstellungsort:")?`
KRITISCH: Der Benutzer hat EXPLIZIT Herstellungsort und/oder Hersteller angegeben!
- Diese Informationen sind FAKTEN und mssen in deine Deduktionen einflieen
- Nutze diese Info fr przise Identifikation
- Recherchiere im Kontext dieser Angaben (z.B. "Vorchdorf Krumhuber"  bekannter Uhrmacher)
`:""}

SICHERHEITSNETZ - ABSOLUT KRITISCH:
- Gib KEINE Informationen, wenn du UNSICHER bist!
- KEINE erfundenen Zahlen, Namen oder Daten!
- Bei allgemeinem Wissen: "Typischerweise..." oder "Im 19. Jahrhundert war es blich..."
- Bei Spekulation: Feld einfach WEGLASSEN
- socialContext/economicContext/visualAnalysis sind OPTIONAL - nur ausfllen wenn sichere Fakten!

KRITISCHE REGELN:
- NUR faktisch korrekte Informationen! Keine Erfindungen!
- Bei Unsicherheit: Gib 2-3 plausible Optionen unter "needsClarification"
- Die Geschichte muss mit der historischen Funktion bereinstimmen
- Sei kreativ in der Erzhlweise, aber NICHT bei den Fakten!

${e?`KONTEXT VOM BENUTZER: ${e}`:""}

Gib JSON zurck in diesem Format:
{
  "identity": {
    "name": "Name des Objekts",
    "category": "Kategorie (z.B. Werkzeug, Haushaltsgegenstand, etc.)",
    "timePeriod": "Zeitraum (z.B. '19. Jahrhundert')",
    "creationDate": "Genauere Datierung wenn mglich",
    "originalPurpose": "Ursprnglicher Verwendungszweck"
  },
  "evolution": {
    "historicalChanges": ["nderung 1 ber die Zeit", "nderung 2"],
    "modernStatus": "bekannt" | "vergessen" | "verdrngt",
    "replacedBy": "Modernes Ersatzprodukt (optional)",
    "culturalSignificance": "Kulturelle/historische Bedeutung"
  },
  "story": {
    "title": "Spannender Titel fr die Geschichte",
    "narrative": "Die vollstndige Geschichte in ICH-Form (300-500 Wrter)",
    "keyMoments": ["Wichtiger Moment 1", "Moment 2"],
    "deductions": ["Sherlock-Style Hinweis 1", "Hinweis 2"],
    "detailHighlights": ["Besonderes Detail 1", "Detail 2"],
    "summary": "3-4 Stze Zusammenfassung und Fazit der Geschichte"
  },
  "timeline": [
    {
      "year": 1850,
      "label": "Herstellung",
      "description": "Kurze Beschreibung",
      "icon": ""
    }
  ],
  "rarityScores": {
    "rarity": 8,
    "condition": 9,
    "historicalValue": 7,
    "overall": 8.0
  },
  "modernComparison": {
    "modernName": "Smartwatch",
    "comparisons": [
      {
        "category": "Herstellung",
        "historical": "Handarbeit, Einzelstck",
        "modern": "Massenproduktion",
        "icon": ""
      }
    ]
  },
  "socialContext": {
    "genderRole": "Typische Mnnerarbeit im Handwerk",
    "socialClass": "Brgerliche Handwerker und Fabrikanten"
  },
  "economicContext": {
    "historicalPrice": "ca. 5-8 Gulden (1890)",
    "modernEquivalent": "heute ca. 50-80"
  },
  "visualAnalysis": {
    "composition": "Zentrale Perspektive, starkes Seitenlicht",
    "clothing": "Arbeiterkleidung deutet auf niedrige soziale Schicht",
    "background": "Fabrikhalle mit Dampfmaschinen im Hintergrund",
    "invisibleContext": {
      "missing": "Keine Frauen oder Kinder sichtbar",
      "creator": "Vermutlich Fabrikfotograf fr Dokumentation",
      "purpose": "Werbezweck und Produktdokumentation"
    },
    "representationChange": "Fabrikarbeiter 1900: heroisch dargestellt, 1930er: propagandistisch, heute: dokumentarisch"
  },
  "needsClarification": {
    "question": "Was genau mchtest du wissen?",
    "options": ["Option 1", "Option 2", "Option 3"]
  },
  "confidence": 85
}

WICHTIG: Stelle sicher, dass das JSON valide ist! Keine trailing commas, alle Strings in Anfhrungszeichen.
`,S=(await dk.models.generateContent({model:"gemini-2.5-flash",contents:{role:"user",parts:[...l,{text:"Analysiere dieses Artefakt und erzhle seine Geschichte."}]},config:{systemInstruction:g,temperature:.7}})).text||"{}";console.log("AI Response:",S);let N;try{const R=S.match(/```json\s*([\s\S]*?)\s*```/)||S.match(/```\s*([\s\S]*?)\s*```/),_=R?R[1]:S;N=JSON.parse(_)}catch(R){console.error("JSON parse failed:",R);const _=S.indexOf("{"),A=S.lastIndexOf("}")+1;if(_>=0&&A>_){const C=S.substring(_,A);N=JSON.parse(C)}else throw new Error("KI-Antwort konnte nicht verarbeitet werden")}if(!N.identity||!N.evolution||!N.story)throw new Error("Ungltiges Antwortformat von der KI");return N}catch(l){throw console.error("Artifact analysis failed:",l),l}};return Promise.race([a(),s])};var Nr=(t=>(t.IDLE="IDLE",t.ANALYZING="ANALYZING",t.CLARIFICATION="CLARIFICATION",t.RESULTS="RESULTS",t.ERROR="ERROR",t))(Nr||{});function mk(){const[t,e]=dn.useState(Nr.IDLE),[n,r]=dn.useState([]),[i,o]=dn.useState(null),[s,a]=dn.useState(""),[l,u]=dn.useState(!1),[h,g]=dn.useState(!1),[v,m]=dn.useState(!1),[S,N]=dn.useState(""),[R,_]=dn.useState(""),A=async J=>{r(J),await C(J,"")},C=async(J,G)=>{a(""),e(Nr.ANALYZING);const B=S?`Herstellungsort: ${S}`:"",K=R?`Hersteller/Verwendung: ${R}`:"",P=[B,K].filter(Boolean).join(". ");try{const D=await pk(J,G,l,P,h,v);o(D),D.needsClarification?e(Nr.CLARIFICATION):e(Nr.RESULTS)}catch(D){console.error(D),a(D instanceof Error?D.message:"Die Analyse konnte nicht durchgefhrt werden. Bitte versuchen Sie es erneut."),e(Nr.ERROR)}},k=async J=>{const G=`Der Benutzer hat gewhlt: ${J}`;await C(n,G)},W=()=>{e(Nr.IDLE),r([]),o(null)},Q=()=>{r([]),o(null),a(""),e(Nr.IDLE)};return M.jsxs("div",{className:"min-h-screen bg-museum-paper flex flex-col",children:[M.jsx(D3,{}),M.jsxs("main",{className:"flex-grow container mx-auto max-w-7xl py-8",children:[t===Nr.IDLE&&M.jsxs("div",{className:"fade-in",children:[M.jsxs("div",{className:"max-w-3xl mx-auto text-center py-12 px-4",children:[M.jsx("div",{className:"inline-block px-4 py-2 border border-museum-gold/30 rounded-full bg-amber-50/50 mb-4",children:M.jsx("p",{className:"text-museum-sage text-sm opacity-80 pl-4 border-l border-museum-sage/30",children:"Ein KI-Experiment des Heimatvereins Vorchdorf (v5.1)"})}),M.jsxs("h2",{className:"text-4xl md:text-6xl font-serif text-museum-charcoal leading-tight mb-4",children:["Jedes Objekt ",M.jsx("br",{}),M.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-700 to-amber-600 italic font-bold",children:"hat eine Geschichte"})]}),M.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-8",children:"Lade ein Bild deines Artefakts hoch und erfahre seine spannende Geschichte  erzhlt aus seiner eigenen Perspektive im Stil von Sherlock Holmes."})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsx(U3,{onImagesSelected:A}),M.jsxs("div",{className:"bg-white rounded-lg border-2 border-museum-stone/20 hover:border-museum-gold/50 transition-colors p-4",children:[M.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Art des Uploads"}),M.jsxs("div",{className:"flex flex-wrap gap-4",children:[M.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[M.jsx("input",{type:"checkbox",checked:l,onChange:J=>u(J.target.checked),className:"w-4 h-4 text-museum-gold rounded focus:ring-museum-gold"}),M.jsx("span",{className:"text-museum-charcoal font-medium text-sm",children:" Aus sterreich"})]}),M.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[M.jsx("input",{type:"checkbox",checked:h,onChange:J=>g(J.target.checked),className:"w-4 h-4 text-museum-gold rounded focus:ring-museum-gold"}),M.jsx("span",{className:"text-museum-charcoal font-medium text-sm",children:" Fotografie"})]}),M.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[M.jsx("input",{type:"checkbox",checked:v,onChange:J=>m(J.target.checked),className:"w-4 h-4 text-museum-gold rounded focus:ring-museum-gold"}),M.jsx("span",{className:"text-museum-charcoal font-medium text-sm",children:" Gemlde"})]})]})]}),M.jsxs("div",{className:"bg-white rounded-lg border-2 border-museum-stone/20 hover:border-museum-gold/50 transition-colors p-4",children:[M.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Zustzliche Informationen (optional)"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Herstellungsort"}),M.jsx("input",{type:"text",value:S,onChange:J=>N(J.target.value),className:"w-full px-3 py-2 border border-museum-stone/30 rounded-lg focus:ring-2 focus:ring-museum-gold focus:border-transparent text-sm",placeholder:"z.B. Vorchdorf, Wien, Salzburg..."})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Hersteller / Verwendung"}),M.jsx("input",{type:"text",value:R,onChange:J=>_(J.target.value),className:"w-full px-3 py-2 border border-museum-stone/30 rounded-lg focus:ring-2 focus:ring-museum-gold focus:border-transparent text-sm",placeholder:"z.B. Krumhuber, Werkstatt Schmidt..."})]})]})]})]})]}),t===Nr.ANALYZING&&M.jsx(B3,{}),t===Nr.CLARIFICATION&&(i==null?void 0:i.needsClarification)&&M.jsx(q3,{clarification:i.needsClarification,onOptionSelected:k,onCancel:W}),t===Nr.RESULTS&&i&&M.jsx(DN,{analysis:i,images:n,onReset:Q}),t===Nr.ERROR&&M.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[M.jsx("div",{className:"bg-red-50 p-6 rounded-full mb-4 border-4 border-red-200",children:M.jsx(E3,{size:48,className:"text-red-600"})}),M.jsx("h3",{className:"text-2xl font-serif font-bold text-museum-charcoal mb-2",children:"Ein Fehler ist aufgetreten"}),M.jsx("p",{className:"text-museum-stone max-w-md mb-8",children:s}),M.jsx("button",{onClick:Q,className:"px-6 py-3 bg-museum-charcoal text-white rounded-lg hover:bg-museum-charcoal/90 transition-colors font-semibold",children:"Erneut versuchen"})]})]}),M.jsx("footer",{className:"bg-white border-t border-museum-stone/20 py-6 mt-auto",children:M.jsxs("div",{className:"container mx-auto text-center",children:[M.jsxs("p",{className:"text-sm text-gray-700",children:[" ",new Date().getFullYear()," Was bin ich?  Powered by"," ",M.jsx("span",{className:"font-semibold text-museum-charcoal",children:"Heimatverein Vorchdorf"})]}),M.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"KI-gesttzte Artefakt-Analyse mit historischem Storytelling"})]})})]})}const i_=document.getElementById("root");if(!i_)throw new Error("Could not find root element");const gk=Sh.createRoot(i_);gk.render(M.jsx(sx.StrictMode,{children:M.jsx(mk,{})}));export{Lt as _,yk as c,G_ as g};
